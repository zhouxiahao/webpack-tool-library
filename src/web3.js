"use strict";function _templateObject130(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="','" .isError="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-platform-selection .isMobile="','" .isDesktop="','" .isRetry="','"><wcm-button .onClick="','" .iconRight="','">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>']);return _templateObject130=function(){return e},e}function _templateObject129(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}"]);return _templateObject129=function(){return e},e}function _templateObject128(){var e=_taggedTemplateLiteral(["<wcm-spinner></wcm-spinner>"]);return _templateObject128=function(){return e},e}function _templateObject127(){var e=_taggedTemplateLiteral(['<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>']);return _templateObject127=function(){return e},e}function _templateObject126(){var e=_taggedTemplateLiteral(['<wcm-wallet-button imageId="','" name="','" walletId="','" .onClick="','"></wcm-wallet-button>']);return _templateObject126=function(){return e},e}function _templateObject125(){var e=_taggedTemplateLiteral(["",""]);return _templateObject125=function(){return e},e}function _templateObject124(){var e=_taggedTemplateLiteral(['<wcm-modal-header><wcm-search-input .onChange="','"></wcm-search-input></wcm-modal-header><wcm-modal-content class="','"><div class="wcm-grid">'," "," ",'</div><div class="wcm-placeholder-block">'," ","</div></wcm-modal-content>"]);return _templateObject124=function(){return e},e}function _templateObject123(){var e=_taggedTemplateLiteral(["wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}"]);return _templateObject123=function(){return e},e}function _templateObject122(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="Scan the code" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>']);return _templateObject122=function(){return e},e}function _templateObject121(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="','" imageId="','"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-platform-selection .isDesktop="','" .isWeb="','"></wcm-platform-selection></wcm-info-footer>']);return _templateObject121=function(){return e},e}function _templateObject120(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}"]);return _templateObject120=function(){return e},e}function _templateObject119(){var e=_taggedTemplateLiteral(['<wcm-text color="secondary" variant="small-thin">Still doesn\'t work? <span tabindex="0" @click="','">Try this alternate link</span></wcm-text>']);return _templateObject119=function(){return e},e}function _templateObject118(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="Tap \'Open\' to continueâ€¦" .isError="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="','" .isRetry="','"><wcm-button .onClick="','" .iconRight="','">Retry</wcm-button></wcm-platform-selection>','</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image><wcm-text>','</wcm-text></div><wcm-button .iconRight="','" .onClick="','" variant="ghost">App Store</wcm-button></wcm-info-footer>']);return _templateObject118=function(){return e},e}function _templateObject117(){var e=_taggedTemplateLiteral(["wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}"]);return _templateObject117=function(){return e},e}function _templateObject116(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="Not Detected" .isStale="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-button .onClick="','" .iconLeft="','">Download</wcm-button></wcm-info-footer>']);return _templateObject116=function(){return e},e}function _templateObject115(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}"]);return _templateObject115=function(){return e},e}function _templateObject114(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="','" .isError="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-platform-selection .isMobile="','" .isWeb="','" .isRetry="','"><wcm-button .onClick="','" .iconRight="','">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>']);return _templateObject114=function(){return e},e}function _templateObject113(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}"]);return _templateObject113=function(){return e},e}function _templateObject112(){var e=_taggedTemplateLiteral(["","<wcm-legal-notice></wcm-legal-notice>"]);return _templateObject112=function(){return e},e}function _templateObject111(){var e=_taggedTemplateLiteral(["<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>"]);return _templateObject111=function(){return e},e}function _templateObject110(){var e=_taggedTemplateLiteral(["<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>"]);return _templateObject110=function(){return e},e}function _templateObject109(){var e=_taggedTemplateLiteral(["<wcm-android-wallet-selection></wcm-android-wallet-selection>"]);return _templateObject109=function(){return e},e}function _templateObject108(){var e=_taggedTemplateLiteral(["<wcm-spinner></wcm-spinner>"]);return _templateObject108=function(){return e},e}function _templateObject107(){var e=_taggedTemplateLiteral(['<wcm-qrcode size="','" uri="','" walletId="','" imageId="','"></wcm-qrcode>']);return _templateObject107=function(){return e},e}function _templateObject106(){var e=_taggedTemplateLiteral(['<div class="wcm-qr-container">',"</div>"]);return _templateObject106=function(){return e},e}function _templateObject105(){var e=_taggedTemplateLiteral([".wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}"]);return _templateObject105=function(){return e},e}function _templateObject104(){var e=_taggedTemplateLiteral(['<img crossorigin="anonymous" src="','">']);return _templateObject104=function(){return e},e}function _templateObject103(){var e=_taggedTemplateLiteral(['<img crossorigin="anonymous" src="','">']);return _templateObject103=function(){return e},e}function _templateObject102(){var e=_taggedTemplateLiteral(['<button @click="','"><div class="wcm-icons">'," ",'</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>']);return _templateObject102=function(){return e},e}function _templateObject101(){var e=_taggedTemplateLiteral(["button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}"]);return _templateObject101=function(){return e},e}function _templateObject100(){var e=_taggedTemplateLiteral(['<wcm-button .onClick="','" .iconLeft="','" variant="outline">Web</wcm-button>']);return _templateObject100=function(){return e},e}function _templateObject99(){var e=_taggedTemplateLiteral(['<wcm-button .onClick="','" .iconLeft="','" variant="outline">Desktop</wcm-button>']);return _templateObject99=function(){return e},e}function _templateObject98(){var e=_taggedTemplateLiteral(['<wcm-button .onClick="','" .iconLeft="','" variant="outline">Mobile</wcm-button>']);return _templateObject98=function(){return e},e}function _templateObject97(){var e=_taggedTemplateLiteral(["<slot></slot>"]);return _templateObject97=function(){return e},e}function _templateObject96(){var e=_taggedTemplateLiteral(["<div>"," "," "," ","</div>"]);return _templateObject96=function(){return e},e}function _templateObject95(){var e=_taggedTemplateLiteral(["div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}"]);return _templateObject95=function(){return e},e}function _templateObject94(){var e=_taggedTemplateLiteral(['<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>']);return _templateObject94=function(){return e},e}function _templateObject93(){var e=_taggedTemplateLiteral(['<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="','" @click="','" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">',"</div></div>"]);return _templateObject93=function(){return e},e}function _templateObject92(){var e=_taggedTemplateLiteral([":host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}"]);return _templateObject92=function(){return e},e}function _templateObject91(){var e=_taggedTemplateLiteral(["<wcm-view-all-wallets-button></wcm-view-all-wallets-button>"]);return _templateObject91=function(){return e},e}function _templateObject90(){var e=_taggedTemplateLiteral(["<wcm-modal-content><div>"," ","</div></wcm-modal-content>"]);return _templateObject90=function(){return e},e}function _templateObject89(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="Connect your wallet" .onAction="','" .actionIcon="','"></wcm-modal-header>',""]);return _templateObject89=function(){return e},e}function _templateObject88(){var e=_taggedTemplateLiteral(["div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}"]);return _templateObject88=function(){return e},e}function _templateObject87(){var e=_taggedTemplateLiteral(['<a href="','" target="_blank" rel="noopener noreferrer">Privacy Policy</a>']);return _templateObject87=function(){return e},e}function _templateObject86(){var e=_taggedTemplateLiteral(['<a href="','" target="_blank" rel="noopener noreferrer">Terms of Service</a>']);return _templateObject86=function(){return e},e}function _templateObject85(){var e=_taggedTemplateLiteral(['<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app\'s '," "," ","</wcm-text></div>"]);return _templateObject85=function(){return e},e}function _templateObject84(){var e=_taggedTemplateLiteral(["div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}"]);return _templateObject84=function(){return e},e}function _templateObject83(){var e=_taggedTemplateLiteral(["<wcm-view-all-wallets-button></wcm-view-all-wallets-button>"]);return _templateObject83=function(){return e},e}function _templateObject82(){var e=_taggedTemplateLiteral(['<wcm-modal-footer><div class="wcm-desktop-title">','<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">'," ","</div></wcm-modal-footer>"]);return _templateObject82=function(){return e},e}function _templateObject81(){var e=_taggedTemplateLiteral(['<wcm-modal-header .border="','" title="Connect your wallet" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">','<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">','<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>',""]);return _templateObject81=function(){return e},e}function _templateObject80(){var e=_taggedTemplateLiteral([".wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}"]);return _templateObject80=function(){return e},e}function _templateObject79(){var e=_taggedTemplateLiteral(['<wcm-wallet-button name="','" walletId="','" imageId="','" .recent="','" .onClick="','"></wcm-wallet-button>']);return _templateObject79=function(){return e},e}function _templateObject78(){var e=_taggedTemplateLiteral(['<wcm-wallet-button name="','" walletId="','" imageId="','" .onClick="','"></wcm-wallet-button>']);return _templateObject78=function(){return e},e}function _templateObject77(){var e=_taggedTemplateLiteral(['<wcm-wallet-button walletId="','" name="','" .onClick="','"></wcm-wallet-button>']);return _templateObject77=function(){return e},e}function _templateObject76(){var e=_taggedTemplateLiteral(['<div class="','">','<wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="','">',"</wcm-text>"]);return _templateObject76=function(){return e},e}function _templateObject75(){var e=_taggedTemplateLiteral(['<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="','"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ','" stroke-dashoffset="','"></use></svg>']);return _templateObject75=function(){return e},e}function _templateObject74(){var e=_taggedTemplateLiteral(["@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}"]);return _templateObject74=function(){return e},e}function _templateObject73(){var e=_taggedTemplateLiteral(['<wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image>']);return _templateObject73=function(){return e},e}function _templateObject72(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="Connect your wallet" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><div class="wcm-title">','<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">','</div><wcm-button-big @click="','"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>']);return _templateObject72=function(){return e},e}function _templateObject71(){var e=_taggedTemplateLiteral(["@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}"]);return _templateObject71=function(){return e},e}function _templateObject70(){var e=_taggedTemplateLiteral(['<div><img crossorigin="anonymous" src="','" alt="','"></div>']);return _templateObject70=function(){return e},e}function _templateObject69(){var e=_taggedTemplateLiteral(["",""]);return _templateObject69=function(){return e},e}function _templateObject68(){var e=_taggedTemplateLiteral([":host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}"]);return _templateObject68=function(){return e},e}function _templateObject67(){var e=_taggedTemplateLiteral(['<button @click="','"><div><wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image><wcm-text variant="xsmall-regular">',"</wcm-text>","</div></button>"]);return _templateObject67=function(){return e},e}function _templateObject66(){var e=_taggedTemplateLiteral(['<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>']);return _templateObject66=function(){return e},e}function _templateObject65(){var e=_taggedTemplateLiteral(['<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>']);return _templateObject65=function(){return e},e}function _templateObject64(){var e=_taggedTemplateLiteral(["button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}"]);return _templateObject64=function(){return e},e}function _templateObject63(){var e=_taggedTemplateLiteral(['<span><slot class="','"></slot></span>']);return _templateObject63=function(){return e},e}function _templateObject62(){var e=_taggedTemplateLiteral(["span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}"]);return _templateObject62=function(){return e},e}function _templateObject61(){var e=_taggedTemplateLiteral(['<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>']);return _templateObject61=function(){return e},e}function _templateObject60(){var e=_taggedTemplateLiteral(["@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}"]);return _templateObject60=function(){return e},e}function _templateObject59(){var e=_taggedTemplateLiteral(['<input type="text" @input="','" placeholder="Search wallets"> ',""]);return _templateObject59=function(){return e},e}function _templateObject58(){var e=_taggedTemplateLiteral([":host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}"]);return _templateObject58=function(){return e},e}function _templateObject57(){var e=_taggedTemplateLiteral(['<wcm-wallet-image walletId="','" imageId="','" imageUrl="','"></wcm-wallet-image>']);return _templateObject57=function(){return e},e}function _templateObject56(){var e=_taggedTemplateLiteral(['<div style="','" class="','">'," ","</div>"]);return _templateObject56=function(){return e},e}function _templateObject55(){var e=_taggedTemplateLiteral(['<svg height="','" width="','">',"</svg>"]);return _templateObject55=function(){return e},e}function _templateObject54(){var e=_taggedTemplateLiteral(["@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}"]);return _templateObject54=function(){return e},e}function _templateObject53(){var e=_taggedTemplateLiteral(['<line x1="','" x2="','" y1="','" y2="','" stroke="','" stroke-width="','" stroke-linecap="round">']);return _templateObject53=function(){return e},e}function _templateObject52(){var e=_taggedTemplateLiteral(['<circle cx="','" cy="','" fill="','" r="','">']);return _templateObject52=function(){return e},e}function _templateObject51(){var e=_taggedTemplateLiteral(['<rect fill="','" height="','" rx="','" ry="','" width="','" x="','" y="','">']);return _templateObject51=function(){return e},e}function _templateObject50(){var e=_taggedTemplateLiteral(['<div class="','">'," ",'<wcm-text variant="small-regular">',"</wcm-text></div>"]);return _templateObject50=function(){return e},e}function _templateObject49(){var e=_taggedTemplateLiteral(["div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}"]);return _templateObject49=function(){return e},e}function _templateObject48(){var e=_taggedTemplateLiteral(['<div class="wcm-router"><div class="wcm-content">',"</div></div>"]);return _templateObject48=function(){return e},e}function _templateObject47(){var e=_taggedTemplateLiteral(["<div>Not Found</div>"]);return _templateObject47=function(){return e},e}function _templateObject46(){var e=_taggedTemplateLiteral(["<wcm-install-wallet-view></wcm-install-wallet-view>"]);return _templateObject46=function(){return e},e}function _templateObject45(){var e=_taggedTemplateLiteral(["<wcm-qrcode-view></wcm-qrcode-view>"]);return _templateObject45=function(){return e},e}function _templateObject44(){var e=_taggedTemplateLiteral(["<wcm-wallet-explorer-view></wcm-wallet-explorer-view>"]);return _templateObject44=function(){return e},e}function _templateObject43(){var e=_taggedTemplateLiteral(["<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>"]);return _templateObject43=function(){return e},e}function _templateObject42(){var e=_taggedTemplateLiteral(["<wcm-web-connecting-view></wcm-web-connecting-view>"]);return _templateObject42=function(){return e},e}function _templateObject41(){var e=_taggedTemplateLiteral(["<wcm-mobile-connecting-view></wcm-mobile-connecting-view>"]);return _templateObject41=function(){return e},e}function _templateObject40(){var e=_taggedTemplateLiteral(["<wcm-desktop-connecting-view></wcm-desktop-connecting-view>"]);return _templateObject40=function(){return e},e}function _templateObject39(){var e=_taggedTemplateLiteral(["<wcm-connect-wallet-view></wcm-connect-wallet-view>"]);return _templateObject39=function(){return e},e}function _templateObject38(){var e=_taggedTemplateLiteral([".wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}"]);return _templateObject38=function(){return e},e}function _templateObject37(){var e=_taggedTemplateLiteral(['<header class="','">'," "," ","</header>"]);return _templateObject37=function(){return e},e}function _templateObject36(){var e=_taggedTemplateLiteral(["<slot></slot>"]);return _templateObject36=function(){return e},e}function _templateObject35(){var e=_taggedTemplateLiteral(['<wcm-text variant="big-bold">',"</wcm-text>"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral(['<button class="wcm-action-btn" @click="','">',"</button>"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral(['<button class="wcm-back-btn" @click="','">',"</button>"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral(["header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral(["<footer><slot></slot></footer>"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral(["footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral(["<main><slot></slot></main>"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral(["main{padding:20px;padding-top:0;width:100%}"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral(['<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">',' <button @click="','">',"</button></div>"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([".wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>']);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral(['<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>']);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral(['<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>']);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral(['<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>']);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>']);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral(['<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>']);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral(['<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>']);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral(['<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>']);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral(['<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>']);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>']);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>']);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral(['<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>']);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral(['<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>']);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral(['<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>']);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral(['<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>']);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral(['<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>']);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral(['<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>']);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral(['<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>']);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral(["<div><slot></slot></div>"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral(['<button ?disabled="','" class="','"><slot></slot></button>']);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral(['<button class="','" ?disabled="','" @click="','">','<wcm-text variant="small-regular" color="','"><slot></slot></wcm-text>',"</button>"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral(["button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral(["*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ownKeys(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=_superPropBase(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _wrapNativeSuper(e){var r="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(n,r.prototype),n}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function asyncGeneratorStep(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function i(e){asyncGeneratorStep(n,t,r,i,o,"next",e)}function o(e){asyncGeneratorStep(n,t,r,i,o,"throw",e)}i(void 0)})}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}!function(){var r={5849:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(5066);function n(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function s(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function p(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),l(e/4294967296>>>0,t,r),l(e>>>0,t,r+4),t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),f(e>>>0,t,r),f(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=n,t.writeInt16BE=n,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=o,t.readUint32BE=s,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=l,t.writeInt32BE=l,t.writeUint32LE=f,t.writeInt32LE=f,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),t=o(e,t+4);return 4294967296*r+t-4294967296*(t>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*s(e,t)+s(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r},t.writeUint64BE=p,t.writeInt64BE=p,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;r<=o;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!a.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,o=e/8+n-1;n<=o;o--)r[o]=t/i&255,i*=256;return r},t.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!a.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+e/8;o++)r[o]=t/i&255,i*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},8842:function(e,t,r){var s=r(4034),c=r(998),u=r(3327),l=r(5849),f=r(4115);t.Cv=32,t.WH=12,t.pg=16;var p=new Uint8Array(16),r=(n.prototype.seal=function(e,t,r,n){if(16<e.length)throw new Error("ChaCha20Poly1305: incorrect nonce length");var i=new Uint8Array(16);i.set(e,i.length-e.length);var o=new Uint8Array(32);s.stream(this._key,i,o,4);var a,e=t.length+this.tagLength;if(n){if(n.length!==e)throw new Error("ChaCha20Poly1305: incorrect destination length");a=n}else a=new Uint8Array(e);return s.streamXOR(this._key,i,t,a,4),this._authenticate(a.subarray(a.length-this.tagLength,a.length),o,a.subarray(0,a.length-this.tagLength),r),u.wipe(i),a},n.prototype.open=function(e,t,r,n){if(16<e.length)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var i=new Uint8Array(16);i.set(e,i.length-e.length);var o=new Uint8Array(32);s.stream(this._key,i,o,4);e=new Uint8Array(this.tagLength);if(this._authenticate(e,o,t.subarray(0,t.length-this.tagLength),r),!f.equal(e,t.subarray(t.length-this.tagLength,t.length)))return null;var a,e=t.length-this.tagLength;if(n){if(n.length!==e)throw new Error("ChaCha20Poly1305: incorrect destination length");a=n}else a=new Uint8Array(e);return s.streamXOR(this._key,i,t.subarray(0,t.length-this.tagLength),a,4),u.wipe(i),a},n.prototype.clean=function(){return u.wipe(this._key),this},n.prototype._authenticate=function(e,t,r,n){var i=new c.Poly1305(t);n&&(i.update(n),0<n.length%16&&i.update(p.subarray(n.length%16))),i.update(r),0<r.length%16&&i.update(p.subarray(r.length%16));t=new Uint8Array(8);n&&l.writeUint64LE(n.length,t),i.update(t),l.writeUint64LE(r.length,t),i.update(t);for(var o=i.digest(),a=0;a<o.length;a++)e[a]=o[a];i.clean(),u.wipe(o),u.wipe(t)},n);function n(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}t.OK=r},4034:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var L=r(5849),l=r(3327),N=20;function i(e,t,r,n,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,a;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=(o=new Uint8Array(16)).length-t.length,o.set(t,a)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,a=i}for(var s=new Uint8Array(64),c=0;c<r.length;c+=64){!function(e,t,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],l=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],p=r[23]<<24|r[22]<<16|r[21]<<8|r[20],h=r[27]<<24|r[26]<<16|r[25]<<8|r[24],d=r[31]<<24|r[30]<<16|r[29]<<8|r[28],g=t[3]<<24|t[2]<<16|t[1]<<8|t[0],m=t[7]<<24|t[6]<<16|t[5]<<8|t[4],r=t[11]<<24|t[10]<<16|t[9]<<8|t[8],t=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=n,y=i,b=o,w=a,_=s,x=c,k=u,E=l,O=f,C=p,R=h,S=d,T=g,I=m,A=r,j=t,P=0;P<N;P+=2)_=(_^=O=O+(T=(T^=v=v+_|0)>>>16|T<<16)|0)>>>20|_<<12,x=(x^=C=C+(I=(I^=y=y+x|0)>>>16|I<<16)|0)>>>20|x<<12,k=(k^=R=R+(A=(A^=b=b+k|0)>>>16|A<<16)|0)>>>20|k<<12,E=(E^=S=S+(j=(j^=w=w+E|0)>>>16|j<<16)|0)>>>20|E<<12,k=(k^=R=R+(A=(A^=b=b+k|0)>>>24|A<<8)|0)>>>25|k<<7,E=(E^=S=S+(j=(j^=w=w+E|0)>>>24|j<<8)|0)>>>25|E<<7,x=(x^=C=C+(I=(I^=y=y+x|0)>>>24|I<<8)|0)>>>25|x<<7,_=(_^=O=O+(T=(T^=v=v+_|0)>>>24|T<<8)|0)>>>25|_<<7,x=(x^=R=R+(j=(j^=v=v+x|0)>>>16|j<<16)|0)>>>20|x<<12,k=(k^=S=S+(T=(T^=y=y+k|0)>>>16|T<<16)|0)>>>20|k<<12,E=(E^=O=O+(I=(I^=b=b+E|0)>>>16|I<<16)|0)>>>20|E<<12,_=(_^=C=C+(A=(A^=w=w+_|0)>>>16|A<<16)|0)>>>20|_<<12,E=(E^=O=O+(I=(I^=b=b+E|0)>>>24|I<<8)|0)>>>25|E<<7,_=(_^=C=C+(A=(A^=w=w+_|0)>>>24|A<<8)|0)>>>25|_<<7,k=(k^=S=S+(T=(T^=y=y+k|0)>>>24|T<<8)|0)>>>25|k<<7,x=(x^=R=R+(j=(j^=v=v+x|0)>>>24|j<<8)|0)>>>25|x<<7;L.writeUint32LE(v+n|0,e,0),L.writeUint32LE(y+i|0,e,4),L.writeUint32LE(b+o|0,e,8),L.writeUint32LE(w+a|0,e,12),L.writeUint32LE(_+s|0,e,16),L.writeUint32LE(x+c|0,e,20),L.writeUint32LE(k+u|0,e,24),L.writeUint32LE(E+l|0,e,28),L.writeUint32LE(O+f|0,e,32),L.writeUint32LE(C+p|0,e,36),L.writeUint32LE(R+h|0,e,40),L.writeUint32LE(S+d|0,e,44),L.writeUint32LE(T+g|0,e,48),L.writeUint32LE(I+m|0,e,52),L.writeUint32LE(A+r|0,e,56),L.writeUint32LE(j+t|0,e,60)}(s,o,e);for(var u=c;u<c+64&&u<r.length;u++)n[u]=r[u]^s[u-c];!function(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(0<n)throw new Error("ChaCha: counter overflow")}(o,0,a)}return l.wipe(s),0===i&&l.wipe(o),n}t.streamXOR=i,t.stream=function(e,t,r,n){return void 0===n&&(n=0),l.wipe(r),i(e,t,r,r,n)}},4115:function(e,t){function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},4972:function(e,i,t){i.Xx=i._w=i.aP=i.KS=i.jQ=void 0,t(4022);var p=t(4455);function h(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}t(3327),i.jQ=64,i.KS=64,i.aP=32,new Uint8Array(32)[0]=9;var o=h(),a=h([1]),f=(h([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),n=h([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),s=h([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function c(e,t){for(var r=0;r<16;r++)e[r]=0|t[r]}function u(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535,t=Math.floor(n/65536);e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var o=n&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function d(e,t){for(var r=h(),n=h(),i=0;i<16;i++)n[i]=t[i];u(n),u(n),u(n);for(var o=0;o<2;o++){r[0]=n[0]-65517;for(var a=1;a<15;a++)r[a]=n[a]-65535-(r[a-1]>>16&1),r[a-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var s=r[15]>>16&1;r[14]&=65535,l(n,r,1-s)}for(var c=0;c<16;c++)e[2*c]=255&n[c],e[2*c+1]=n[c]>>8}function g(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function m(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function v(e,t,r){var n=0,i=0,o=0,a=0,s=0,c=0,u=0,l=0,f=0,p=0,h=0,d=0,g=0,m=0,v=0,y=0,b=0,w=0,_=0,x=0,k=0,E=0,O=0,C=0,R=0,S=0,T=0,I=0,A=0,j=0,P=0,L=r[0],N=r[1],M=r[2],U=r[3],D=r[4],z=r[5],G=r[6],W=r[7],B=r[8],H=r[9],q=r[10],V=r[11],F=r[12],K=r[13],$=r[14],Y=r[15],r=t[0];n+=r*L,i+=r*N,o+=r*M,a+=r*U,s+=r*D,c+=r*z,u+=r*G,l+=r*W,f+=r*B,p+=r*H,h+=r*q,d+=r*V,g+=r*F,m+=r*K,v+=r*$,y+=r*Y,i+=(r=t[1])*L,o+=r*N,a+=r*M,s+=r*U,c+=r*D,u+=r*z,l+=r*G,f+=r*W,p+=r*B,h+=r*H,d+=r*q,g+=r*V,m+=r*F,v+=r*K,y+=r*$,b+=r*Y,o+=(r=t[2])*L,a+=r*N,s+=r*M,c+=r*U,u+=r*D,l+=r*z,f+=r*G,p+=r*W,h+=r*B,d+=r*H,g+=r*q,m+=r*V,v+=r*F,y+=r*K,b+=r*$,w+=r*Y,a+=(r=t[3])*L,s+=r*N,c+=r*M,u+=r*U,l+=r*D,f+=r*z,p+=r*G,h+=r*W,d+=r*B,g+=r*H,m+=r*q,v+=r*V,y+=r*F,b+=r*K,w+=r*$,_+=r*Y,s+=(r=t[4])*L,c+=r*N,u+=r*M,l+=r*U,f+=r*D,p+=r*z,h+=r*G,d+=r*W,g+=r*B,m+=r*H,v+=r*q,y+=r*V,b+=r*F,w+=r*K,_+=r*$,x+=r*Y,c+=(r=t[5])*L,u+=r*N,l+=r*M,f+=r*U,p+=r*D,h+=r*z,d+=r*G,g+=r*W,m+=r*B,v+=r*H,y+=r*q,b+=r*V,w+=r*F,_+=r*K,x+=r*$,k+=r*Y,u+=(r=t[6])*L,l+=r*N,f+=r*M,p+=r*U,h+=r*D,d+=r*z,g+=r*G,m+=r*W,v+=r*B,y+=r*H,b+=r*q,w+=r*V,_+=r*F,x+=r*K,k+=r*$,E+=r*Y,l+=(r=t[7])*L,f+=r*N,p+=r*M,h+=r*U,d+=r*D,g+=r*z,m+=r*G,v+=r*W,y+=r*B,b+=r*H,w+=r*q,_+=r*V,x+=r*F,k+=r*K,E+=r*$,O+=r*Y,f+=(r=t[8])*L,p+=r*N,h+=r*M,d+=r*U,g+=r*D,m+=r*z,v+=r*G,y+=r*W,b+=r*B,w+=r*H,_+=r*q,x+=r*V,k+=r*F,E+=r*K,O+=r*$,C+=r*Y,p+=(r=t[9])*L,h+=r*N,d+=r*M,g+=r*U,m+=r*D,v+=r*z,y+=r*G,b+=r*W,w+=r*B,_+=r*H,x+=r*q,k+=r*V,E+=r*F,O+=r*K,C+=r*$,R+=r*Y,h+=(r=t[10])*L,d+=r*N,g+=r*M,m+=r*U,v+=r*D,y+=r*z,b+=r*G,w+=r*W,_+=r*B,x+=r*H,k+=r*q,E+=r*V,O+=r*F,C+=r*K,R+=r*$,S+=r*Y,d+=(r=t[11])*L,g+=r*N,m+=r*M,v+=r*U,y+=r*D,b+=r*z,w+=r*G,_+=r*W,x+=r*B,k+=r*H,E+=r*q,O+=r*V,C+=r*F,R+=r*K,S+=r*$,T+=r*Y,g+=(r=t[12])*L,m+=r*N,v+=r*M,y+=r*U,b+=r*D,w+=r*z,_+=r*G,x+=r*W,k+=r*B,E+=r*H,O+=r*q,C+=r*V,R+=r*F,S+=r*K,T+=r*$,I+=r*Y,m+=(r=t[13])*L,v+=r*N,y+=r*M,b+=r*U,w+=r*D,_+=r*z,x+=r*G,k+=r*W,E+=r*B,O+=r*H,C+=r*q,R+=r*V,S+=r*F,T+=r*K,I+=r*$,A+=r*Y,v+=(r=t[14])*L,y+=r*N,b+=r*M,w+=r*U,_+=r*D,x+=r*z,k+=r*G,E+=r*W,O+=r*B,C+=r*H,R+=r*q,S+=r*V,T+=r*F,I+=r*K,A+=r*$,j+=r*Y,y+=(r=t[15])*L,i+=38*(w+=r*M),o+=38*(_+=r*U),a+=38*(x+=r*D),s+=38*(k+=r*z),c+=38*(E+=r*G),u+=38*(O+=r*W),l+=38*(C+=r*B),f+=38*(R+=r*H),p+=38*(S+=r*q),h+=38*(T+=r*V),d+=38*(I+=r*F),g+=38*(A+=r*K),m+=38*(j+=r*$),v+=38*(P+=r*Y),n=(r=1+(n+=38*(b+=r*N))+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),n=(r=1+n+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=c,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=h,e[11]=d,e[12]=g,e[13]=m,e[14]=v,e[15]=y}function y(e,t){var r=h(),n=h(),i=h(),o=h(),a=h(),s=h(),c=h(),u=h(),l=h();m(r,e[1],e[0]),m(l,t[1],t[0]),v(r,r,l),g(n,e[0],e[1]),g(l,t[0],t[1]),v(n,n,l),v(i,e[3],t[3]),v(i,i,f),v(o,e[2],t[2]),g(o,o,o),m(a,n,r),m(s,o,i),g(c,o,i),g(u,n,r),v(e[0],a,s),v(e[1],u,c),v(e[2],c,s),v(e[3],a,u)}function b(e,t,r){for(var n=0;n<4;n++)l(e[n],t[n],r)}function w(e,t){var r=h(),n=h(),i=h();(function(e,t){for(var r,n=h(),i=0;i<16;i++)n[i]=t[i];for(i=253;0<=i;i--)v(n,r=n,r),2!==i&&4!==i&&v(n,n,t);for(i=0;i<16;i++)e[i]=n[i]})(i,t[2]),v(r,t[0],i),v(n,t[1],i),d(e,n),e[31]^=(e=r,d(r=new Uint8Array(32),e),(1&r[0])<<7)}function _(e,t){var r=[h(),h(),h(),h()];c(r[0],n),c(r[1],s),c(r[2],a),v(r[3],n,s),function(e,t,r){c(e[0],o),c(e[1],a),c(e[2],a),c(e[3],o);for(var n=255;0<=n;--n){var i=r[n/8|0]>>(7&n)&1;b(e,t,i),y(t,e),y(e,e),b(e,t,i)}}(e,r,t)}h([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),i._w=function(e){if(e.length!==i.aP)throw new Error("ed25519: seed must be ".concat(i.aP," bytes"));var t=(0,p.hash)(e);t[0]&=248,t[31]&=127,t[31]|=64;var r=new Uint8Array(32),n=[h(),h(),h(),h()];_(n,t),w(r,n);n=new Uint8Array(64);return n.set(e),n.set(r,32),{publicKey:r,secretKey:n}};var x=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k(e,t){for(var r,n,i,o=63;32<=o;--o){for(r=0,n=o-32,i=o-12;n<i;++n)t[n]+=r-16*t[o]*x[n-(o-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[o]=0}for(n=r=0;n<32;n++)t[n]+=r-(t[31]>>4)*x[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*x[n];for(o=0;o<32;o++)t[o+1]+=t[o]>>8,e[o]=255&t[o]}function E(e){for(var t=new Float64Array(64),r=0;r<64;r++)t[r]=e[r];for(var n=0;n<64;n++)e[n]=0;k(e,t)}i.Xx=function(e,t){var r=new Float64Array(64),n=[h(),h(),h(),h()],i=(0,p.hash)(e.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;var o=new Uint8Array(64);o.set(i.subarray(32),32);var a=new p.SHA512;a.update(o.subarray(32)),a.update(t);var s=a.digest();a.clean(),E(s),_(n,s),w(o,n),a.reset(),a.update(o.subarray(0,32)),a.update(e.subarray(32)),a.update(t);var c=a.digest();E(c);for(var u=0;u<32;u++)r[u]=s[u];for(var l=0;l<32;l++)for(var f=0;f<32;f++)r[l+f]+=c[l]*i[f];return k(o.subarray(32),r),o}},802:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},5393:function(e,t,r){var i=r(3012),n=r(3327),r=(o.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),1<e&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},o.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},o.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},o);function o(e,t,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;t=i.hmac(this._hash,r,t);this._hmac=new i.HMAC(e,t),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}t.t=r},3012:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=r(802),n=r(4115),o=r(3327),a=(s.prototype.reset=function(){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},s.prototype.clean=function(){i.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),i.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},s.prototype.update=function(e){return this._inner.update(e),this},s.prototype.finish=function(e){return this._finished?this._outer.finish(e):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0),this},s.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},s.prototype.saveState=function(){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},s.prototype.restoreState=function(e){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},s.prototype.cleanSavedState=function(e){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},s);function s(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var n=0;n<r.length;n++)r[n]^=54;for(this._inner.update(r),n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),i.isSerializableHash(this._inner)&&i.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),o.wipe(r)}t.HMAC=a,t.hmac=function(e,t,r){t=new a(e,t);t.update(r);r=t.digest();return t.clean(),r},t.equal=n.equal},5066:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},998:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=t(4115),i=t(3327);n.DIGEST_LENGTH=16;var o=(a.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],a=this._h[2],s=this._h[3],c=this._h[4],u=this._h[5],l=this._h[6],f=this._h[7],p=this._h[8],h=this._h[9],d=this._r[0],g=this._r[1],m=this._r[2],v=this._r[3],y=this._r[4],b=this._r[5],w=this._r[6],_=this._r[7],x=this._r[8],k=this._r[9];16<=r;){var E=e[t+0]|e[t+1]<<8;i+=8191&E;var O=e[t+2]|e[t+3]<<8;o+=8191&(E>>>13|O<<3);var C=e[t+4]|e[t+5]<<8;a+=8191&(O>>>10|C<<6);var R=e[t+6]|e[t+7]<<8;s+=8191&(C>>>7|R<<9);var S=e[t+8]|e[t+9]<<8;c+=8191&(R>>>4|S<<12),u+=S>>>1&8191;var T=e[t+10]|e[t+11]<<8;l+=8191&(S>>>14|T<<2);var I=e[t+12]|e[t+13]<<8;f+=8191&(T>>>11|I<<5);var A,j=e[t+14]|e[t+15]<<8,P=0;P+=i*d,P+=o*(5*k),P+=a*(5*x),P+=s*(5*_),A=(P+=c*(5*w))>>>13,P&=8191,P+=u*(5*b),P+=l*(5*y),P+=f*(5*v),P+=(p+=8191&(I>>>8|j<<8))*(5*m);var L=A+=(P+=(h+=j>>>5|n)*(5*g))>>>13;L+=i*g,L+=o*d,L+=a*(5*k),L+=s*(5*x),A=(L+=c*(5*_))>>>13,L&=8191,L+=u*(5*w),L+=l*(5*b),L+=f*(5*y),L+=p*(5*v),A+=(L+=h*(5*m))>>>13,L&=8191;E=A;E+=i*m,E+=o*g,E+=a*d,E+=s*(5*k),A=(E+=c*(5*x))>>>13,E&=8191,E+=u*(5*_),E+=l*(5*w),E+=f*(5*b),E+=p*(5*y);O=A+=(E+=h*(5*v))>>>13;O+=i*v,O+=o*m,O+=a*g,O+=s*d,A=(O+=c*(5*k))>>>13,O&=8191,O+=u*(5*x),O+=l*(5*_),O+=f*(5*w),O+=p*(5*b);C=A+=(O+=h*(5*y))>>>13;C+=i*y,C+=o*v,C+=a*m,C+=s*g,A=(C+=c*d)>>>13,C&=8191,C+=u*(5*k),C+=l*(5*x),C+=f*(5*_),C+=p*(5*w);R=A+=(C+=h*(5*b))>>>13;R+=i*b,R+=o*y,R+=a*v,R+=s*m,A=(R+=c*g)>>>13,R&=8191,R+=u*d,R+=l*(5*k),R+=f*(5*x),R+=p*(5*_);S=A+=(R+=h*(5*w))>>>13;S+=i*w,S+=o*b,S+=a*y,S+=s*v,A=(S+=c*m)>>>13,S&=8191,S+=u*g,S+=l*d,S+=f*(5*k),S+=p*(5*x);T=A+=(S+=h*(5*_))>>>13;T+=i*_,T+=o*w,T+=a*b,T+=s*y,A=(T+=c*v)>>>13,T&=8191,T+=u*m,T+=l*g,T+=f*d,T+=p*(5*k);I=A+=(T+=h*(5*x))>>>13;I+=i*x,I+=o*_,I+=a*w,I+=s*b,A=(I+=c*y)>>>13,I&=8191,I+=u*v,I+=l*m,I+=f*g,I+=p*d;j=A+=(I+=h*(5*k))>>>13;j+=i*k,j+=o*x,j+=a*_,j+=s*w,A=(j+=c*b)>>>13,j&=8191,j+=u*y,j+=l*v,j+=f*m,j+=p*g,i=8191&(A=(((A+=(j+=h*d)>>>13)<<2)+A|0)+(P&=8191)|0),o=L+=A>>>=13,a=E&=8191,s=O&=8191,c=C&=8191,u=R&=8191,l=S&=8191,f=T&=8191,p=I&=8191,h=j&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=a,this._h[3]=s,this._h[4]=c,this._h[5]=u,this._h[6]=l,this._h[7]=f,this._h[8]=p,this._h[9]=h},a.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,a=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,a[0]=this._h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this._h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this._h[o]=this._h[o]&n|a[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(16<=n&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},a.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a);function a(e){this.digestLength=n.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=8191&t;var r=e[2]|e[3]<<8;this._r[1]=8191&(t>>>13|r<<3);t=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|t<<6);r=e[6]|e[7]<<8;this._r[3]=8191&(t>>>7|r<<9);t=e[8]|e[9]<<8;this._r[4]=255&(r>>>4|t<<12),this._r[5]=t>>>1&8190;r=e[10]|e[11]<<8;this._r[6]=8191&(t>>>14|r<<2);t=e[12]|e[13]<<8;this._r[7]=8065&(r>>>11|t<<5);r=e[14]|e[15]<<8;this._r[8]=8191&(t>>>8|r<<8),this._r[9]=r>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}n.Poly1305=o,n.oneTimeAuth=function(e,t){e=new o(e);e.update(t);t=e.digest();return e.clean(),t},n.equal=function(e,t){return e.length===n.DIGEST_LENGTH&&t.length===n.DIGEST_LENGTH&&r.equal(e,t)}},4022:function(e,u,t){Object.defineProperty(u,"__esModule",{value:!0}),u.randomStringForEntropy=u.randomString=u.randomUint32=u.randomBytes=u.defaultRandomSource=void 0;var r=t(6490),n=t(5849),l=t(3327);function f(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u.defaultRandomSource).randomBytes(e)}u.defaultRandomSource=new r.SystemRandomSource,u.randomBytes=f,u.randomUint32=function(){var e=f(4,0<arguments.length&&void 0!==arguments[0]?arguments[0]:u.defaultRandomSource),t=(0,n.readUint32LE)(e);return(0,l.wipe)(e),t};var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u.defaultRandomSource;if(t.length<2)throw new Error("randomString charset is too short");if(256<t.length)throw new Error("randomString charset is too long");for(var n="",i=t.length,o=256-256%i;0<e;){for(var a=f(Math.ceil(256*e/o),r),s=0;s<a.length&&0<e;s++){var c=a[s];c<o&&(n+=t.charAt(c%i),e--)}(0,l.wipe)(a)}return n}u.randomString=i,u.randomStringForEntropy=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u.defaultRandomSource;return i(Math.ceil(e/(Math.log(t.length)/Math.LN2)),t,r)}},7391:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=function(){function t(){_classCallCheck(this,t),this.isAvailable=!1,this.isInstantiated=!1;var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return _createClass(t,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}}]),t}()},5323:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;var i=r(3327);t.NodeRandomSource=function(){function t(){_classCallCheck(this,t),this.isAvailable=!1,this.isInstantiated=!1;var e=r(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return _createClass(t,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=t[n];return(0,i.wipe)(t),r}}]),t}()},6490:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;var n=r(7391),i=r(5323);t.SystemRandomSource=function(){function e(){return _classCallCheck(this,e),this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return _createClass(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}]),e}()},1548:function(e,t,r){var y=r(5849),n=r(3327);t.k=32,t.cn=64;var i=(o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},o.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,0<this._bufferLength){for(;this._bufferLength<this.blockSize&&0<t;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=s(this._temp,this._state,e,r,t),t%=this.blockSize);0<t;)this._buffer[this._bufferLength++]=e[r++],t--;return this},o.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,i=t<<3,o=t%64<56?64:128;this._buffer[r]=128;for(var a=r+1;a<o-8;a++)this._buffer[a]=0;y.writeUint32BE(n,this._buffer,o-8),y.writeUint32BE(i,this._buffer,o-4),s(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(a=0;a<this.digestLength/4;a++)y.writeUint32BE(this._state[a],e,4*a);return this},o.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:0<this._bufferLength?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},o);function o(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}t.mE=i;var b=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(e,t,r,n,i){for(;64<=i;){for(var o=t[0],a=t[1],s=t[2],c=t[3],u=t[4],l=t[5],f=t[6],p=t[7],h=0;h<16;h++){var d=n+4*h;e[h]=y.readUint32BE(r,d)}for(h=16;h<64;h++){var g=e[h-2],m=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,v=((g=e[h-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;e[h]=(m+e[h-7]|0)+(v+e[h-16]|0)}for(h=0;h<64;h++)m=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(p+(b[h]+e[h]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&s^a&s)|0,p=f,f=l,l=u,u=c+m|0,c=s,s=a,a=o,o=m+v|0;t[0]+=o,t[1]+=a,t[2]+=s,t[3]+=c,t[4]+=u,t[5]+=l,t[6]+=f,t[7]+=p,n+=64,i-=64}return n}t.vp=function(e){var t=new i;t.update(e);e=t.digest();return t.clean(),e}},4455:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var K=t(5849),r=t(3327);n.DIGEST_LENGTH=64,n.BLOCK_SIZE=128;var i=(o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},o.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,0<this._bufferLength){for(;this._bufferLength<n.BLOCK_SIZE&&0<t;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,t),t%=this.blockSize);0<t;)this._buffer[this._bufferLength++]=e[r++],t--;return this},o.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,i=t<<3,o=t%128<112?128:256;this._buffer[r]=128;for(var a=r+1;a<o-8;a++)this._buffer[a]=0;K.writeUint32BE(n,this._buffer,o-8),K.writeUint32BE(i,this._buffer,o-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(a=0;a<this.digestLength/8;a++)K.writeUint32BE(this._stateHi[a],e,8*a),K.writeUint32BE(this._stateLo[a],e,8*a+4);return this},o.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:0<this._bufferLength?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(e){r.wipe(e.stateHi),r.wipe(e.stateLo),e.buffer&&r.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},o);function o(){this.digestLength=n.DIGEST_LENGTH,this.blockSize=n.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}n.SHA512=i;var $=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(e,t,r,n,i,o,a){for(var s,c,u,l,f=r[0],p=r[1],h=r[2],d=r[3],g=r[4],m=r[5],v=r[6],y=r[7],b=n[0],w=n[1],_=n[2],x=n[3],k=n[4],E=n[5],O=n[6],C=n[7];128<=a;){for(var R=0;R<16;R++){var S=8*R+o;e[R]=K.readUint32BE(i,S),t[R]=K.readUint32BE(i,S+4)}for(R=0;R<80;R++){var T,I,A=p,j=h,P=d,L=g,N=m,M=v,U=w,D=_,z=x,G=k,W=E,B=O,H=65535&(c=C),q=c>>>16,V=65535&(s=y),F=s>>>16;if(H+=65535&(c=(k>>>14|g<<18)^(k>>>18|g<<14)^(g>>>9|k<<23)),q+=c>>>16,V+=65535&(s=(g>>>14|k<<18)^(g>>>18|k<<14)^(k>>>9|g<<23)),F+=s>>>16,H+=65535&(c=k&E^~k&O),q+=c>>>16,V+=65535&(s=g&m^~g&v),F+=s>>>16,s=$[2*R],H+=65535&(c=$[2*R+1]),q+=c>>>16,V+=65535&s,F+=s>>>16,s=e[R%16],q+=(c=t[R%16])>>>16,V+=65535&s,F+=s>>>16,V+=(q+=(H+=65535&c)>>>16)>>>16,H=65535&(c=l=65535&H|q<<16),q=c>>>16,V=65535&(s=u=65535&V|(F+=V>>>16)<<16),F=s>>>16,H+=65535&(c=(b>>>28|f<<4)^(f>>>2|b<<30)^(f>>>7|b<<25)),q+=c>>>16,V+=65535&(s=(f>>>28|b<<4)^(b>>>2|f<<30)^(b>>>7|f<<25)),F+=s>>>16,q+=(c=b&w^b&_^w&_)>>>16,V+=65535&(s=f&p^f&h^p&h),F+=s>>>16,T=65535&(V+=(q+=(H+=65535&c)>>>16)>>>16)|(F+=V>>>16)<<16,I=65535&H|q<<16,H=65535&(c=z),q=c>>>16,V=65535&(s=P),F=s>>>16,q+=(c=l)>>>16,V+=65535&(s=u),F+=s>>>16,p=f,h=A,d=j,g=65535&(V+=(q+=(H+=65535&c)>>>16)>>>16)|(F+=V>>>16)<<16,m=L,v=N,y=M,f=T,w=b,_=U,x=D,k=65535&H|q<<16,E=G,O=W,C=B,b=I,R%16==15)for(S=0;S<16;S++)s=e[S],H=65535&(c=t[S]),q=c>>>16,V=65535&s,F=s>>>16,s=e[(S+9)%16],H+=65535&(c=t[(S+9)%16]),q+=c>>>16,V+=65535&s,F+=s>>>16,u=e[(S+1)%16],H+=65535&(c=((l=t[(S+1)%16])>>>1|u<<31)^(l>>>8|u<<24)^(l>>>7|u<<25)),q+=c>>>16,V+=65535&(s=(u>>>1|l<<31)^(u>>>8|l<<24)^u>>>7),F+=s>>>16,u=e[(S+14)%16],q+=(c=((l=t[(S+14)%16])>>>19|u<<13)^(u>>>29|l<<3)^(l>>>6|u<<26))>>>16,V+=65535&(s=(u>>>19|l<<13)^(l>>>29|u<<3)^u>>>6),F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,e[S]=65535&V|F<<16,t[S]=65535&H|q<<16}H=65535&(c=b),q=c>>>16,V=65535&(s=f),F=s>>>16,s=r[0],q+=(c=n[0])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[0]=f=65535&V|F<<16,n[0]=b=65535&H|q<<16,H=65535&(c=w),q=c>>>16,V=65535&(s=p),F=s>>>16,s=r[1],q+=(c=n[1])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[1]=p=65535&V|F<<16,n[1]=w=65535&H|q<<16,H=65535&(c=_),q=c>>>16,V=65535&(s=h),F=s>>>16,s=r[2],q+=(c=n[2])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[2]=h=65535&V|F<<16,n[2]=_=65535&H|q<<16,H=65535&(c=x),q=c>>>16,V=65535&(s=d),F=s>>>16,s=r[3],q+=(c=n[3])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[3]=d=65535&V|F<<16,n[3]=x=65535&H|q<<16,H=65535&(c=k),q=c>>>16,V=65535&(s=g),F=s>>>16,s=r[4],q+=(c=n[4])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[4]=g=65535&V|F<<16,n[4]=k=65535&H|q<<16,H=65535&(c=E),q=c>>>16,V=65535&(s=m),F=s>>>16,s=r[5],q+=(c=n[5])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[5]=m=65535&V|F<<16,n[5]=E=65535&H|q<<16,H=65535&(c=O),q=c>>>16,V=65535&(s=v),F=s>>>16,s=r[6],q+=(c=n[6])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[6]=v=65535&V|F<<16,n[6]=O=65535&H|q<<16,H=65535&(c=C),q=c>>>16,V=65535&(s=y),F=s>>>16,s=r[7],q+=(c=n[7])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[7]=y=65535&V|F<<16,n[7]=C=65535&H|q<<16,o+=128,a-=128}return o}n.hash=function(e){var t=new i;t.update(e);e=t.digest();return t.clean(),e}},3327:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},5492:function(e,a,t){a.gi=a.Au=a.KS=a.kz=void 0;var r=t(4022),n=t(3327);function m(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.kz=32,a.KS=32;var i=new Uint8Array(32);i[0]=9;var v=m([56129,1]);function y(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535,t=Math.floor(n/65536);e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function b(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var o=n&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function w(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function _(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function x(e,t,r){var n=0,i=0,o=0,a=0,s=0,c=0,u=0,l=0,f=0,p=0,h=0,d=0,g=0,m=0,v=0,y=0,b=0,w=0,_=0,x=0,k=0,E=0,O=0,C=0,R=0,S=0,T=0,I=0,A=0,j=0,P=0,L=r[0],N=r[1],M=r[2],U=r[3],D=r[4],z=r[5],G=r[6],W=r[7],B=r[8],H=r[9],q=r[10],V=r[11],F=r[12],K=r[13],$=r[14],Y=r[15],r=t[0];n+=r*L,i+=r*N,o+=r*M,a+=r*U,s+=r*D,c+=r*z,u+=r*G,l+=r*W,f+=r*B,p+=r*H,h+=r*q,d+=r*V,g+=r*F,m+=r*K,v+=r*$,y+=r*Y,i+=(r=t[1])*L,o+=r*N,a+=r*M,s+=r*U,c+=r*D,u+=r*z,l+=r*G,f+=r*W,p+=r*B,h+=r*H,d+=r*q,g+=r*V,m+=r*F,v+=r*K,y+=r*$,b+=r*Y,o+=(r=t[2])*L,a+=r*N,s+=r*M,c+=r*U,u+=r*D,l+=r*z,f+=r*G,p+=r*W,h+=r*B,d+=r*H,g+=r*q,m+=r*V,v+=r*F,y+=r*K,b+=r*$,w+=r*Y,a+=(r=t[3])*L,s+=r*N,c+=r*M,u+=r*U,l+=r*D,f+=r*z,p+=r*G,h+=r*W,d+=r*B,g+=r*H,m+=r*q,v+=r*V,y+=r*F,b+=r*K,w+=r*$,_+=r*Y,s+=(r=t[4])*L,c+=r*N,u+=r*M,l+=r*U,f+=r*D,p+=r*z,h+=r*G,d+=r*W,g+=r*B,m+=r*H,v+=r*q,y+=r*V,b+=r*F,w+=r*K,_+=r*$,x+=r*Y,c+=(r=t[5])*L,u+=r*N,l+=r*M,f+=r*U,p+=r*D,h+=r*z,d+=r*G,g+=r*W,m+=r*B,v+=r*H,y+=r*q,b+=r*V,w+=r*F,_+=r*K,x+=r*$,k+=r*Y,u+=(r=t[6])*L,l+=r*N,f+=r*M,p+=r*U,h+=r*D,d+=r*z,g+=r*G,m+=r*W,v+=r*B,y+=r*H,b+=r*q,w+=r*V,_+=r*F,x+=r*K,k+=r*$,E+=r*Y,l+=(r=t[7])*L,f+=r*N,p+=r*M,h+=r*U,d+=r*D,g+=r*z,m+=r*G,v+=r*W,y+=r*B,b+=r*H,w+=r*q,_+=r*V,x+=r*F,k+=r*K,E+=r*$,O+=r*Y,f+=(r=t[8])*L,p+=r*N,h+=r*M,d+=r*U,g+=r*D,m+=r*z,v+=r*G,y+=r*W,b+=r*B,w+=r*H,_+=r*q,x+=r*V,k+=r*F,E+=r*K,O+=r*$,C+=r*Y,p+=(r=t[9])*L,h+=r*N,d+=r*M,g+=r*U,m+=r*D,v+=r*z,y+=r*G,b+=r*W,w+=r*B,_+=r*H,x+=r*q,k+=r*V,E+=r*F,O+=r*K,C+=r*$,R+=r*Y,h+=(r=t[10])*L,d+=r*N,g+=r*M,m+=r*U,v+=r*D,y+=r*z,b+=r*G,w+=r*W,_+=r*B,x+=r*H,k+=r*q,E+=r*V,O+=r*F,C+=r*K,R+=r*$,S+=r*Y,d+=(r=t[11])*L,g+=r*N,m+=r*M,v+=r*U,y+=r*D,b+=r*z,w+=r*G,_+=r*W,x+=r*B,k+=r*H,E+=r*q,O+=r*V,C+=r*F,R+=r*K,S+=r*$,T+=r*Y,g+=(r=t[12])*L,m+=r*N,v+=r*M,y+=r*U,b+=r*D,w+=r*z,_+=r*G,x+=r*W,k+=r*B,E+=r*H,O+=r*q,C+=r*V,R+=r*F,S+=r*K,T+=r*$,I+=r*Y,m+=(r=t[13])*L,v+=r*N,y+=r*M,b+=r*U,w+=r*D,_+=r*z,x+=r*G,k+=r*W,E+=r*B,O+=r*H,C+=r*q,R+=r*V,S+=r*F,T+=r*K,I+=r*$,A+=r*Y,v+=(r=t[14])*L,y+=r*N,b+=r*M,w+=r*U,_+=r*D,x+=r*z,k+=r*G,E+=r*W,O+=r*B,C+=r*H,R+=r*q,S+=r*V,T+=r*F,I+=r*K,A+=r*$,j+=r*Y,y+=(r=t[15])*L,i+=38*(w+=r*M),o+=38*(_+=r*U),a+=38*(x+=r*D),s+=38*(k+=r*z),c+=38*(E+=r*G),u+=38*(O+=r*W),l+=38*(C+=r*B),f+=38*(R+=r*H),p+=38*(S+=r*q),h+=38*(T+=r*V),d+=38*(I+=r*F),g+=38*(A+=r*K),m+=38*(j+=r*$),v+=38*(P+=r*Y),n=(r=1+(n+=38*(b+=r*N))+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),n=(r=1+n+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=c,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=h,e[11]=d,e[12]=g,e[13]=m,e[14]=v,e[15]=y}function k(e,t){x(e,t,t)}function s(e,t){for(var r=new Uint8Array(32),n=new Float64Array(80),i=m(),o=m(),a=m(),s=m(),c=m(),u=m(),l=0;l<31;l++)r[l]=e[l];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(var f=0;f<16;f++)o[f]=n[f];i[0]=s[0]=1;for(var p=254;0<=p;--p){var h=r[p>>>3]>>>(7&p)&1;b(i,o,h),b(a,s,h),w(c,i,a),_(i,i,a),w(a,o,s),_(o,o,s),k(s,c),k(u,i),x(i,a,i),x(a,o,c),w(c,i,a),_(i,i,a),k(o,i),_(a,s,u),x(i,a,v),w(i,i,s),x(a,a,i),x(i,s,u),x(s,o,n),k(o,c),b(i,o,h),b(a,s,h)}for(var d=0;d<16;d++)n[d+16]=i[d],n[d+32]=a[d],n[d+48]=o[d],n[d+64]=s[d];var g=n.subarray(32),t=n.subarray(16);!function(e,t){for(var r=m(),n=0;n<16;n++)r[n]=t[n];for(var i=253;0<=i;i--)k(r,r),2!==i&&4!==i&&x(r,r,t);for(var o=0;o<16;o++)e[o]=r[o]}(g,g),x(t,t,g);g=new Uint8Array(32);return function(e,t){for(var r=m(),n=m(),i=0;i<16;i++)n[i]=t[i];y(n),y(n),y(n);for(var o=0;o<2;o++){r[0]=n[0]-65517;for(var a=1;a<15;a++)r[a]=n[a]-65535-(r[a-1]>>16&1),r[a-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var s=r[15]>>16&1;r[14]&=65535,b(n,r,1-s)}for(var c=0;c<16;c++)e[2*c]=255&n[c],e[2*c+1]=n[c]>>8}(g,t),g}a.Au=function(e){var t=(0,r.randomBytes)(32,e),e=function(e){if(e.length!==a.KS)throw new Error("x25519: seed must be ".concat(a.KS," bytes"));e=new Uint8Array(e);return{publicKey:s(e,i),secretKey:e}}(t);return(0,n.wipe)(t),e},a.gi=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e.length!==a.kz)throw new Error("X25519: incorrect secret key length");if(t.length!==a.kz)throw new Error("X25519: incorrect public key length");var n=s(e,t);if(r){for(var i=0,o=0;o<n.length;o++)i|=n[o];if(0===i)throw new Error("X25519: invalid shared key")}return n}},5221:function(e,t,r){function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){var e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},3316:function(e,t){function r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=r,t.isNode=n,t.isBrowser=function(){return!r()&&!n()}},2549:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(5221),t),n.__exportStar(r(3316),t)},6446:function(e,t,r){r.d(t,{q:function(){return n}});var n=function e(){_classCallCheck(this,e)}},6245:function(e,t,r){r.r(t),r.d(t,{IEvents:function(){return n.q}});var n=r(6446)},6080:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;r=r(7657);t.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},7756:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(1003).__exportStar(r(6080),t)},6722:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;var i=r(1003),o=r(7358),a=r(7657),s=r(7098),c=r(7756),r=function(){_inherits(n,s.IHeartBeat);var r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this,e)).events=new o.EventEmitter,t.interval=c.HEARTBEAT_INTERVAL,t.interval=(null==e?void 0:e.interval)||c.HEARTBEAT_INTERVAL,t}return _createClass(n,[{key:"init",value:function(){return i.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:case"end":return e.stop()}},e,this)}))}},{key:"stop",value:function(){clearInterval(this.intervalRef)}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"initialize",value:function(){return i.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.intervalRef=setInterval(function(){return t.pulse()},a.toMiliseconds(this.interval));case 1:case"end":return e.stop()}},e,this)}))}},{key:"pulse",value:function(){this.events.emit(c.HEARTBEAT_EVENTS.pulse)}}],[{key:"init",value:function(r){return i.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new n(r),e.next=3,t.init();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))}}]),n}();t.HeartBeat=r},5738:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(6722),t),n.__exportStar(r(7098),t),n.__exportStar(r(7756),t)},9215:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;var n=r(6245),r=function(){_inherits(r,n.IEvents);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this)}return r}();t.IHeartBeat=r},7098:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(1003).__exportStar(r(9215),t)},3542:function(e,t,r){var n=r(1003),i=r(2987),o=n.__importDefault(r(7231)),a=r(2529);t.ZP=function(){function e(){_classCallCheck(this,e),this.localStorage=o.default}return _createClass(e,[{key:"getKeys",value:function(){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(this.localStorage));case 1:case"end":return e.stop()}},e,this)}))}},{key:"getEntries",value:function(){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.entries(this.localStorage).map(a.parseEntry));case 1:case"end":return e.stop()}},e,this)}))}},{key:"getItem",value:function(r){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.localStorage.getItem(r)))return e.abrupt("return",i.safeJsonParse(t));e.next=3;break;case 3:case"end":return e.stop()}},e,this)}))}},{key:"setItem",value:function(t,r){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.setItem(t,i.safeJsonStringify(r));case 1:case"end":return e.stop()}},e,this)}))}},{key:"removeItem",value:function(t){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.removeItem(t);case 1:case"end":return e.stop()}},e,this)}))}}]),e}()},7231:function(e,t,r){function n(){}var i;(i=n).prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,t){this[e]=String(t)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){var t=this;Object.keys(t).forEach(function(e){t[e]=void 0,delete t[e]})},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),void 0!==r.g&&r.g.localStorage?e.exports=r.g.localStorage:"undefined"!=typeof window&&window.localStorage?e.exports=window.localStorage:e.exports=new n},2529:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(8119),t),n.__exportStar(r(2250),t)},8119:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IKeyValueStorage=void 0,t.IKeyValueStorage=function(){return function e(){_classCallCheck(this,e)}}()},2250:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseEntry=void 0;var n=r(2987);t.parseEntry=function(e){return[e[0],n.safeJsonParse(null!==(e=e[1])&&void 0!==e?e:"")]}},5191:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},2326:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;var n=r(1003),i=n.__importDefault(r(2312));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r(5191),t),n.__exportStar(r(7491),t)},7491:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;var n=r(5191);function i(e){return e[1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.PINO_CUSTOM_CONTEXT_KEY]||""}function o(e,t){return e[2<arguments.length&&void 0!==arguments[2]?arguments[2]:n.PINO_CUSTOM_CONTEXT_KEY]=t,e}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.PINO_CUSTOM_CONTEXT_KEY;return void 0===e.bindings?i(e,t):e.bindings().context||""}function s(e,t){e=a(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:n.PINO_CUSTOM_CONTEXT_KEY);return e.trim()?"".concat(e,"/").concat(t):t}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||n.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=i,t.setBrowserLoggerContext=o,t.getLoggerContext=a,t.formatChildLoggerContext=s,t.generateChildLogger=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:n.PINO_CUSTOM_CONTEXT_KEY,t=s(e,t,r);return o(e.child({context:t}),t,r)}},4585:function(){},9611:function(){},7685:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(7807),t),n.__exportStar(r(8015),t)},7807:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},8015:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},7657:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(6482),t),n.__exportStar(r(5819),t),n.__exportStar(r(1819),t),n.__exportStar(r(7685),t)},1819:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(1003).__exportStar(r(1204),t)},1204:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0,t.IWatch=function(){return function e(){_classCallCheck(this,e)}}()},6036:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;var n=r(7685);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},1652:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(t){return new Promise(function(e){setTimeout(function(){e(!0)},t)})}},6482:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(1652),t),n.__exportStar(r(6036),t)},5819:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;var r=function(){function e(){_classCallCheck(this,e),this.timestamps=new Map}return _createClass(e,[{key:"start",value:function(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}},{key:"stop",value:function(e){var t=this.get(e);if(void 0!==t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));var r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}},{key:"get",value:function(e){var t=this.timestamps.get(e);if(void 0===t)throw new Error("No timestamp found for label: ".concat(e));return t}},{key:"elapsed",value:function(e){e=this.get(e);return e.elapsed||Date.now()-e.started}}]),e}();t.Watch=r,t.default=r},9153:function(e,t){function r(e){var t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){var t=r(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},747:function(e,t,r){t.D=void 0;var n=r(9153);t.D=function(){var a,s;try{a=n.getDocumentOrThrow(),s=n.getLocationOrThrow()}catch(a){return null}function e(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var n=a.getElementsByTagName("meta"),i=0;i<n.length;i++){var o=function(e){var t=n[e],e=["itemprop","property","name"].map(function(e){return t.getAttribute(e)}).filter(function(e){return!!e&&r.includes(e)});if(e.length&&e){e=t.getAttribute("content");if(e)return{v:e}}}(i);if("object"===_typeof(o))return o.v}return""}var t=e("name","og:site_name","og:title","twitter:title")||a.title;return{description:e("description","og:description","twitter:description","keywords"),url:s.origin,icons:function(){for(var e=a.getElementsByTagName("link"),t=[],r=0;r<e.length;r++){var n,i=e[r],o=i.getAttribute("rel");o&&-1<o.toLowerCase().indexOf("icon")&&((o=i.getAttribute("href"))&&(-1===o.toLowerCase().indexOf("https:")&&-1===o.toLowerCase().indexOf("http:")&&0!==o.indexOf("//")?(n=s.protocol+"//"+s.host,0===o.indexOf("/")?n+=o:((i=s.pathname.split("/")).pop(),n+=i.join("/")+"/"+o),t.push(n)):0===o.indexOf("//")?(n=s.protocol+o,t.push(n)):t.push(o)))}return t}(),name:t}}},8424:function(e){var t="%[a-f0-9]{2}",i=new RegExp("("+t+")|([^%]+?)","gi"),s=new RegExp("("+t+")+","gi");function c(t){try{return decodeURIComponent(t)}catch(e){for(var r=t.match(i)||[],n=1;n<r.length;n++)r=(t=function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),r=t.slice(r);return Array.prototype.concat.call([],e(n),e(r))}(r,n).join("")).match(i)||[];return t}}e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+_typeof(t)+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(e){for(var t={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},r=s.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=c(r[0]);n!==r[0]&&(t[r[0]]=n)}r=s.exec(e)}t["%C2"]="ï¿½";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}(t)}}},7094:function(e){var h={single_source_shortest_paths:function(e,t,r){var n={},i={};i[t]=0;var o,a,s,c,u,l,f,p=h.PriorityQueue.make();for(p.push(t,0);!p.empty();)for(s in a=(o=p.pop()).value,c=o.cost,u=e[a]||{})u.hasOwnProperty(s)&&(l=c+u[s],f=i[s],(void 0===i[s]||l<f)&&(i[s]=l,p.push(s,l),n[s]=a));if(void 0===r||void 0!==i[r])return n;r=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(r)},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){t=h.single_source_shortest_paths(e,t,r);return h.extract_shortest_path_from_predecessor_list(t,r)},PriorityQueue:{make:function(e){var t,r=h.PriorityQueue,n={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=e.sorter||r.default_sorter,n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){t={value:e,cost:t};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=h},5341:function(e){e.exports=function(e){for(var t=[],r=e.length,n=0;n<r;n++){var i,o=e.charCodeAt(n);55296<=o&&o<=56319&&n+1<r&&(56320<=(i=e.charCodeAt(n+1))&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,n+=1)),o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||57344<=o&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):65536<=o&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},7358:function(e){var t="object"==("undefined"==typeof Reflect?"undefined":_typeof(Reflect))?Reflect:null,c=t&&"function"==typeof t.apply?t.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},r=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},n=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(i,o){return new Promise(function(e,t){function r(e){i.removeListener(o,n),t(e)}function n(){"function"==typeof i.removeListener&&i.removeListener("error",r),e([].slice.call(arguments))}d(i,o,n,{once:!0}),"error"===o||"function"==typeof i.on&&d(i,"error",r,{once:!0})})},(i.EventEmitter=i).prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+_typeof(e))}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o;return s(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),o=i[t]),void 0===o?(o=i[t]=r,++e._eventsCount):("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(r=a(e))&&o.length>r&&!o.warned&&(o.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=o.length,console&&console.warn&&console.warn(r))),e}function l(e,t,r){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=r,e.wrapFn=t}function f(e,t,r){e=e._events;if(void 0===e)return[];t=e[t];return void 0===t?[]:"function"==typeof t?r?[t.listener||t]:[t]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):h(t,t.length)}function p(e){var t=this._events;if(void 0!==t){e=t[e];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function d(r,n,i,o){if("function"==typeof r.on)o.once?r.once(n,i):r.on(n,i);else{if("function"!=typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+_typeof(r));r.addEventListener(n,function e(t){o.once&&r.removeEventListener(n,e),i(t)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n,i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(0<t.length&&(n=t[0]),n instanceof Error)throw n;i=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw i.context=n,i}e=o[e];if(void 0===e)return!1;if("function"==typeof e)c(e,this,t);else for(var a=e.length,s=h(e,a),r=0;r<a;++r)c(s[r],this,t);return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},4671:function(e){e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(r[a]=s)}return r}},3918:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",y=1,g=2,f=9007199254740991,p="[object Arguments]",h="[object Array]",i="[object AsyncFunction]",d="[object Boolean]",m="[object Date]",v="[object Error]",o="[object Function]",a="[object GeneratorFunction]",b="[object Map]",w="[object Number]",s="[object Null]",_="[object Object]",c="[object Promise]",u="[object Proxy]",x="[object RegExp]",k="[object Set]",E="[object String]",l="[object Undefined]",O="[object WeakMap]",C="[object ArrayBuffer]",R="[object DataView]",S=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[p]=I[h]=I[C]=I[d]=I[R]=I[m]=I[v]=I[o]=I[b]=I[w]=I[_]=I[x]=I[k]=I[E]=I[O]=!1;var A="object"==_typeof(r.g)&&r.g&&r.g.Object===Object&&r.g,j="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,P=A||j||Function("return this")(),L=t&&!t.nodeType&&t,N=L&&e&&!e.nodeType&&e,r=N&&N.exports===L,M=r&&A.process,j=function(){try{return M&&M.binding&&M.binding("util")}catch(e){}}(),t=j&&j.isTypedArray;function U(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}function D(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var z,G,N=Array.prototype,L=Function.prototype,W=Object.prototype,A=P["__core-js_shared__"],B=L.toString,H=W.hasOwnProperty,q=(j=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",V=W.toString,F=RegExp("^"+B.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=r?P.Buffer:void 0,A=P.Symbol,K=P.Uint8Array,$=W.propertyIsEnumerable,Y=N.splice,Z=A?A.toStringTag:void 0,Q=Object.getOwnPropertySymbols,j=L?L.isBuffer:void 0,J=(z=Object.keys,G=Object,function(e){return z(G(e))}),r=be(P,"DataView"),X=be(P,"Map"),N=be(P,"Promise"),L=be(P,"Set"),P=be(P,"WeakMap"),ee=be(Object,"create"),te=xe(r),re=xe(X),ne=xe(N),ie=xe(L),oe=xe(P),A=A?A.prototype:void 0,ae=A?A.valueOf:void 0;function se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ce(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ue(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function le(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ue;++t<r;)this.add(e[t])}function fe(e){e=this.__data__=new ce(e);this.size=e.size}function pe(e,t){for(var r=e.length;r--;)if(ke(e[r][0],t))return r;return-1}function he(e){return null==e?void 0===e?l:s:Z&&Z in Object(e)?function(e){var t=H.call(e,Z),r=e[Z];try{var n=!(e[Z]=void 0)}catch(e){}var i=V.call(e);return n&&(t?e[Z]=r:delete e[Z]),i}(e):V.call(e)}function de(e){return Ie(e)&&he(e)==p}function ge(e,t,r,n,i){return e===t||(null==e||null==t||!Ie(e)&&!Ie(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var a=Oe(e),s=Oe(t),c=a?h:_e(e),u=s?h:_e(t),l=(c=c==p?_:c)==_,s=(u=u==p?_:u)==_,u=c==u;if(u&&Ce(e)){if(!Ce(t))return!1;l=!(a=!0)}if(u&&!l)return o=o||new fe,(a||je(e)?me:function(e,t,r,n,i,o){switch(c){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!i(new K(e),new K(t)));case d:case m:case w:return ke(+e,+t);case v:return e.name==t.name&&e.message==t.message;case x:case E:return e==t+"";case b:var a=U;case k:var s=r&y,a=a||D;if(e.size!=t.size&&!s)return!1;s=o.get(e);if(s)return s==t;r|=g,o.set(e,t);a=me(a(e),a(t),r,n,i,o);return o.delete(e),a;case"[object Symbol]":if(ae)return ae.call(e)==ae.call(t)}return!1})(e,t,r,n,i,o);if(!(r&y)){l=l&&H.call(e,"__wrapped__"),s=s&&H.call(t,"__wrapped__");if(l||s)return i(l?e.value():e,s?t.value():t,r,n,o=o||new fe)}return!!u&&function(e,t,r,n,i,o){var a=r&y,s=ve(e),c=s.length;if(c!=ve(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:H.call(t,l)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);for(var h,d=a;++u<c;){var g,m=e[l=s[u]],v=t[l];if(n&&(g=a?n(v,m,l,t,e,o):n(m,v,l,e,t,o)),!(void 0===g?m===v||i(m,v,r,n,o):g)){p=!1;break}d=d||"constructor"==l}return!p||d||(h=e.constructor)!=(f=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof f&&f instanceof f)&&(p=!1),o.delete(e),o.delete(t),p}(e,t,r,n,i,o=o||new fe)}(e,t,r,n,ge,i))}function me(e,t,r,n,i,o){var a=r&y,s=e.length,c=t.length;if(s!=c&&!(a&&s<c))return!1;c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,l=!0,f=r&g?new le:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p,h=e[u],d=t[u];if(n&&(p=a?n(d,h,u,t,e,o):n(h,d,u,e,t,o)),void 0!==p){if(p)continue;l=!1;break}if(f){if(!function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return 1}(t,function(e,t){return!f.has(t)&&(h===e||i(h,e,r,n,o))&&f.push(t)})){l=!1;break}}else if(h!==d&&!i(h,d,r,n,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function ve(e){return r=we,e=Pe(t=e),Oe(t)?e:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(e,r(t));var t,r}function ye(e,t){var r,n=e.__data__;return("string"==(e=_typeof(r=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?n["string"==typeof t?"string":"hash"]:n.map}function be(e,t){e=null==e?void 0:e[t];return!Te(t=e)||q&&q in t||!(Re(t)?F:S).test(xe(t))?void 0:e}se.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},se.prototype.delete=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e},se.prototype.get=function(e){var t=this.__data__;if(ee){var r=t[e];return r===n?void 0:r}return H.call(t,e)?t[e]:void 0},se.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:H.call(t,e)},se.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ee&&void 0===t?n:t,this},ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var t=this.__data__,e=pe(t,e);return!(e<0||(e==t.length-1?t.pop():Y.call(t,e,1),--this.size,0))},ce.prototype.get=function(e){var t=this.__data__,e=pe(t,e);return e<0?void 0:t[e][1]},ce.prototype.has=function(e){return-1<pe(this.__data__,e)},ce.prototype.set=function(e,t){var r=this.__data__,n=pe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ue.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(X||ce),string:new se}},ue.prototype.delete=function(e){e=ye(this,e).delete(e);return this.size-=e?1:0,e},ue.prototype.get=function(e){return ye(this,e).get(e)},ue.prototype.has=function(e){return ye(this,e).has(e)},ue.prototype.set=function(e,t){var r=ye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},le.prototype.add=le.prototype.push=function(e){return this.__data__.set(e,n),this},le.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.clear=function(){this.__data__=new ce,this.size=0},fe.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},fe.prototype.get=function(e){return this.__data__.get(e)},fe.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ce){var n=r.__data__;if(!X||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ue(n)}return r.set(e,t),this.size=r.size,this};var we=Q?function(a){return null==a?[]:(a=Object(a),function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];$.call(a,o)&&(i[n++]=o)}return i}(Q(a)))}:function(){return[]},_e=he;function xe(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ke(e,t){return e===t||e!=e&&t!=t}(r&&_e(new r(new ArrayBuffer(1)))!=R||X&&_e(new X)!=b||N&&_e(N.resolve())!=c||L&&_e(new L)!=k||P&&_e(new P)!=O)&&(_e=function(e){var t=he(e),e=t==_?e.constructor:void 0,e=e?xe(e):"";if(e)switch(e){case te:return R;case re:return b;case ne:return c;case ie:return k;case oe:return O}return t});var Ee=de(function(){return arguments}())?de:function(e){return Ie(e)&&H.call(e,"callee")&&!$.call(e,"callee")},Oe=Array.isArray,Ce=j||function(){return!1};function Re(e){if(Te(e)){e=he(e);return e==o||e==a||e==i||e==u}}function Se(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=f}function Te(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==_typeof(e)}var Ae,je=t?(Ae=t,function(e){return Ae(e)}):function(e){return Ie(e)&&Se(e.length)&&!!I[he(e)]};function Pe(e){return(null!=e&&Se(e.length)&&!Re(e)?function(e){var t,r,n,i=Oe(e),o=!i&&Ee(e),a=!i&&!o&&Ce(e),s=!i&&!o&&!a&&je(e),c=i||o||a||s,u=c?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=u.length;for(t in e)!H.call(e,t)||c&&("length"==t||a&&("offset"==t||"parent"==t)||s&&("buffer"==t||"byteLength"==t||"byteOffset"==t)||(r=t,(n=null==(n=l)?f:n)&&("number"==typeof r||T.test(r))&&-1<r&&r%1==0&&r<n))||u.push(t);return u}:function(e){if(e!==("function"==typeof(t=e&&e.constructor)&&t.prototype||W))return J(e);var t,r,n=[];for(r in Object(e))H.call(e,r)&&"constructor"!=r&&n.push(r);return n})(e)}e.exports=function(e,t){return ge(e,t)}},2558:function(e,t,r){var c=r(1792),u=r(9219),n=r(4810),i=r(3620);function o(n,i,o,a,e){var t=[].slice.call(arguments,1),r=t.length,t="function"==typeof t[r-1];if(!t&&!c())throw new Error("Callback required as last argument");if(!t){if(r<1)throw new Error("Too few arguments provided");return 1===r?(o=i,i=a=void 0):2!==r||i.getContext||(a=o,o=i,i=void 0),new Promise(function(e,t){try{var r=u.create(o,a);e(n(r,i,a))}catch(e){t(e)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(e=o,o=i,i=a=void 0):3===r&&(i.getContext&&void 0===e?(e=a,a=void 0):(e=a,a=o,o=i,i=void 0));try{var s=u.create(o,a);e(null,n(s,i,a))}catch(n){e(n)}}t.create=u.create,t.toCanvas=o.bind(null,n.render),t.toDataURL=o.bind(null,n.renderToDataURL),t.toString=o.bind(null,function(e,t,r){return i.render(e,r)})},1792:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1797:function(e,a,t){var o=t(8025).getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,e=o(e),r=145===e?26:2*Math.ceil((e-13)/(2*t-2)),n=[e-7],i=1;i<t-1;i++)n[i]=n[i-1]-r;return n.push(6),n.reverse()},a.getPositions=function(e){for(var t=[],r=a.getRowColCoords(e),n=r.length,i=0;i<n;i++)for(var o=0;o<n;o++)0===i&&0===o||0===i&&o===n-1||i===n-1&&0===o||t.push([r[i],r[o]]);return t}},7751:function(e,t,r){var n=r(6182),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0;t+2<=this.data.length;t+=2){var r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},2466:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},1653:function(e){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){t=e*this.size+t;this.data[t]=r,n&&(this.reservedBit[t]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},338:function(e,t,r){var n=r(5341),i=r(6182);function o(e){this.mode=i.BYTE,"string"==typeof e&&(e=n(e)),this.data=new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=o},1140:function(e,t,r){var n=r(6866),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return i[4*(e-1)+0];case n.M:return i[4*(e-1)+1];case n.Q:return i[4*(e-1)+2];case n.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}}},6866:function(e,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},7539:function(e,t,r){var n=r(8025).getSymbolSize;t.getPositions=function(e){e=n(e);return[[0,0],[e-7,0],[0,e-7]]}},8223:function(e,t,r){var n=r(8025),i=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var t=e.bit<<3|t,r=t<<10;0<=n.getBCHDigit(r)-i;)r^=1335<<n.getBCHDigit(r)-i;return 21522^(t<<10|r)}},8116:function(e,t){var n=new Uint8Array(512),i=new Uint8Array(256);!function(){for(var e=1,t=0;t<255;t++)n[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(var r=255;r<512;r++)n[r]=n[r-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[i[e]+i[t]]}},89:function(e,t,r){var n=r(6182),i=r(8025);function o(e){this.mode=n.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0;t<this.data.length;t++){var r=i.toSJIS(this.data[t]);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},e.exports=o},3286:function(e,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,r=0,n=0,i=0,o=null,a=null,s=0;s<t;s++){o=a=null;for(var c=n=i=0;c<t;c++){var u=e.get(s,c);u===o?n++:(5<=n&&(r+=n-5+3),o=u,n=1),(u=e.get(c,s))===a?i++:(5<=i&&(r+=i-5+3),a=u,i=1)}5<=n&&(r+=n-5+3),5<=i&&(r+=i-5+3)}return r},s.getPenaltyN2=function(e){for(var t=e.size,r=0,n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var o=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);4!==o&&0!==o||r++}return 3*r},s.getPenaltyN3=function(e){for(var t=e.size,r=0,n=0,i=0,o=0;o<t;o++)for(var a=n=i=0;a<t;a++)n=n<<1&2047|e.get(o,a),10<=a&&(1488===n||93===n)&&r++,i=i<<1&2047|e.get(a,o),10<=a&&(1488===i||93===i)&&r++;return 40*r},s.getPenaltyN4=function(e){for(var t=0,r=e.data.length,n=0;n<r;n++)t+=e.data[n];return 10*Math.abs(Math.ceil(100*t/r/5)-10)},s.applyMask=function(e,t){for(var r=t.size,n=0;n<r;n++)for(var i=0;i<r;i++)t.isReserved(i,n)||t.xor(i,n,function(e,t,r){switch(e){case s.Patterns.PATTERN000:return(t+r)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return r%3==0;case s.Patterns.PATTERN011:return(t+r)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case s.Patterns.PATTERN101:return t*r%2+t*r%3==0;case s.Patterns.PATTERN110:return(t*r%2+t*r%3)%2==0;case s.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}(e,i,n))},s.getBestMask=function(e,t){for(var r=Object.keys(s.Patterns).length,n=0,i=1/0,o=0;o<r;o++){t(o),s.applyMask(o,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(o,e),a<i&&(i=a,n=o)}return n}},6182:function(e,r,t){var n=t(4235),i=t(6820);r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return i.testNumeric(e)?r.NUMERIC:i.testAlphanumeric(e)?r.ALPHANUMERIC:i.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},8633:function(e,t,r){var n=r(6182);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t,r,n=0;n+3<=this.data.length;n+=3)t=this.data.substr(n,3),r=parseInt(t,10),e.put(r,10);var i=this.data.length-n;0<i&&(t=this.data.substr(n),r=parseInt(t,10),e.put(r,3*i+1))},e.exports=i},8930:function(e,n,t){var a=t(8116);n.mul=function(e,t){for(var r=new Uint8Array(e.length+t.length-1),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)r[n+i]^=a.mul(e[n],t[i]);return r},n.mod=function(e,t){for(var r=new Uint8Array(e);0<=r.length-t.length;){for(var n=r[0],i=0;i<t.length;i++)r[i]^=a.mul(t[i],n);for(var o=0;o<r.length&&0===r[o];)o++;r=r.slice(o)}return r},n.generateECPolynomial=function(e){for(var t=new Uint8Array([1]),r=0;r<e;r++)t=n.mul(t,new Uint8Array([1,a.exp(r)]));return t}},9219:function(e,t,r){var x=r(8025),o=r(6866),a=r(2466),s=r(1653),u=r(1797),l=r(7539),f=r(3286),k=r(1140),E=r(5761),p=r(6451),c=r(8223),h=r(6182),d=r(3489);function g(e,t,r){for(var n,i=e.size,o=c.getEncodedBits(t,r),a=0;a<15;a++)n=1==(o>>a&1),a<6?e.set(a,8,n,!0):a<8?e.set(a+1,8,n,!0):e.set(i-15+a,8,n,!0),a<8?e.set(8,i-a-1,n,!0):a<9?e.set(8,15-a-1+1,n,!0):e.set(8,15-a-1,n,!0);e.set(i-8,8,1,!0)}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var r,n,i=o.M;return void 0!==t&&(i=o.from(t.errorCorrectionLevel,o.M),r=p.from(t.version),n=f.from(t.maskPattern),t.toSJISFunc&&x.setToSJISFunction(t.toSJISFunc)),function(e,c,t,r){var n;if(Array.isArray(e))n=d.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i,o=c;o||(i=d.rawSplit(e),o=p.getBestVersionForData(i,t)),n=d.fromString(e,o||40)}if(!(e=p.getBestVersionForData(n,t)))throw new Error("The amount of data is too big to be stored in a QR Code");if(c){if(c<e)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+e+".\n")}else c=e;return o=function(t,e,r){var n=new a;r.forEach(function(e){n.put(e.mode.bit,4),n.put(e.getLength(),h.getCharCountIndicator(e.mode,t)),e.write(n)});r=8*(x.getSymbolTotalCodewords(t)-k.getTotalCodewordsCount(t,e));for(n.getLengthInBits()+4<=r&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var i=(r-n.getLengthInBits())/8,o=0;o<i;o++)n.put(o%2?17:236,8);return function(e,t,r){for(var n=x.getSymbolTotalCodewords(t),i=n-k.getTotalCodewordsCount(t,r),o=k.getBlocksCount(t,r),a=o-n%o,r=Math.floor(n/o),s=Math.floor(i/o),c=s+1,u=r-s,l=new E(u),f=0,p=new Array(o),h=new Array(o),d=0,g=new Uint8Array(e.buffer),m=0;m<o;m++){var v=m<a?s:c;p[m]=g.slice(f,f+v),h[m]=l.encode(p[m]),f+=v,d=Math.max(d,v)}for(var y,b=new Uint8Array(n),w=0,_=0;_<d;_++)for(y=0;y<o;y++)_<p[y].length&&(b[w++]=p[y][_]);for(_=0;_<u;_++)for(y=0;y<o;y++)b[w++]=h[y][_];return b}(n,t,e)}(c,t,n),e=x.getSymbolSize(c),function(e){for(var t=e.size,r=l.getPositions(c),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],a=-1;a<=7;a++)if(!(i+a<=-1||t<=i+a))for(var s=-1;s<=7;s++)o+s<=-1||t<=o+s||(0<=a&&a<=6&&(0===s||6===s)||0<=s&&s<=6&&(0===a||6===a)||2<=a&&a<=4&&2<=s&&s<=4?e.set(i+a,o+s,!0,!0):e.set(i+a,o+s,!1,!0))}(e=new s(e)),function(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2==0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}(e),function(e){for(var t=u.getPositions(c),r=0;r<t.length;r++)for(var n=t[r][0],i=t[r][1],o=-2;o<=2;o++)for(var a=-2;a<=2;a++)-2===o||2===o||-2===a||2===a||0===o&&0===a?e.set(n+o,i+a,!0,!0):e.set(n+o,i+a,!1,!0)}(e),g(e,t,0),7<=c&&function(e){for(var t,r,n,i=e.size,o=p.getEncodedBits(c),a=0;a<18;a++)t=Math.floor(a/3),r=a%3+i-8-3,n=1==(o>>a&1),e.set(t,r,n,!0),e.set(r,t,n,!0)}(e),function(e,t){for(var r=e.size,n=-1,i=r-1,o=7,a=0,s=r-1;0<s;s-=2)for(6===s&&s--;;){for(var c,u=0;u<2;u++)e.isReserved(i,s-u)||(c=!1,a<t.length&&(c=1==(t[a]>>>o&1)),e.set(i,s-u,c),-1===--o&&(a++,o=7));if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(e,o),isNaN(r)&&(r=f.getBestMask(e,g.bind(null,e,t))),f.applyMask(r,e),g(e,t,r),{modules:e,version:c,errorCorrectionLevel:t,maskPattern:r,segments:n}}(e,r,i,n)}},5761:function(e,t,r){var n=r(8930);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new Uint8Array(e.length+this.degree);t.set(e);var r=n.mod(t,this.genPoly),e=this.degree-r.length;if(0<e){t=new Uint8Array(this.degree);return t.set(r,e),t}return r},e.exports=i},6820:function(e,t){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",n="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+".replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(n,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+r+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},3489:function(e,a,t){var d=t(6182),n=t(8633),i=t(7751),o=t(338),s=t(89),c=t(6820),u=t(8025),l=t(7094);function f(e){return unescape(encodeURIComponent(e)).length}function p(e,t,r){for(var n,i=[];null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function h(e){var t,r=p(c.NUMERIC,d.NUMERIC,e),n=p(c.ALPHANUMERIC,d.ALPHANUMERIC,e),e=u.isKanjiModeEnabled()?(t=p(c.BYTE,d.BYTE,e),p(c.KANJI,d.KANJI,e)):(t=p(c.BYTE_KANJI,d.BYTE,e),[]);return r.concat(n,t,e).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case d.NUMERIC:return n.getBitsLength(e);case d.ALPHANUMERIC:return i.getBitsLength(e);case d.KANJI:return s.getBitsLength(e);case d.BYTE:return o.getBitsLength(e)}}function r(e,t){var r=d.getBestModeForData(e),t=d.from(t,r);if(t!==d.BYTE&&t.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+d.toString(t)+".\n Suggested mode is: "+d.toString(r));switch(t!==d.KANJI||u.isKanjiModeEnabled()||(t=d.BYTE),t){case d.NUMERIC:return new n(e);case d.ALPHANUMERIC:return new i(e);case d.KANJI:return new s(e);case d.BYTE:return new o(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(r(t,null)):t.data&&e.push(r(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var r=function(e,t){for(var r={},n={start:{}},i=["start"],o=0;o<e.length;o++){for(var a=e[o],s=[],c=0;c<a.length;c++){var u=a[c],l=""+o+c;s.push(l),r[l]={node:u,lastCount:0},n[l]={};for(var f=0;f<i.length;f++){var p=i[f];r[p]&&r[p].node.mode===u.mode?(n[p][l]=g(r[p].lastCount+u.length,u.mode)-g(r[p].lastCount,u.mode),r[p].lastCount+=u.length):(r[p]&&(r[p].lastCount=u.length),n[p][l]=g(u.length,u.mode)+4+d.getCharCountIndicator(u.mode,t))}}i=s}for(var h=0;h<i.length;h++)n[i[h]].end=0;return{map:n,table:r}}(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];switch(n.mode){case d.NUMERIC:t.push([n,{data:n.data,mode:d.ALPHANUMERIC,length:n.length},{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.ALPHANUMERIC:t.push([n,{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.KANJI:t.push([n,{data:n.data,mode:d.BYTE,length:f(n.data)}]);break;case d.BYTE:t.push([{data:n.data,mode:d.BYTE,length:f(n.data)}])}}return t}(h(e,u.isKanjiModeEnabled())),t),n=l.find_path(r.map,"start","end"),i=[],o=1;o<n.length-1;o++)i.push(r.table[n[o]].node);return a.fromArray(i.reduce(function(e,t){var r=0<=e.length-1?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(h(e,u.isKanjiModeEnabled()))}},8025:function(e,t){var r,n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},4235:function(e,t){t.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},6451:function(e,i,t){var o=t(8025),a=t(1140),n=t(6866),s=t(6182),c=t(4235),r=o.getBCHDigit(7973);function u(e,t){return s.getCharCountIndicator(e,t)+4}i.from=function(e,t){return c.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,r){if(!c.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);t=8*(o.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(r===s.MIXED)return t;var n=t-u(r,e);switch(r){case s.NUMERIC:return Math.floor(n/10*3);case s.ALPHANUMERIC:return Math.floor(n/11*2);case s.KANJI:return Math.floor(n/13);case s.BYTE:default:return Math.floor(n/8)}},i.getBestVersionForData=function(e,t){var r,t=n.from(t,n.M);if(Array.isArray(e)){if(1<e.length)return function(e,t){for(var r=1;r<=40;r++)if(function(e,r){var n=0;return e.forEach(function(e){var t=u(e.mode,r);n+=t+e.getBitsLength()}),n}(e,r)<=i.getCapacity(r,t,s.MIXED))return r}(e,t);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,t,r){for(var n=1;n<=40;n++)if(t<=i.getCapacity(n,r,e))return n}(r.mode,r.getLength(),t)},i.getEncodedBits=function(e){if(!c.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=o.getBCHDigit(t)-r;)t^=7973<<o.getBCHDigit(t)-r;return e<<12|t}},4810:function(e,n,t){var a=t(3194);n.render=function(e,t,r){var n=r,i=t;void 0!==n||t&&t.getContext||(n=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),n=a.getOptions(n);var o=a.getImageWidth(e.modules.size,n),r=i.getContext("2d"),t=r.createImageData(o,o);return a.qrToImageData(t.data,e,n),n=i,o=o,r.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=o,n.width=o,n.style.height=o+"px",n.style.width=o+"px",r.putImageData(t,0,0),i},n.renderToDataURL=function(e,t,r){void 0!==r||t&&t.getContext||(r=t,t=void 0),r=r||{};e=n.render(e,t,r),t=r.type||"image/png",r=r.rendererOpts||{};return e.toDataURL(t,r.quality)}},3620:function(e,t,r){var a=r(3194);function s(e,t){var r=e.a/255,e=t+'="'+e.hex+'"';return r<1?e+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':e}function l(e,t,r){t=e+t;return void 0!==r&&(t+=" "+r),t}t.render=function(e,t,r){var n=a.getOptions(t),i=e.modules.size,o=e.modules.data,t=i+2*n.margin,e=n.color.light.a?"<path "+s(n.color.light,"fill")+' d="M0 0h'+t+"v"+t+'H0z"/>':"",i="<path "+s(n.color.dark,"stroke")+' d="'+function(e,t,r){for(var n="",i=0,o=!1,a=0,s=0;s<e.length;s++){var c=Math.floor(s%t),u=Math.floor(s/t);c||o||(o=!0),e[s]?(a++,0<s&&0<c&&e[s-1]||(n+=o?l("M",c+r,.5+u+r):l("m",i,0),i=0,o=!1),c+1<t&&e[s+1]||(n+=l("h",a),a=0)):i++}return n}(o,i,n.margin)+'"/>',t='viewBox="0 0 '+t+" "+t+'"',i='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+t+' shape-rendering="crispEdges">'+e+i+"</svg>\n";return"function"==typeof r&&r(null,i),i}},3194:function(e,h){function i(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}h.getOptions=function(e){(e=e||{}).color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&21<=e.width?e.width:void 0,n=e.scale||4;return{width:r,scale:r?4:n,margin:t,color:{dark:i(e.color.dark||"#000000ff"),light:i(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},h.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},h.getImageWidth=function(e,t){var r=h.getScale(e,t);return Math.floor((e+2*t.margin)*r)},h.qrToImageData=function(e,t,r){for(var n=t.modules.size,i=t.modules.data,o=h.getScale(n,r),a=Math.floor((n+2*r.margin)*o),s=r.margin*o,c=[r.color.light,r.color.dark],u=0;u<a;u++)for(var l=0;l<a;l++){var f=4*(u*a+l),p=r.color.light;s<=u&&s<=l&&u<a-s&&l<a-s&&(p=c[i[Math.floor((u-s)/o)*n+Math.floor((l-s)/o)]?1:0]),e[f++]=p.r,e[f++]=p.g,e[f++]=p.b,e[f]=p.a}}},9545:function(e,s,t){var r=t(1447),n=t(8424),d=t(8490),o=t(4671),c=Symbol("encodeFragmentIdentifier");function g(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?(t.strict?r:encodeURIComponent)(e):e}function m(e,t){return t.decode?n(e):e}function l(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function i(e){var t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function a(e,t){g((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(o){var n;switch(o.arrayFormat){case"index":return function(e,t,r){n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===r[e]&&(r[e]={}),r[e][n[1]]=t):r[e]=t};case"bracket":return function(e,t,r){n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};case"colon-list-separator":return function(e,t,r){n=/(:list)$/.exec(e),e=e.replace(/:list$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};case"comma":case"separator":return function(e,t,r){var n="string"==typeof t&&t.includes(o.arrayFormatSeparator),i="string"==typeof t&&!n&&m(t,o).includes(o.arrayFormatSeparator);t=i?m(t,o):t;t=n||i?t.split(o.arrayFormatSeparator).map(function(e){return m(e,o)}):null===t?t:m(t,o);r[e]=t};case"bracket-separator":return function(e,t,r){var n=/(\[\])$/.test(e);e=e.replace(/\[\]$/,""),n?(n=null===t?[]:t.split(o.arrayFormatSeparator).map(function(e){return m(e,o)}),void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=n):r[e]=t&&m(t,o)};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;var i=_createForOfIteratorHelper(e.split("&"));try{for(i.s();!(o=i.n()).done;){var o,a=o.value;""!==a&&(a=(o=_slicedToArray(d(t.decode?a.replace(/\+/g," "):a,"="),2))[0],o=void 0===(o=o[1])?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:m(o,t),r(m(a,t),o,n))}}catch(e){i.e(e)}finally{i.f()}for(var s=0,c=Object.keys(n);s<c.length;s++){var u=c[s],l=n[u];if("object"==_typeof(l)&&null!==l)for(var f=0,p=Object.keys(l);f<p.length;f++){var h=p[f];l[h]=v(l[h],t)}else n[u]=v(l,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"==_typeof(r)&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==_typeof(t)?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(r):e[t]=r,e},Object.create(null))}s.extract=i,s.parse=a,s.stringify=function(r,n){if(!r)return"";g((n=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},n)).arrayFormatSeparator);for(var e,i=function(i){switch(i.arrayFormat){case"index":return function(n){return function(e,t){var r=e.length;return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[[u(n,i),"[",r,"]"].join("")]:[[u(n,i),"[",u(r,i),"]=",u(t,i)].join("")])}};case"bracket":return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[[u(r,i),"[]"].join("")]:[[u(r,i),"[]=",u(t,i)].join("")])}};case"colon-list-separator":return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[[u(r,i),":list="].join("")]:[[u(r,i),":list=",u(t,i)].join("")])}};case"comma":case"separator":case"bracket-separator":var n="bracket-separator"===i.arrayFormat?"[]=":"=";return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:(t=null===t?"":t,0===e.length?[[u(r,i),n,u(t,i)].join("")]:[[e,u(t,i)].join(i.arrayFormatSeparator)])}};default:return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[u(r,i)]:[[u(r,i),"=",u(t,i)].join("")])}}}}(n),t={},o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];e=s,n.skipNull&&null==r[e]||n.skipEmptyString&&""===r[e]||(t[s]=r[s])}var c=Object.keys(t);return!1!==n.sort&&c.sort(n.sort),c.map(function(e){var t=r[e];return void 0===t?"":null===t?u(e,n):Array.isArray(t)?0===t.length&&"bracket-separator"===n.arrayFormat?u(e,n)+"[]":t.reduce(i(e),[]).join("&"):u(e,n)+"="+u(t,n)}).filter(function(e){return 0<e.length}).join("&")},s.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=_slicedToArray(d(e,"#"),2),n=r[0],r=r[1];return Object.assign({url:n.split("?")[0]||"",query:a(i(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:m(r,t)}:{})},s.stringifyUrl=function(e,t){t=Object.assign(_defineProperty({encode:!0,strict:!0},c,!0),t);var r=l(e.url).split("?")[0]||"",n=s.extract(e.url),i=s.parse(n,{sort:!1}),o=Object.assign(i,e.query),a=(a=s.stringify(o,t))&&"?".concat(a),i=(n=e.url,i="",-1!==(o=n.indexOf("#"))&&(i=n.slice(o)),i);return e.fragmentIdentifier&&(i="#".concat(t[c]?u(e.fragmentIdentifier,t):e.fragmentIdentifier)),"".concat(r).concat(a).concat(i)},s.pick=function(e,t,r){r=Object.assign(_defineProperty({parseFragmentIdentifier:!0},c,!1),r);var n=s.parseUrl(e,r),i=n.url,e=n.query,n=n.fragmentIdentifier;return s.stringifyUrl({url:i,query:o(e,t),fragmentIdentifier:n},r)},s.exclude=function(e,r,t){var n=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return s.pick(e,n,t)}},5024:function(e){function d(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,t,r){var n=r&&r.stringify||d;if("object"==_typeof(e)&&null!==e){var i=t.length+1;if(1===i)return e;var o=new Array(i);o[0]=n(e);for(var a=1;a<i;a++)o[a]=n(t[a]);return o.join(" ")}if("string"!=typeof e)return e;var s=t.length;if(0===s)return e;for(var c="",u=0,l=-1,f=e&&e.length||0,p=0;p<f;){if(37===e.charCodeAt(p)&&p+1<f){switch(l=-1<l?l:0,e.charCodeAt(p+1)){case 100:case 102:if(s<=u)break;if(null==t[u])break;l<p&&(c+=e.slice(l,p)),c+=Number(t[u]),l=p+2,p++;break;case 105:if(s<=u)break;if(null==t[u])break;l<p&&(c+=e.slice(l,p)),c+=Math.floor(Number(t[u])),l=p+2,p++;break;case 79:case 111:case 106:if(s<=u)break;if(void 0===t[u])break;l<p&&(c+=e.slice(l,p));var h=_typeof(t[u]);if("string"===h){c+="'"+t[u]+"'",l=p+2,p++;break}if("function"===h){c+=t[u].name||"<anonymous>",l=p+2,p++;break}c+=n(t[u]),l=p+2,p++;break;case 115:if(s<=u)break;l<p&&(c+=e.slice(l,p)),c+=String(t[u]),l=p+2,p++;break;case 37:l<p&&(c+=e.slice(l,p)),c+="%",l=p+2,p++,u--}++u}++p}return-1===l?e:(l<f&&(c+=e.slice(l)),c)}},2987:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+_typeof(t));try{return JSON.parse(t)}catch(e){return t}},t.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,function(e,t){return void 0===t?null:t})}},8490:function(e){e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},1447:function(e){e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})}},1003:function(e,t,r){r.r(t),r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return y},__awaiter:function(){return l},__classPrivateFieldGet:function(){return O},__classPrivateFieldSet:function(){return C},__createBinding:function(){return p},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return E},__importStar:function(){return k},__makeTemplateObject:function(){return x},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return a},__spread:function(){return m},__spreadArrays:function(){return v},__values:function(){return d}});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,r,a):i(t,r))||a);return 3<o&&a&&Object.defineProperty(t,r,a),a}function c(r,n){return function(e,t){n(e,t,r)}}function u(e,t){if("object"==("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,a,s,c){return new(s=s||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,i)}o((c=c.apply(e,a||[])).next())})}function f(r,n){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function p(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),o=[],a={};return n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a;function n(n){i[n]&&(a[n]=function(r){return new Promise(function(e,t){1<o.push([n,r,e,t])||s(n,r)})})}function s(e,t){try{(r=i[e](t)).value instanceof y?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(n){var i,e={};return t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,r){e[t]=n[t]?function(e){return(i=!i)?{value:y(n[t](e)),done:"return"===t}:r?r(e):e}:r}}function _(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=a[Symbol.asyncIterator];return t?t.call(a):(a=d(a),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=a[o]&&function(i){return new Promise(function(e,t){var r,n;r=e,e=t,n=(i=a[o](i)).done,t=i.value,Promise.resolve(t).then(function(e){r({value:e,done:n})},e)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},6664:function(e){e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},5883:function(){},2312:function(e,t,r){var d=r(5024);e.exports=m;var g=function(){function t(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},e={mapHttpRequest:n,mapHttpResponse:n,wrapRequestSerializer:i,wrapResponseSerializer:i,wrapErrorSerializer:i,req:n,res:n,err:function(e){var t,r={type:e.constructor.name,msg:e.message,stack:e.stack};for(t in e)void 0===r[t]&&(r[t]=e[t]);return r}};function m(o){(o=o||{}).browser=o.browser||{};var a=o.browser.transmit;if(a&&"function"!=typeof a.send)throw Error("pino: transmit option must have a send function");var e=o.browser.write||g;o.browser.write&&(o.browser.asObject=!0);var s=o.serializers||{},c=(t=o.browser.serialize,r=s,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(r)),t=o.browser.serialize;Array.isArray(o.browser.serialize)&&-1<o.browser.serialize.indexOf("!stdSerializers.err")&&(t=!1),"function"==typeof e&&(e.error=e.fatal=e.warn=e.info=e.debug=e.trace=e),!1===o.enabled&&(o.level="silent");var r=o.level||"info",n=Object.create(e);n.log||(n.log=b),Object.defineProperty(n,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(n,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,u(i,n,"error","log"),u(i,n,"fatal","error"),u(i,n,"warn","error"),u(i,n,"info","log"),u(i,n,"debug","log"),u(i,n,"trace","log")}});var i={transmit:a,serialize:c,asObject:o.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(e=o).timestamp?e.timestamp:!1===e.timestamp?f:p};return n.levels=m.levels,n.level=r,n.setMaxListeners=n.getMaxListeners=n.emit=n.addListener=n.on=n.prependListener=n.once=n.prependOnceListener=n.removeListener=n.removeAllListeners=n.listeners=n.listenerCount=n.eventNames=n.write=n.flush=b,n.serializers=s,n._serialize=c,n._stdErrSerialize=t,n.child=function(t,e){if(!t)throw new Error("missing bindings for child Pino");e=e||{},c&&t.serializers&&(e.serializers=t.serializers);var r,n,e=e.serializers;function i(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,t,"error"),this.fatal=l(e,t,"fatal"),this.warn=l(e,t,"warn"),this.info=l(e,t,"info"),this.debug=l(e,t,"debug"),this.trace=l(e,t,"trace"),r&&(this.serializers=r,this._serialize=n),a&&(this._logEvent=y([].concat(e._logEvent.bindings,t)))}return c&&e&&(r=Object.assign({},s,e),n=!0===o.browser.serialize?Object.keys(r):c,delete t.serializers,v([t],n,r,this._stdErrSerialize)),i.prototype=this,new i(this)},a&&(n._logEvent=y()),n}function u(e,t,r,n){var l,f,p,h,i=Object.getPrototypeOf(t);t[r]=!(t.levelVal>t.levels.values[r])&&(i[r]||g[r]||g[n])||b,f=t,p=r,!(l=e).transmit&&f[p]===b||(f[p]=(h=f[p],function(){for(var e,t,r,n,i,o,a=l.timestamp(),s=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===g?g:this,u=0;u<s.length;u++)s[u]=arguments[u];l.serialize&&!l.asObject&&v(s,this._serialize,this.serializers,this._stdErrSerialize),l.asObject?h.call(c,function(e,t,r,n){e._serialize&&v(r,e._serialize,e.serializers,e._stdErrSerialize);var i=r.slice(),r=i[0],o={};n&&(o.time=n),o.level=m.levels.values[t];var a=1+(0|e._childLevel);if(a<1&&(a=1),null!==r&&"object"==_typeof(r)){for(;a--&&"object"==_typeof(i[0]);)Object.assign(o,i.shift());r=i.length?d(i.shift(),i):void 0}else"string"==typeof r&&(r=d(i.shift(),i));return void 0!==r&&(o.msg=r),o}(this,p,s,a)):h.apply(c,s),l.transmit&&(i=l.transmit.level||f.level,r=m.levels.values[i],(n=m.levels.values[p])<r||(e=this,t={ts:a,methodLevel:p,methodValue:n,transmitLevel:i,transmitValue:m.levels.values[l.transmit.level||f.level],send:l.transmit.send,val:f.levelVal},c=s,r=t.send,a=t.ts,n=t.methodLevel,i=t.methodValue,t=t.val,o=e._logEvent.bindings,v(c,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=a,e._logEvent.messages=c.filter(function(e){return-1===o.indexOf(e)}),e._logEvent.level.label=n,e._logEvent.level.value=i,r(n,e._logEvent,t),e._logEvent=y(o)))}))}function v(e,t,r,n){for(var i in e)if(n&&e[i]instanceof Error)e[i]=m.stdSerializers.err(e[i]);else if("object"==_typeof(e[i])&&!Array.isArray(e[i]))for(var o in e[i])t&&-1<t.indexOf(o)&&o in r&&(e[i][o]=r[o](e[i][o]))}function l(r,n,i){return function(){var e=new Array(1+arguments.length);e[0]=n;for(var t=1;t<e.length;t++)e[t]=arguments[t-1];return r[i].apply(this,e)}}function y(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function n(){return{}}function i(e){return e}function b(){}function f(){return!1}function p(){return Date.now()}m.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},m.stdSerializers=e,m.stdTimeFunctions=Object.assign({},{nullTime:f,epochTime:p,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},5348:function(e,t,r){r.d(t,{ConfigCtrl:function(){return m},zv:function(){return p},uA:function(){return l},ExplorerCtrl:function(){return V},jb:function(){return K},OptionsCtrl:function(){return d},AV:function(){return c},ThemeCtrl:function(){return X},ToastCtrl:function(){return te}}),Symbol();function f(e,t){t=!(1<arguments.length&&void 0!==t)||t,k.set(e,t)}function w(e){return"object"==_typeof(e)&&null!==e}var _=Symbol(),x=Object.getPrototypeOf,k=new WeakMap,E=new WeakMap,O=new WeakSet,t=function(e,t,r,n,i,o,a,s,c){var h=0<arguments.length&&void 0!==e?e:Object.is,d=1<arguments.length&&void 0!==t?t:function(e,t){return new Proxy(e,t)},g=2<arguments.length&&void 0!==r?r:function(e){return w(e)&&!O.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)},u=3<arguments.length&&void 0!==n?n:function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},l=4<arguments.length&&void 0!==i?i:new WeakMap,m=5<arguments.length&&void 0!==o?o:function(o,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u,t=l.get(o);if((null==t?void 0:t[0])===e)return t[1];var s=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o));return f(s,!0),l.set(o,[e,s]),Reflect.ownKeys(o).forEach(function(e){var t,r,n,i;Object.getOwnPropertyDescriptor(s,e)||(r={value:t=Reflect.get(o,e),enumerable:!0,configurable:!0},O.has(t)?f(t,!1):t instanceof Promise?(delete r.value,r.get=function(){return a(t)}):E.has(t)&&(n=(i=_slicedToArray(E.get(t),2))[0],i=i[1],r.value=m(n,i(),a)),Object.defineProperty(s,e,r))}),Object.preventExtensions(s)},v=6<arguments.length&&void 0!==a?a:new WeakMap,y=7<arguments.length&&void 0!==s?s:[1,1],b=8<arguments.length&&void 0!==c?c:function(r){if(!w(r))throw new Error("object required");var e=v.get(r);if(e)return e;function c(t,e){var r=1<arguments.length&&void 0!==e?e:++y[0];n!==r&&(n=r,f.forEach(function(e){return e(t,r)}))}function u(r){return function(e,t){e=_toConsumableArray(e);e[1]=[r].concat(_toConsumableArray(e[1])),c(e,t)}}function l(e){var t=p.get(e);t&&(p.delete(e),null==(e=t[1])||e.call(t))}var n=y[0],f=new Set,i=y[1],p=new Map,o=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r)),a=d(o,{deleteProperty:function(e,t){var r=Reflect.get(e,t);l(t);e=Reflect.deleteProperty(e,t);return e&&c(["delete",[t],r]),e},set:function(e,t,r,n){var i=Reflect.has(e,t),o=Reflect.get(e,t,n);if(i&&(h(o,r)||v.has(r)&&h(o,v.get(r))))return!0;l(t),w(r)&&(r=(s=a=r)&&(k.has(s)?k.get(s):x(s)===Object.prototype||x(s)===Array.prototype)&&a[_]||null||r);var a,s=r;return r instanceof Promise?r.then(function(e){r.status="fulfilled",r.value=e,c(["resolve",[t],e])}).catch(function(e){r.status="rejected",r.reason=e,c(["reject",[t],e])}):(!E.has(r)&&g(r)&&(s=b(r)),(a=!O.has(s)&&E.get(s))&&function(e,t){if(p.has(e))throw new Error("prop listener already exists");var r;f.size?(r=t[3](u(e)),p.set(e,[t,r])):p.set(e,[t])}(t,a)),Reflect.set(e,t,s,n),c(["set",[t],r,o]),!0}});v.set(r,a);e=[o,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:++y[1];return i===t||f.size||(i=t,p.forEach(function(e){e=_slicedToArray(e,1)[0][1](t);n<e&&(n=e)})),n},m,function(e){return f.add(e),1===f.size&&p.forEach(function(e,t){var r=_slicedToArray(e,2),e=r[0];if(r[1])throw new Error("remove already exists");r=e[3](u(t));p.set(t,[e,r])}),function(){f.delete(e),0===f.size&&p.forEach(function(e,t){var r=_slicedToArray(e,2),e=r[0],r=r[1];r&&(r(),p.set(t,[e]))})}}];return E.set(a,e),Reflect.ownKeys(r).forEach(function(e){var t=Object.getOwnPropertyDescriptor(r,e);"value"in t&&(a[e]=r[e],delete t.value,delete t.writable),Object.defineProperty(o,e,t)}),a};return[b,E,O,h,d,g,u,l,m,v,y]}(),n=_slicedToArray(t,1)[0];function i(e){return n(0<arguments.length&&void 0!==e?e:{})}function o(e,t,r){var n,e=E.get(e);e||console.warn("Please use proxy object");var i=[],e=e[3],o=!1,a=e(function(e){i.push(e),r?t(i.splice(0)):n=n||Promise.resolve().then(function(){n=void 0,o&&t(i.splice(0))})}),o=!0;return function(){o=!1,a()}}var a,s=i({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),c={state:s,subscribe:function(e){return o(s,function(){return e(s)})},push:function(e,t){e!==s.view&&(s.view=e,t&&(s.data=t),s.history.push(e))},reset:function(e){s.view=e,s.history=[e]},replace:function(e){1<s.history.length&&(s.history[s.history.length-1]=e,s.view=e)},goBack:function(){var e;1<s.history.length&&(s.history.pop(),e=_slicedToArray(s.history.slice(-1),1)[0],s.view=e)},setData:function(e){s.data=e}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:function(){return("undefined"==typeof window?"undefined":_typeof(window))<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent))},isAndroid:function(){return p.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos:function(){var e=navigator.userAgent.toLowerCase();return p.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:function(e){return e.startsWith("http://")||e.startsWith("https://")},isArray:function(e){return Array.isArray(e)&&0<e.length},formatNativeUrl:function(e,t,r){if(p.isHttpUrl(e))return this.formatUniversalUrl(e,t,r);var n=e;return n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n="".concat(n,"://")),n.endsWith("/")||(n="".concat(n,"/")),this.setWalletConnectDeepLink(n,r),"".concat(n,"wc?uri=").concat(encodeURIComponent(t))},formatUniversalUrl:function(e,t,r){if(!p.isHttpUrl(e))return this.formatNativeUrl(e,t,r);return e.endsWith("/")||(e="".concat(e,"/")),this.setWalletConnectDeepLink(e,r),"".concat(e,"wc?uri=").concat(encodeURIComponent(t))},wait:(a=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(e,t)}));case 1:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),openHref:function(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink:function(e,t){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(e){console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink:function(e){try{var t=_slicedToArray(e.split("?"),1)[0];localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch(e){console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink:function(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch(e){console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage:function(){try{("undefined"==typeof localStorage?"undefined":_typeof(localStorage))<"u"&&localStorage.setItem(p.WCM_VERSION,"2.6.2")}catch(e){console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData:function(){var e=null==(e=c.state.data)?void 0:e.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},u=i({enabled:("undefined"==typeof location?"undefined":_typeof(location))<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),l={state:u,subscribe:function(e){return o(u.events,function(){return e(function(e){var t=E.get(e);t||console.warn("Please use proxy object");var r=_slicedToArray(t,3),e=r[0],t=r[1];return(0,r[2])(e,t(),void 0)}(u.events[u.events.length-1]))})},initialize:function(){u.enabled&&_typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(u.userSessionId=crypto.randomUUID())},setConnectedWalletId:function(e){u.connectedWalletId=e},click:function(e){u.enabled&&(e={type:"CLICK",name:e.name,userSessionId:u.userSessionId,timestamp:Date.now(),data:e},u.events.push(e))},track:function(e){u.enabled&&(e={type:"TRACK",name:e.name,userSessionId:u.userSessionId,timestamp:Date.now(),data:e},u.events.push(e))},view:function(e){u.enabled&&(e={type:"VIEW",name:e.name,userSessionId:u.userSessionId,timestamp:Date.now(),data:e},u.events.push(e))}},h=i({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),d={state:h,subscribe:function(e){return o(h,function(){return e(h)})},setChains:function(e){h.chains=e},setWalletConnectUri:function(e){h.walletConnectUri=e},setIsCustomDesktop:function(e){h.isCustomDesktop=e},setIsCustomMobile:function(e){h.isCustomMobile=e},setIsDataLoaded:function(e){h.isDataLoaded=e},setIsUiLoaded:function(e){h.isUiLoaded=e},setIsAuth:function(e){h.isAuth=e}},g=i({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),m={state:g,subscribe:function(e){return o(g,function(){return e(g)})},setConfig:function(e){var t;l.initialize(),d.setChains(e.chains),d.setIsAuth(Boolean(e.enableAuthMode)),d.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),d.setIsCustomDesktop(Boolean(null==(t=e.desktopWallets)?void 0:t.length)),p.setModalVersionInStorage(),Object.assign(g,e)}},v=Object.defineProperty,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,R=function(e,t,r){return t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},S="https://explorer-api.walletconnect.com",T="wcm",I="js-2.6.2";function A(){return j.apply(this,arguments)}function j(){return(j=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t){for(var r in t=t||{})b.call(t,r)&&R(e,r,t[r]);if(y){var n,i=_createForOfIteratorHelper(y(t));try{for(i.s();!(n=i.n()).done;){r=n.value;C.call(t,r)&&R(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({sdkType:T,sdkVersion:I},r),(i=new URL(t,S)).searchParams.append("projectId",m.state.projectId),Object.entries(n).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];t&&i.searchParams.append(e,String(t))}),e.next=5,fetch(i);case 5:return e.abrupt("return",e.sent.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t,r){return t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function L(e,t,r){return t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}var N,M=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("/w3m/v1/getDesktopListings",t));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("/w3m/v1/getMobileListings",t));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("/w3m/v1/getAllListings",t));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=Object.defineProperty,G=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,H=p.isMobile(),q=i({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:q,getRecomendedWallets:function(){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.state,r=n.explorerRecommendedWalletIds,t=n.explorerExcludedWalletIds,"NONE"===r||"ALL"===t&&!r)return e.abrupt("return",q.recomendedWallets);e.next=3;break;case 3:if(p.isArray(r))return n={recommendedIds:r.join(",")},e.next=7,D(n);e.next=13;break;case 7:i=e.sent,i=i.listings,(i=Object.values(i)).sort(function(e,t){return r.indexOf(e.id)-r.indexOf(t.id)}),q.recomendedWallets=i,e.next=31;break;case 13:if(o=d.state,a=o.chains,i=o.isAuth,o=null==a?void 0:a.join(","),a=p.isArray(t),o={page:1,sdks:i?"auth_v1":void 0,entries:p.RECOMMENDED_WALLET_AMOUNT,chains:o,version:2,excludedIds:a?t.join(","):void 0},H)return e.next=22,U(o);e.next=25;break;case 22:e.t0=e.sent,e.next=28;break;case 25:return e.next=27,M(o);case 27:e.t0=e.sent;case 28:a=e.t0,a=a.listings,q.recomendedWallets=Object.values(a);case 31:return e.abrupt("return",q.recomendedWallets);case 32:case"end":return e.stop()}},e)}))()},getWallets:function(l){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e,t){for(var r in t=t||{})W.call(t,r)&&P(e,r,t[r]);if(G){var n,i=_createForOfIteratorHelper(G(t));try{for(i.s();!(n=i.n()).done;){r=n.value;B.call(t,r)&&P(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({},l),s=m.state,r=s.explorerRecommendedWalletIds,n=s.explorerExcludedWalletIds,i=q.recomendedWallets,"ALL"===n)return e.abrupt("return",q.wallets);e.next=3;break;case 3:if(i.length?t.excludedIds=i.map(function(e){return e.id}).join(","):p.isArray(r)&&(t.excludedIds=r.join(",")),p.isArray(n)&&(t.excludedIds=[t.excludedIds,n].filter(Boolean).join(",")),d.state.isAuth&&(t.sdks="auth_v1"),o=l.page,a=l.search,H)return e.next=9,U(t);e.next=12;break;case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,M(t);case 14:e.t0=e.sent;case 15:return c=e.t0,u=c.listings,s=c.total,c=Object.values(u),u=a?"search":"wallets",e.abrupt("return",(q[u]={listings:[].concat(_toConsumableArray(q[u].listings),_toConsumableArray(c)),total:s,page:null!=o?o:1},{listings:c,total:s}));case 21:case"end":return e.stop()}},e)}))()},getWalletImageUrl:function(e){return e=e,"".concat(S,"/w3m/v1/getWalletImage/").concat(e,"?projectId=").concat(m.state.projectId,"&sdkType=").concat(T,"&sdkVersion=").concat(I)},getAssetImageUrl:function(e){return e=e,"".concat(S,"/w3m/v1/getAssetImage/").concat(e,"?projectId=").concat(m.state.projectId,"&sdkType=").concat(T,"&sdkVersion=").concat(I)},resetSearch:function(){q.search={listings:[],total:0,page:1}}},F=i({open:!1}),K={state:F,subscribe:function(e){return o(F,function(){return e(F)})},open:(N=_asyncToGenerator(regeneratorRuntime.mark(function e(i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){var r,e=d.state,n=e.isUiLoaded,e=e.isDataLoaded;p.removeWalletConnectDeepLink(),d.setWalletConnectUri(null==i?void 0:i.uri),d.setChains(null==i?void 0:i.chains),c.reset("ConnectWallet"),n&&e?(F.open=!0,t()):r=setInterval(function(){var e=d.state;e.isUiLoaded&&e.isDataLoaded&&(clearInterval(r),F.open=!0,t())},200)}));case 1:case"end":return e.stop()}},e)})),function(e){return N.apply(this,arguments)}),close:function(){F.open=!1}},$=Object.defineProperty,Y=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,J=i({themeMode:("undefined"==typeof matchMedia?"undefined":_typeof(matchMedia))<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:J,subscribe:function(e){return o(J,function(){return e(J)})},setThemeConfig:function(e){var t=e.themeMode,e=e.themeVariables;t&&(J.themeMode=t),e&&(J.themeVariables=function(e,t){for(var r in t=t||{})Z.call(t,r)&&L(e,r,t[r]);if(Y){var n,i=_createForOfIteratorHelper(Y(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Q.call(t,r)&&L(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({},e))}},ee=i({open:!1,message:"",variant:"success"}),te={state:ee,subscribe:function(e){return o(ee,function(){return e(ee)})},openToast:function(e,t){ee.open=!0,ee.message=e,ee.variant=t},closeToast:function(){ee.open=!1}}},8709:function(e,t,r){r.r(t),r.d(t,{WcmModal:function(){return ur},WcmQrCode:function(){return Gt}});function i(e,t){return t!==e&&(t==t||e==e)}var o=window,a=o.ShadowRoot&&(void 0===o.ShadyCSS||o.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),c=new WeakMap,u=function(){function n(e,t,r){if(_classCallCheck(this,n),this._$cssResult$=!0,r!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}return _createClass(n,[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){var e,t=this.o,r=this.t;return a&&void 0===t&&((e=void 0!==r&&1===r.length)&&(t=c.get(r)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&c.set(r,t))),t}}]),n}(),n=function(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=1===n.length?n[0]:t.reduce(function(e,t,r){return e+function(){if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}()+n[r+1]},n[0]);return new u(i,n,s)},l=a?function(e){return e}:function(n){return n instanceof CSSStyleSheet?function(){var e,t="",r=_createForOfIteratorHelper(n.cssRules);try{for(r.s();!(e=r.n()).done;)t+=e.value.cssText}catch(e){r.e(e)}finally{r.f()}return new u("string"==typeof t?t:t+"",void 0,s)}():n},f=window,p=f.trustedTypes,h=p?p.emptyScript:"",t=f.reactiveElementPolyfillSupport,d={toAttribute:function(e,t){switch(t){case Boolean:e=e?h:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},g={attribute:!0,type:String,converter:d,reflect:!1,hasChanged:i},m="finalized",v=function(){_inherits(r,_wrapNativeSuper(HTMLElement));var e,t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this))._$Ei=new Map,e.isUpdatePending=!1,e.hasUpdated=!1,e._$El=null,e._$Eu(),e}return _createClass(r,[{key:"_$Eu",value:function(){var e,t=this;this._$E_=new Promise(function(e){return t.enableUpdating=e}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach(function(e){return e(t)})}},{key:"addController",value:function(e){var t;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(t=e.hostConnected)||void 0===t||t.call(e))}},{key:"removeController",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}},{key:"_$Eg",value:function(){var r=this;this.constructor.elementProperties.forEach(function(e,t){r.hasOwnProperty(t)&&(r._$Ei.set(t,r[t]),delete r[t])})}},{key:"createRenderRoot",value:function(){var n,e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return n=t,e=this.constructor.elementStyles,a?n.adoptedStyleSheets=e.map(function(e){return e instanceof CSSStyleSheet?e:e.styleSheet}):e.forEach(function(e){var t=document.createElement("style"),r=o.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=e.cssText,n.appendChild(t)}),t}},{key:"connectedCallback",value:function(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach(function(e){var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})}},{key:"enableUpdating",value:function(){}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._$ES)||void 0===e||e.forEach(function(e){var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})}},{key:"attributeChangedCallback",value:function(e,t,r){this._$AK(e,r)}},{key:"_$EO",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:g,i=this.constructor._$Ep(e,n);void 0!==i&&!0===n.reflect&&(n=(void 0!==(null===(r=n.converter)||void 0===r?void 0:r.toAttribute)?n.converter:d).toAttribute(t,n.type),this._$El=e,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$El=null)}},{key:"_$AK",value:function(e,t){var r,n=this.constructor,e=n._$Ev.get(e);void 0!==e&&this._$El!==e&&(r="function"==typeof(n=n.getPropertyOptions(e)).converter?{fromAttribute:n.converter}:void 0!==(null===(r=n.converter)||void 0===r?void 0:r.fromAttribute)?n.converter:d,this._$El=e,this[e]=r.fromAttribute(t,n.type),this._$El=null)}},{key:"requestUpdate",value:function(e,t,r){var n=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||i)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,r))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdatePending=!0,e.prev=1,e.next=4,this._$E_;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Promise.reject(e.t0);case 9:if(t=this.scheduleUpdate(),e.t1=null!=t,e.t1)return e.next=14,t;e.next=14;break;case 14:return e.abrupt("return",!this.isUpdatePending);case 15:case"end":return e.stop()}},e,this,[[1,6]])})),function(){return e.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var e,r=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(e,t){return r[t]=e}),this._$Ei=void 0);var t=!1,n=this._$AL;try{(t=this.shouldUpdate(n))?(this.willUpdate(n),null===(e=this._$ES)||void 0===e||e.forEach(function(e){var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)}),this.update(n)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(n)}}},{key:"willUpdate",value:function(){}},{key:"_$AE",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.forEach(function(e){var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(){return!0}},{key:"update",value:function(){var r=this;void 0!==this._$EC&&(this._$EC.forEach(function(e,t){return r._$EO(t,r[t],e)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(){}},{key:"firstUpdated",value:function(){}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}}],[{key:"addInitializer",value:function(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}},{key:"createProperty",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:g;r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),r.noAccessor||this.prototype.hasOwnProperty(e)||(t="symbol"==_typeof(e)?Symbol():"__"+e,void 0!==(r=this.getPropertyDescriptor(e,t,r))&&Object.defineProperty(this.prototype,e,r))}},{key:"getPropertyDescriptor",value:function(r,n,i){return{get:function(){return this[n]},set:function(e){var t=this[r];this[n]=e,this.requestUpdate(r,t,i)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this.elementProperties.get(e)||g}},{key:"finalize",value:function(){if(this.hasOwnProperty(m))return!1;this[m]=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=_toConsumableArray(e.h)),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var t=this.properties,r=_createForOfIteratorHelper([].concat(_toConsumableArray(Object.getOwnPropertyNames(t)),_toConsumableArray(Object.getOwnPropertySymbols(t))));try{for(r.s();!(n=r.n()).done;){var n=n.value;this.createProperty(n,t[n])}}catch(e){r.e(e)}finally{r.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(e){var t=[];if(Array.isArray(e)){var r=_createForOfIteratorHelper(new Set(e.flat(1/0).reverse()));try{for(r.s();!(n=r.n()).done;){var n=n.value;t.unshift(l(n))}}catch(e){r.e(e)}finally{r.f()}}else void 0!==e&&t.push(l(e));return t}},{key:"_$Ep",value:function(e,t){t=t.attribute;return!1===t?void 0:"string"==typeof t?t:"string"==typeof e?e.toLowerCase():void 0}},{key:"observedAttributes",get:function(){var r=this;this.finalize();var n=[];return this.elementProperties.forEach(function(e,t){e=r._$Ep(t,e);void 0!==e&&(r._$Ev.set(e,t),n.push(e))}),n}}]),r}();v[m]=!0,v.elementProperties=new Map,v.elementStyles=[],v.shadowRootOptions={mode:"open"},null==t||t({ReactiveElement:v}),(null!==(p=f.reactiveElementVersions)&&void 0!==p?p:f.reactiveElementVersions=[]).push("1.6.3");var y=window,x=y.trustedTypes,b=x?x.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,k="$lit$",E="lit$".concat((Math.random()+"").slice(9),"$"),O="?"+E,w="<".concat(O,">"),C=document,R=function(){return C.createComment("")},_=function(e){return null===e||"object"!=_typeof(e)&&"function"!=typeof e},S=Array.isArray,t="[ \t\n\f\r]",T=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,I=/-->/g,A=/>/g,j=RegExp(">|".concat(t,"(?:([^\\s\"'>=/]+)(").concat(t,"*=").concat(t,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),P=/'/g,L=/"/g,N=/^(?:script|style|textarea|title)$/i,p=function(i){return function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{_$litType$:i,strings:e,values:r}}},M=p(1),U=p(2),D=Symbol.for("lit-noChange"),z=Symbol.for("lit-nothing"),G=new WeakMap,W=C.createTreeWalker(C,129,null,!1);function B(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==b?b.createHTML(t):t}var H=function(e,t){for(var r,n=e.length-1,i=[],o=2===t?"<svg>":"",a=T,s=0;s<n;s++){for(var c=e[s],u=void 0,l=void 0,f=-1,p=0;p<c.length&&(a.lastIndex=p,null!==(l=a.exec(c)));)p=a.lastIndex,a===T?"!--"===l[1]?a=I:void 0!==l[1]?a=A:void 0!==l[2]?(N.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=j):void 0!==l[3]&&(a=j):a===j?">"===l[0]?(a=null!=r?r:T,f=-1):void 0===l[1]?f=-2:(f=a.lastIndex-l[2].length,u=l[1],a=void 0===l[3]?j:'"'===l[3]?L:P):a===L||a===P?a=j:a===I||a===A?a=T:(a=j,r=void 0);var h=a===j&&e[s+1].startsWith("/>")?" ":"";o+=a===T?c+w:0<=f?(i.push(u),c.slice(0,f)+k+c.slice(f)+E+h):c+E+(-2===f?(i.push(void 0),s):h)}return[B(e,o+(e[n]||"<?>")+(2===t?"</svg>":"")),i]},q=function(){function _(e,t){_classCallCheck(this,_);var r,n=e.strings,i=e._$litType$;this.parts=[];var o=0,a=0,s=n.length-1,c=this.parts,e=_slicedToArray(H(n,i),2),n=e[0],u=e[1];for(this.el=_.createElement(n,t),W.currentNode=this.el.content,2===i&&((i=(t=this.el.content).firstChild).remove(),t.append.apply(t,_toConsumableArray(i.childNodes)));null!==(r=W.nextNode())&&c.length<s;){if(1===r.nodeType){if(r.hasAttributes()){var l=[],f=_createForOfIteratorHelper(r.getAttributeNames());try{for(f.s();!(p=f.n()).done;){var p,h=p.value;(h.endsWith(k)||h.startsWith(E))&&(p=u[a++],l.push(h),void 0!==p?(h=r.getAttribute(p.toLowerCase()+k).split(E),p=/([.?@])?(.*)/.exec(p),c.push({type:1,index:o,name:p[2],strings:h,ctor:"."===p[1]?Y:"?"===p[1]?Q:"@"===p[1]?J:$})):c.push({type:6,index:o}))}}catch(e){f.e(e)}finally{f.f()}for(var d=0,g=l;d<g.length;d++){var m=g[d];r.removeAttribute(m)}}if(N.test(r.tagName)){var v=r.textContent.split(E),y=v.length-1;if(0<y){r.textContent=x?x.emptyScript:"";for(var b=0;b<y;b++)r.append(v[b],R()),W.nextNode(),c.push({type:2,index:++o});r.append(v[y],R())}}}else if(8===r.nodeType)if(r.data===O)c.push({type:2,index:o});else for(var w=-1;-1!==(w=r.data.indexOf(E,w+1));)c.push({type:7,index:o}),w+=E.length-1;o++}}return _createClass(_,null,[{key:"createElement",value:function(e){var t=C.createElement("template");return t.innerHTML=e,t}}]),_}();function V(e,t,r,n){var i,o=2<arguments.length&&void 0!==r?r:e,a=3<arguments.length?n:void 0;if(t===D)return t;var r=void 0!==a?null===(i=o._$Co)||void 0===i?void 0:i[a]:o._$Cl,n=_(t)?void 0:t._$litDirective$;return(null==r?void 0:r.constructor)!==n&&(null===(i=null==r?void 0:r._$AO)||void 0===i||i.call(r,!1),void 0===n?r=void 0:(r=new n(e))._$AT(e,o,a),void 0!==a?(null!==(n=o._$Co)&&void 0!==n?n:o._$Co=[])[a]=r:o._$Cl=r),void 0!==r&&(t=V(e,r._$AS(e,t.values),r,a)),t}var F=function(){function r(e,t){_classCallCheck(this,r),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}return _createClass(r,[{key:"u",value:function(e){var t=this._$AD,r=t.el.content,n=t.parts,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:C).importNode(r,!0);W.currentNode=r;for(var i,o=W.nextNode(),a=0,s=0,c=n[0];void 0!==c;)a===c.index&&(i=void 0,2===c.type?i=new K(o,o.nextSibling,this,e):1===c.type?i=new c.ctor(o,c.name,c.strings,this,e):6===c.type&&(i=new X(o,this,e)),this._$AV.push(i),c=n[++s]),a!==(null==c?void 0:c.index)&&(o=W.nextNode(),a++);return W.currentNode=C,r}},{key:"v",value:function(e){var t=0,r=_createForOfIteratorHelper(this._$AV);try{for(r.s();!(n=r.n()).done;){var n=n.value;void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}catch(e){r.e(e)}finally{r.f()}}},{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),r}(),K=function(){function a(e,t,r,n){_classCallCheck(this,a),this.type=2,this._$AH=z,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cp=null===(n=null==n?void 0:n.isConnected)||void 0===n||n}return _createClass(a,[{key:"_$AI",value:function(e,t){e=V(this,e,1<arguments.length&&void 0!==t?t:this),_(e)?e===z||null==e||""===e?(this._$AH!==z&&this._$AR(),this._$AH=z):e!==this._$AH&&e!==D&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):S(t=e)||"function"==typeof(null==t?void 0:t[Symbol.iterator])?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==z&&_(this._$AH)?this._$AA.nextSibling.data=e:this.$(C.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t=e.values,r=e._$litType$,e="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=q.createElement(B(r.h,r.h[0]),this.options)),r);(null===(r=this._$AH)||void 0===r?void 0:r._$AD)===e?this._$AH.v(t):(e=(r=new F(e,this)).u(this.options),r.v(t),this.$(e),this._$AH=r)}},{key:"_$AC",value:function(e){var t=G.get(e.strings);return void 0===t&&G.set(e.strings,t=new q(e)),t}},{key:"T",value:function(e){S(this._$AH)||(this._$AH=[],this._$AR());var t,r=this._$AH,n=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var o=o.value;n===r.length?r.push(t=new a(this.k(R()),this.k(R()),this,this.options)):t=r[n],t._$AI(o),n++}}catch(e){i.e(e)}finally{i.f()}n<r.length&&(this._$AR(t&&t._$AB.nextSibling,n),r.length=n)}},{key:"_$AR",value:function(e,t){var r=0<arguments.length&&void 0!==e?e:this._$AA.nextSibling,e=1<arguments.length?t:void 0;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,e);r&&r!==this._$AB;){var n=r.nextSibling;r.remove(),r=n}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}},{key:"_$AU",get:function(){var e;return null!==(e=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==e?e:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}}]),a}(),$=function(){function o(e,t,r,n,i){_classCallCheck(this,o),this.type=1,this._$AH=z,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,2<r.length||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=z}return _createClass(o,[{key:"_$AI",value:function(e,t,r,n){var i=1<arguments.length&&void 0!==t?t:this,o=2<arguments.length?r:void 0,n=3<arguments.length?n:void 0,a=this.strings,s=!1;if(void 0===a)e=V(this,e,i,0),(s=!_(e)||e!==this._$AH&&e!==D)&&(this._$AH=e);else{var c,u,l=e;for(e=a[0],c=0;c<a.length-1;c++)(u=V(this,l[o+c],i,c))===D&&(u=this._$AH[c]),s=s||(!_(u)||u!==this._$AH[c]),u===z?e=z:e!==z&&(e+=(null!=u?u:"")+a[c+1]),this._$AH[c]=u}s&&!n&&this.j(e)}},{key:"j",value:function(e){e===z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}},{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),o}(),Y=function(){_inherits(r,$);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).type=3,e}return _createClass(r,[{key:"j",value:function(e){this.element[this.name]=e===z?void 0:e}}]),r}(),Z=x?x.emptyScript:"",Q=function(){_inherits(r,$);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).type=4,e}return _createClass(r,[{key:"j",value:function(e){e&&e!==z?this.element.setAttribute(this.name,Z):this.element.removeAttribute(this.name)}}]),r}(),J=function(){_inherits(a,$);var o=_createSuper(a);function a(e,t,r,n,i){return _classCallCheck(this,a),(i=o.call(this,e,t,r,n,i)).type=5,i}return _createClass(a,[{key:"_$AI",value:function(e,t){var r,n;(e=null!==(n=V(this,e,1<arguments.length&&void 0!==t?t:this,0))&&void 0!==n?n:z)!==D&&(r=this._$AH,t=e===z&&r!==z||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,n=e!==z&&(r===z||t),t&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,e),this._$AH=e)}},{key:"handleEvent",value:function(e){var t;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}]),a}(),X=function(){function n(e,t,r){_classCallCheck(this,n),this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}return _createClass(n,[{key:"_$AI",value:function(e){V(this,e)}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),n}(),f=y.litHtmlPolyfillSupport;null==f||f(q,K),(null!==(t=y.litHtmlVersions)&&void 0!==t?t:y.litHtmlVersions=[]).push("2.8.0");var ee=function(){_inherits(a,v);var t=_createSuper(a);function a(){var e;return _classCallCheck(this,a),(e=t.apply(this,arguments)).renderOptions={host:_assertThisInitialized(e)},e._$Do=void 0,e}return _createClass(a,[{key:"createRenderRoot",value:function(){var e,t,r=_get(_getPrototypeOf(a.prototype),"createRenderRoot",this).call(this);return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}},{key:"update",value:function(e){var t,r,n,i,o=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(a.prototype),"update",this).call(this,e),this._$Do=(t=o,r=this.renderRoot,n=this.renderOptions,e=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:r,void 0===(o=e._$litPart$)&&(i=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null,e._$litPart$=o=new K(r.insertBefore(R(),i),i,void 0,null!=n?n:{})),o._$AI(t),o)}},{key:"connectedCallback",value:function(){var e;_get(_getPrototypeOf(a.prototype),"connectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;_get(_getPrototypeOf(a.prototype),"disconnectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return D}}]),a}();ee.finalized=!0,ee._$litElement$=!0,null===(p=globalThis.litElementHydrateSupport)||void 0===p||p.call(globalThis,{LitElement:ee});f=globalThis.litElementPolyfillSupport;null==f||f({LitElement:ee}),(null!==(t=globalThis.litElementVersions)&&void 0!==t?t:globalThis.litElementVersions=[]).push("3.3.3");var p=function(n){return function(e){return"function"==typeof e?(r=e,customElements.define(n,r),r):(t=n,{kind:e.kind,elements:e.elements,finisher:function(e){customElements.define(t,e)}});var t,r}},te=function(t,r){return"method"!==r.kind||!r.descriptor||"value"in r.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:r.key,initializer:function(){"function"==typeof r.initializer&&(this[r.key]=r.initializer.call(this))},finisher:function(e){e.createProperty(r.key,t)}}:_objectSpread(_objectSpread({},r),{},{finisher:function(e){e.createProperty(r.key,t)}})},re=function(e,t,r){t.constructor.createProperty(r,e)};function ne(r){return function(e,t){return void 0!==t?re(r,e,t):te(r,e)}}function ie(e){return ne(_objectSpread(_objectSpread({},e),{},{state:!0}))}null===(f=window.HTMLSlotElement)||void 0===f||f.prototype.assignedElements;var oe,ae=function(){function t(e){_classCallCheck(this,t)}return _createClass(t,[{key:"_$AT",value:function(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,_toConsumableArray(t))}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),t}(),se=(oe=function(){_inherits(n,ae);var r=_createSuper(n);function n(e){var t;if(_classCallCheck(this,n),t=r.call(this,e),1!==e.type||"class"!==e.name||2<(null===(e=e.strings)||void 0===e?void 0:e.length))throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(t)}return _createClass(n,[{key:"render",value:function(t){return" "+Object.keys(t).filter(function(e){return t[e]}).join(" ")+" "}},{key:"update",value:function(e,t){var r,n,i=this,o=_slicedToArray(t,1)[0];if(void 0===this.it){for(var a in this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(function(e){return""!==e}))),o)!o[a]||null!==(r=this.nt)&&void 0!==r&&r.has(a)||this.it.add(a);return this.render(o)}var s,c=e.element.classList;for(s in this.it.forEach(function(e){e in o||(c.remove(e),i.it.delete(e))}),o){var u=!!o[s];u===this.it.has(s)||null!==(n=this.nt)&&void 0!==n&&n.has(s)||(u?(c.add(s),this.it.add(s)):(c.remove(s),this.it.delete(s)))}return D}}]),n}(),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{_$litDirective$:oe,values:t}}),ce=r(5348),ue={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},le=function(e){return 1e3*e},fe=function(){},pe=function(e){return e};function he(e,t){var r=!(1<arguments.length&&void 0!==t)||t;if(e&&"finished"!==e.playState)try{e.stop?e.stop():(r&&e.commitStyles(),e.cancel())}catch(e){}}function de(e){return e()}var ge=function(e,t,r){r=2<arguments.length&&void 0!==r?r:ue.duration;return new Proxy({animations:e.map(de).filter(Boolean),duration:r,options:t},me)},me={get:function(r,t){var e=r.animations[0];switch(t){case"duration":return r.duration;case"currentTime":return((null==e?void 0:e[t])||0)/1e3;case"playbackRate":case"playState":return null==e?void 0:e[t];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(ve)).catch(fe)),r.finished;case"stop":return function(){r.animations.forEach(function(e){return he(e)})};case"forEachNative":return function(t){r.animations.forEach(function(e){return t(e,r)})};default:return void 0===(null==e?void 0:e[t])?void 0:function(){return r.animations.forEach(function(e){return e[t]()})}}},set:function(e,t,r){switch(t){case"currentTime":r=le(r);case"playbackRate":for(var n=0;n<e.animations.length;n++)e.animations[n][t]=r;return!0}return!1}},ve=function(e){return e.finished},ye=function(e){return"object"==_typeof(e)&&Boolean(e.createAnimation)},be=function(e){return"number"==typeof e},we=function(e){return Array.isArray(e)&&!be(e[0])},_e=function(e,t,r){return-r*e+r*t+e},xe=function(e,t,r){return t-e==0?1:(r-e)/(t-e)};function ke(e,t){for(var r=e[e.length-1],n=1;n<=t;n++){var i=xe(0,t,n);e.push(_e(r,1,i))}}var Ee=function(e,t,r){return Math.min(Math.max(r,e),t)},Oe=function(e,t,r){return(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e},Ce=1e-7,Re=12;function Se(t,r,n,i){return t===r&&n===i?pe:function(e){return 0===e||1===e?e:Oe(function(e,t,r,n,i){for(var o,a,s=0;0<(o=Oe(a=t+(r-t)/2,n,i)-e)?r=a:t=a,Math.abs(o)>Ce&&++s<Re;);return a}(e,0,1,t,n),r,i)}}var Te=function(e){return"function"==typeof e},Ie=function(e){return Array.isArray(e)&&be(e[0])},Ae={ease:Se(.25,.1,.25,1),"ease-in":Se(.42,0,1,1),"ease-in-out":Se(.42,0,.58,1),"ease-out":Se(0,0,.58,1)},je=/\((.*?)\)/;function Pe(e){if(Te(e))return e;if(Ie(e))return Se.apply(void 0,_toConsumableArray(e));if(Ae[e])return Ae[e];if(e.startsWith("steps")){e=je.exec(e);if(e){e=e[1].split(",");return function(t,e){var r=1<arguments.length&&void 0!==e?e:"end";return function(e){e=(e="end"===r?Math.min(e,.999):Math.max(e,.001))*t,e="end"===r?Math.floor(e):Math.ceil(e);return Ee(0,1,e/t)}}(parseFloat(e[0]),e[1].trim())}}return pe}var Le=function(){function p(i){var o=this;_classCallCheck(this,p);var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[0,1],t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=t.easing,n=t.duration,a=void 0===n?ue.duration:n,s=t.delay,c=void 0===s?ue.delay:s,n=t.endDelay,u=void 0===n?ue.endDelay:n,s=t.repeat,n=void 0===s?ue.repeat:s,s=t.offset,t=t.direction,l=void 0===t?"normal":t;this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=pe,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise(function(e,t){o.resolve=e,o.reject=t}),r=r||ue.easing,ye(r)&&(r=(t=r.createAnimation(e)).easing,e=t.keyframes||e,a=t.duration||a),this.repeat=n,this.easing=we(r)?pe:Pe(r),this.updateDuration(a);var f=function(o,e,t){var a=1<arguments.length&&void 0!==e?e:(ke(e=[0],o.length-1),e),s=2<arguments.length&&void 0!==t?t:pe,c=o.length,t=c-a.length;return 0<t&&ke(a,t),function(e){for(var t=0;t<c-2&&!(e<a[t+1]);t++);var r,n,i=Ee(0,1,xe(a[t],a[t+1],e)),i=(n=t,we(r=s)?r[function(e){e=+e;return(+n%e+e)%e+0}(r.length)]:r)(i);return _e(o[t],o[t+1],i)}}(e,s,we(r)?r.map(Pe):pe);this.tick=function(e){var t=0,t=void 0!==o.pauseTime?o.pauseTime:(e-o.startTime)*o.rate;o.t=t,t/=1e3,t=Math.max(t-c,0),"finished"===o.playState&&void 0===o.pauseTime&&(t=o.totalDuration);var r=t/o.duration,n=Math.floor(r),e=r%1;!e&&1<=r&&(e=1),1===e&&n--;n%=2;("reverse"===l||"alternate"===l&&n||"alternate-reverse"===l&&!n)&&(e=1-e);e=t>=o.totalDuration?1:Math.min(e,1),e=f(o.easing(e));i(e),void 0===o.pauseTime&&("finished"===o.playState||t>=o.totalDuration+u)?(o.playState="finished",null===(t=o.resolve)||void 0===t||t.call(o,e)):"idle"!==o.playState&&(o.frameRequestId=requestAnimationFrame(o.tick))},this.play()}return _createClass(p,[{key:"play",value:function(){var e=performance.now();this.playState="running",void 0!==this.pauseTime?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}},{key:"pause",value:function(){this.playState="paused",this.pauseTime=this.t}},{key:"finish",value:function(){this.playState="finished",this.tick(0)}},{key:"stop",value:function(){var e;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(e=this.reject)||void 0===e||e.call(this,!1)}},{key:"cancel",value:function(){this.stop(),this.tick(this.cancelTimestamp)}},{key:"reverse",value:function(){this.rate*=-1}},{key:"commitStyles",value:function(){}},{key:"updateDuration",value:function(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}},{key:"currentTime",get:function(){return this.t},set:function(e){void 0!==this.pauseTime||0===this.rate?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}},{key:"playbackRate",get:function(){return this.rate},set:function(e){this.rate=e}}]),p}(),Ne=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setAnimation",value:function(e){var t=this;null==(this.animation=e)||e.finished.then(function(){return t.clearAnimation()}).catch(function(){})}},{key:"clearAnimation",value:function(){this.animation=this.generator=void 0}}]),e}(),Me=new WeakMap;function Ue(e){return Me.has(e)||Me.set(e,{transforms:[],values:new Map}),Me.get(e)}var De=["","X","Y","Z"],ze={x:"translateX",y:"translateY",z:"translateZ"},t={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:function(e){return e+"deg"}},Ge={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:function(e){return e+"px"}},rotate:t,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:pe},skew:t},We=new Map,Be=function(e){return"--motion-".concat(e)},He=["x","y","z"];["translate","scale","rotate","skew"].forEach(function(t){De.forEach(function(e){He.push(t+e),We.set(Be(t+e),Ge[t])})});function qe(e,t){return He.indexOf(e)-He.indexOf(t)}function Ve(e,t){return document.createElement("div").animate(e,t)}var Fe,Ke=new Set(He),$e=function(e){return Ke.has(e)},Ye=function(e){return e.sort(qe).reduce(Ze,"").trim()},Ze=function(e,t){return"".concat(e," ").concat(t,"(var(").concat(Be(t),"))")},Qe=function(e){return e.startsWith("--")},Je=new Set,Xe={cssRegisterProperty:function(){return"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty")},waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")},partialKeyframes:function(){try{Ve({opacity:[1]})}catch(e){return!1}return!0},finished:function(){return Boolean(Ve({opacity:[0,1]},{duration:.001}).finished)},linearEasing:function(){try{Ve({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}},et={},tt={};for(Fe in Xe)!function(e){tt[e]=function(){return void 0===et[e]&&(et[e]=Xe[e]()),et[e]}}(Fe);var rt=function(e,i){return Te(e)?tt.linearEasing()?"linear(".concat(function(e){for(var t="",r=Math.round(i/.015),n=0;n<r;n++)t+=e(xe(0,r-1,n))+", ";return t.substring(0,t.length-2)}(e),")"):ue.easing:Ie(e)?nt(e):e},nt=function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],e=t[2],t=t[3];return"cubic-bezier(".concat(r,", ").concat(n,", ").concat(e,", ").concat(t,")")};function it(e){return ze[e]&&(e=ze[e]),$e(e)?Be(e):e}var ot=function(e,t){t=it(t);e=Qe(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];return e||0===e||(t=We.get(t))&&(e=t.initialValue),e},at=function(e,t,r){t=it(t),Qe(t)?e.style.setProperty(t,r):e.style[t]=r};function st(c,u,l,e,t){var f,p=3<arguments.length&&void 0!==e?e:{},h=4<arguments.length?t:void 0,d=window.__MOTION_DEV_TOOLS_RECORD,g=!1!==p.record&&d,e=p.duration,m=void 0===e?ue.duration:e,t=p.delay,v=void 0===t?ue.delay:t,e=p.endDelay,y=void 0===e?ue.endDelay:e,t=p.repeat,b=void 0===t?ue.repeat:t,e=p.easing,w=void 0===e?ue.easing:e,t=p.persist,_=void 0!==t&&t,x=p.direction,k=p.offset,e=p.allowWebkitAcceleration,E=void 0!==e&&e,t=Ue(c),O=$e(u),C=tt.waapi();O&&function(e,t){ze[t]&&(t=ze[t]);var r=Ue(e).transforms,n=t;-1===(t=r).indexOf(n)&&t.push(n),e.style.transform=Ye(r)}(c,u);var R=it(u),S=(e=t.values,t=R,e.has(t)||e.set(t,new Ne),e.get(t)),T=We.get(R);return he(S.animation,!(ye(w)&&S.generator)&&!1!==p.record),function(){var t,e,r,n,i,o=function(){var e;return null!==(e=null!==(e=ot(c,R))&&void 0!==e?e:null==T?void 0:T.initialValue)&&void 0!==e?e:0},a=function(e,t){for(var r=0;r<e.length;r++)null===e[r]&&(e[r]=r?e[r-1]:t());return e}((e=l,Array.isArray(e)?e:[e]),o),s=(n=(null==T?void 0:T.toDefaultUnit)||pe,"string"!=typeof(e=a[a.length-1])||(t=(null===(e=e.match(/(-?[\d.]+)([a-z%]*)/))||void 0===e?void 0:e[2])||"")&&(n=function(e){return e+t}),n);return ye(w)&&(w=(r=w.createAnimation(a,"opacity"!==u,o,R,S)).easing,a=r.keyframes||a,m=r.duration||m),Qe(R)&&(tt.cssRegisterProperty()?function(e){if(!Je.has(e)){Je.add(e);try{var t=We.has(e)?We.get(e):{},r=t.syntax,t=t.initialValue;CSS.registerProperty({name:e,inherits:!1,syntax:r,initialValue:t})}catch(e){}}}(R):C=!1),O&&!tt.linearEasing()&&(Te(w)||we(w)&&w.some(Te))&&(C=!1),C?(T&&(a=a.map(function(e){return be(e)?T.toDefaultUnit(e):e})),1!==a.length||tt.partialKeyframes()&&!g||a.unshift(o()),n={delay:le(v),duration:le(m),endDelay:le(y),easing:we(w)?void 0:rt(w,m),direction:x,iterations:b+1,fill:"both"},(f=c.animate((_defineProperty(r={},R,a),_defineProperty(r,"offset",k),_defineProperty(r,"easing",we(w)?w.map(function(e){return rt(e,m)}):void 0),r),n)).finished||(f.finished=new Promise(function(e,t){f.onfinish=e,f.oncancel=t})),i=a[a.length-1],f.finished.then(function(){_||(at(c,R,i),f.cancel())}).catch(fe),E||(f.playbackRate=1.000001)):h&&O?(1===(a=a.map(function(e){return"string"==typeof e?parseFloat(e):e})).length&&a.unshift(parseFloat(o())),f=new h(function(e){at(c,R,s?s(e):e)},a,Object.assign(Object.assign({},p),{duration:m,easing:w}))):(o=a[a.length-1],at(c,R,T&&be(o)?T.toDefaultUnit(o):o)),g&&d(c,u,a,{duration:m,delay:v,easing:w,repeat:b,offset:k},"motion-one"),S.setAnimation(f),f}}var ct,ut=(ct=Le,function(e,t){var r,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=("string"==typeof(r=e)?r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),(e=Array.from(r||[])).length);Boolean(i),Boolean(t);for(var o,a,s,c=[],u=0;u<i;u++){var l,f=e[u];for(l in t){var p=(a=n)[s=l]?Object.assign(Object.assign({},a),a[s]):Object.assign({},a);p.delay=(o=p.delay,s=u,a=i,Te(o)?o(s,a):o);p=st(f,l,t[l],p,ct);c.push(p)}}return ge(c,n,n.duration)});function lt(e,t,r){return(Te(e)?function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ge([function(){var e=new Le(t,[0,1],r);return e.finished.catch(function(){}),e}],r,r.duration)}:ut)(e,t,r)}function ft(e){return null!=e?e:z}function pt(e,t,r){return t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function ht(e,t){for(var r in t=t||{})vt.call(t,r)&&pt(e,r,t[r]);if(mt){var n,i=_createForOfIteratorHelper(mt(t));try{for(i.s();!(n=i.n()).done;){r=n.value;yt.call(t,r)&&pt(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}var dt=r(2558),gt=Object.defineProperty,mt=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,bt={getPreset:function(e){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}[e]},setTheme:function(){var e,r=document.querySelector(":root"),t=ce.ThemeCtrl.state.themeVariables;r&&(t=ht(ht(ht({},{"--wcm-color-fg-1":(e={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[null!=(e=ce.ThemeCtrl.state.themeMode)?e:"dark"]).foreground[1],"--wcm-color-fg-2":e.foreground[2],"--wcm-color-fg-3":e.foreground[3],"--wcm-color-bg-1":e.background[1],"--wcm-color-bg-2":e.background[2],"--wcm-color-bg-3":e.background[3],"--wcm-color-overlay":e.overlay}),{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}),t),Object.entries(t).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];return r.style.setProperty(e,t)}))},globalCss:n(_templateObject())},f=n(_templateObject2()),wt=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?_t(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&wt(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).disabled=!1,e.iconLeft=void 0,e.iconRight=void 0,e.onClick=function(){return null},e.variant="default",e}return _createClass(r,[{key:"render",value:function(){var e={"wcm-icon-left":void 0!==this.iconLeft,"wcm-icon-right":void 0!==this.iconRight,"wcm-ghost":"ghost"===this.variant,"wcm-outline":"outline"===this.variant},t="inverse";return"ghost"===this.variant&&(t="secondary"),"outline"===this.variant&&(t="accent"),M(_templateObject3(),se(e),this.disabled,this.onClick,this.iconLeft,t,this.iconRight)}}]),r}();r.styles=[bt.globalCss,f],t([ne({type:Boolean})],r.prototype,"disabled",2),t([ne()],r.prototype,"iconLeft",2),t([ne()],r.prototype,"iconRight",2),t([ne()],r.prototype,"onClick",2),t([ne()],r.prototype,"variant",2),r=t([p("wcm-button")],r);var f=n(_templateObject4()),xt=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?kt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&xt(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).disabled=!1,e.variant="primary",e}return _createClass(r,[{key:"render",value:function(){var e={"wcm-secondary":"secondary"===this.variant};return M(_templateObject5(),this.disabled,se(e))}}]),r}();r.styles=[bt.globalCss,f],t([ne({type:Boolean})],r.prototype,"disabled",2),t([ne()],r.prototype,"variant",2),r=t([p("wcm-button-big")],r);f=n(_templateObject6());Object.defineProperty,Object.getOwnPropertyDescriptor;var Et=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject7())}}]),t}();Et.styles=[bt.globalCss,f],Et=function(e){for(var t,r=Et,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-info-footer")]);var Ot={CROSS_ICON:U(_templateObject8()),WALLET_CONNECT_LOGO:U(_templateObject9()),WALLET_CONNECT_ICON:U(_templateObject10()),WALLET_CONNECT_ICON_COLORED:U(_templateObject11()),BACK_ICON:U(_templateObject12()),COPY_ICON:U(_templateObject13()),RETRY_ICON:U(_templateObject14()),DESKTOP_ICON:U(_templateObject15()),MOBILE_ICON:U(_templateObject16()),ARROW_DOWN_ICON:U(_templateObject17()),ARROW_UP_RIGHT_ICON:U(_templateObject18()),ARROW_RIGHT_ICON:U(_templateObject19()),QRCODE_ICON:U(_templateObject20()),SCAN_ICON:U(_templateObject21()),CHECKMARK_ICON:U(_templateObject22()),SEARCH_ICON:U(_templateObject23()),WALLET_PLACEHOLDER:U(_templateObject24()),GLOBE_ICON:U(_templateObject25())},t=n(_templateObject26());Object.defineProperty,Object.getOwnPropertyDescriptor;var Ct=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject27(),Ot.WALLET_CONNECT_LOGO,ce.jb.close,Ot.CROSS_ICON)}}]),t}();Ct.styles=[bt.globalCss,t],Ct=function(e){for(var t,r=Ct,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-modal-backcard")]);r=n(_templateObject28());Object.defineProperty,Object.getOwnPropertyDescriptor;var Rt=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject29())}}]),t}();Rt.styles=[bt.globalCss,r],Rt=function(e){for(var t,r=Rt,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-modal-content")]);f=n(_templateObject30());Object.defineProperty,Object.getOwnPropertyDescriptor;var St=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject31())}}]),t}();St.styles=[bt.globalCss,f],St=function(e){for(var t,r=St,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-modal-footer")]);var t=n(_templateObject32()),Tt=Object.defineProperty,It=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?It(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Tt(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).title="",e.onAction=void 0,e.actionIcon=void 0,e.border=!1,e}return _createClass(r,[{key:"backBtnTemplate",value:function(){return M(_templateObject33(),ce.AV.goBack,Ot.BACK_ICON)}},{key:"actionBtnTemplate",value:function(){return M(_templateObject34(),this.onAction,this.actionIcon)}},{key:"render",value:function(){var e={"wcm-border":this.border},t=1<ce.AV.state.history.length,r=this.title?M(_templateObject35(),this.title):M(_templateObject36());return M(_templateObject37(),se(e),t?this.backBtnTemplate():null,r,this.onAction?this.actionBtnTemplate():null)}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"title",2),r([ne()],f.prototype,"onAction",2),r([ne()],f.prototype,"actionIcon",2),r([ne({type:Boolean})],f.prototype,"border",2),f=r([p("wcm-modal-header")],f);var At={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement:function(e,t){e=e.renderRoot.querySelector(t);if(!e)throw new Error("".concat(t," not found"));return e},getWalletIcon:function(e){var t=e.id,r=e.image_id,e=ce.ConfigCtrl.state.walletImages;return null!=e&&e[t]?e[t]:r?ce.ExplorerCtrl.getWalletImageUrl(r):""},getWalletName:function(e,t){return 1<arguments.length&&void 0!==t&&t&&8<e.length?"".concat(e.substring(0,8),".."):e},isMobileAnimation:function(){return window.innerWidth<=At.MOBILE_BREAKPOINT},preloadImage:function(n){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(e,t){var r=new Image;r.onload=e,r.onerror=t,r.crossOrigin="anonymous",r.src=n}),e.abrupt("return",Promise.race([t,ce.zv.wait(3e3)]));case 2:case"end":return e.stop()}},e)}))()},getErrorMessage:function(e){return e instanceof Error?e.message:"Unknown Error"},debounce:function(n,e){var i,o=1<arguments.length&&void 0!==e?e:500;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i&&clearTimeout(i),i=setTimeout(function(){n.apply(void 0,t)},o)}},handleMobileLinking:function(e){var t=ce.OptionsCtrl.state.walletConnectUri,r=e.mobile,n=e.name,i=null==r?void 0:r.native,r=null==r?void 0:r.universal;At.setRecentWallet(e),t&&(e=t,t="",i?t=ce.zv.formatUniversalUrl(i,e,n):r&&(t=ce.zv.formatNativeUrl(r,e,n)),ce.zv.openHref(t,"_self"))},handleAndroidLinking:function(){var e=ce.OptionsCtrl.state.walletConnectUri;e&&(ce.zv.setWalletConnectAndroidDeepLink(e),ce.zv.openHref(e,"_self"))},handleUriCopy:function(){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ce.OptionsCtrl.state.walletConnectUri)return e.prev=2,e.next=5,navigator.clipboard.writeText(t);e.next=11;break;case 5:ce.ToastCtrl.openToast("Link copied","success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),ce.ToastCtrl.openToast("Failed to copy","error");case 11:case"end":return e.stop()}},e,null,[[2,8]])}))()},getCustomImageUrls:function(){var e=ce.ConfigCtrl.state.walletImages,e=Object.values(null!=e?e:{});return Object.values(e)},truncate:function(e,t){t=1<arguments.length&&void 0!==t?t:8;return e.length<=t?e:"".concat(e.substring(0,4),"...").concat(e.substring(e.length-4))},setRecentWallet:function(e){try{localStorage.setItem(At.WCM_RECENT_WALLET_DATA,JSON.stringify(e))}catch(e){console.info("Unable to set recent wallet")}},getRecentWallet:function(){try{var e=localStorage.getItem(At.WCM_RECENT_WALLET_DATA);return e?JSON.parse(e):void 0}catch(e){console.info("Unable to get recent wallet")}},caseSafeIncludes:function(e,t){return e.toUpperCase().includes(t.toUpperCase())},openWalletExplorerUrl:function(){ce.zv.openHref(At.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms:function(){var e=ce.zv.getWalletRouterData(),t=e.desktop,r=e.mobile,e=Boolean(null==t?void 0:t.native),t=Boolean(null==t?void 0:t.universal);return{isDesktop:e,isMobile:Boolean(null==r?void 0:r.native)||Boolean(null==r?void 0:r.universal),isWeb:t}},goToConnectingView:function(e){ce.AV.setData({Wallet:e});var t=ce.zv.isMobile(),r=At.getCachedRouterWalletPlatforms(),n=r.isDesktop,e=r.isWeb,r=r.isMobile;t?r?ce.AV.push("MobileConnecting"):e?ce.AV.push("WebConnecting"):ce.AV.push("InstallWallet"):n?ce.AV.push("DesktopConnecting"):e?ce.AV.push("WebConnecting"):r?ce.AV.push("MobileQrcodeConnecting"):ce.AV.push("InstallWallet")}},t=n(_templateObject38()),jt=Object.defineProperty,Pt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Pt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&jt(t,r,o),o},f=function(){_inherits(n,ee);var e,r=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=r.call(this)).view=ce.AV.state.view,t.prevView=ce.AV.state.view,t.unsubscribe=void 0,t.oldHeight="0px",t.resizeObserver=void 0,t.unsubscribe=ce.AV.subscribe(function(e){t.view!==e.view&&t.onChangeRoute()}),t}return _createClass(n,[{key:"firstUpdated",value:function(){var t=this;this.resizeObserver=new ResizeObserver(function(e){e=_slicedToArray(e,1)[0],e="".concat(e.contentRect.height,"px");"0px"!==t.oldHeight&&lt(t.routerEl,{height:[t.oldHeight,e]},{duration:.2}),t.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}},{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribe)||e.call(this),null==(e=this.resizeObserver)||e.disconnect()}},{key:"viewTemplate",value:function(){switch(this.view){case"ConnectWallet":return M(_templateObject39());case"DesktopConnecting":return M(_templateObject40());case"MobileConnecting":return M(_templateObject41());case"WebConnecting":return M(_templateObject42());case"MobileQrcodeConnecting":return M(_templateObject43());case"WalletExplorer":return M(_templateObject44());case"Qrcode":return M(_templateObject45());case"InstallWallet":return M(_templateObject46());default:return M(_templateObject47())}}},{key:"onChangeRoute",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished;case 2:this.view=ce.AV.state.view,lt(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05});case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"render",value:function(){return M(_templateObject48(),this.viewTemplate())}},{key:"routerEl",get:function(){return At.getShadowRootElement(this,".wcm-router")}},{key:"contentEl",get:function(){return At.getShadowRootElement(this,".wcm-content")}}]),n}();f.styles=[bt.globalCss,t],r([ie()],f.prototype,"view",2),r([ie()],f.prototype,"prevView",2),f=r([p("wcm-modal-router")],f);var t=n(_templateObject49()),Lt=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Nt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Lt(t,r,o),o},f=function(){_inherits(r,ee);var e=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=e.call(this)).open=!1,t.unsubscribe=void 0,t.timeout=void 0,t.unsubscribe=ce.ToastCtrl.subscribe(function(e){e.open?(t.open=!0,t.timeout=setTimeout(function(){return ce.ToastCtrl.closeToast()},2200)):(t.open=!1,clearTimeout(t.timeout))}),t}return _createClass(r,[{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribe)||e.call(this),clearTimeout(this.timeout),ce.ToastCtrl.closeToast()}},{key:"render",value:function(){var e=ce.ToastCtrl.state,t=e.message,r=e.variant,e={"wcm-success":"success"===r,"wcm-error":"error"===r};return this.open?M(_templateObject50(),se(e),"success"===r?Ot.CHECKMARK_ICON:null,"error"===r?Ot.CROSS_ICON:null,t):null}}]),r}();function Mt(e,t,r){return e!==t&&(e-t<0?t-e:e-t)<=r+.1}f.styles=[bt.globalCss,t],r([ie()],f.prototype,"open",2),f=r([p("wcm-modal-toast")],f);var Ut=function(e,t,r){var n,a="#141414",s=[],c=(e=Array.prototype.slice.call(dt.create(e,{errorCorrectionLevel:"Q"}).modules.data,0),n=Math.sqrt(e.length),e.reduce(function(e,t,r){return(r%n==0?e.push([t]):e[e.length-1].push(t))&&e},[])),u=t/c.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(function(e){for(var t=e.x,e=e.y,r=(c.length-7)*u*t,n=(c.length-7)*u*e,i=0;i<l.length;i+=1){var o=u*(7-2*i);s.push(U(_templateObject51(),i%2==0?a:"#ffffff",o,.45*o,.45*o,o,r+u*i,n+u*i))}});var r=Math.floor((r+25)/u),i=c.length/2-r/2,o=c.length/2+r/2-1,f=[];c.forEach(function(e,n){e.forEach(function(e,t){var r;!c[n][t]||n<7&&t<7||n>c.length-8&&t<7||n<7&&t>c.length-8||i<n&&n<o&&i<t&&t<o||(r=n*u+u/2,t=t*u+u/2,f.push([r,t]))})});var p={};return f.forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];p[e]?p[e].push(t):p[e]=[t]}),Object.entries(p).map(function(e){var t=_slicedToArray(e,2),e=t[0],r=t[1],t=r.filter(function(t){return r.every(function(e){return!Mt(t,e,u)})});return[Number(e),t]}).forEach(function(e){var e=_slicedToArray(e,2),t=e[0];e[1].forEach(function(e){s.push(U(_templateObject52(),t,e,a,u/2.5))})}),Object.entries(p).filter(function(e){e=_slicedToArray(e,2),e[0];return 1<e[1].length}).map(function(e){var t=_slicedToArray(e,2),e=t[0],r=t[1],t=r.filter(function(t){return r.some(function(e){return Mt(t,e,u)})});return[Number(e),t]}).map(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];t.sort(function(e,t){return e<t?-1:1});var r,n=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;)!function(){var t=r.value,e=n.find(function(e){return e.some(function(e){return Mt(t,e,u)})});e?e.push(t):n.push([t])}()}catch(e){i.e(e)}finally{i.f()}return[e,n.map(function(e){return[e[0],e[e.length-1]]})]}).forEach(function(e){var e=_slicedToArray(e,2),r=e[0];e[1].forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];s.push(U(_templateObject53(),r,r,e,t,a,u/1.25))})}),s},t=n(_templateObject54()),Dt=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?zt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Dt(t,r,o),o},Gt=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).uri="",e.size=0,e.imageId=void 0,e.walletId=void 0,e.imageUrl=void 0,e}return _createClass(r,[{key:"svgTemplate",value:function(){var e="light"===ce.ThemeCtrl.state.themeMode?this.size:this.size-36;return U(_templateObject55(),e,e,Ut(this.uri,e,e/4))}},{key:"render",value:function(){var e={"wcm-dark":"dark"===ce.ThemeCtrl.state.themeMode};return M(_templateObject56(),"width: ".concat(this.size,"px"),se(e),this.walletId||this.imageUrl?M(_templateObject57(),ft(this.walletId),ft(this.imageId),ft(this.imageUrl)):Ot.WALLET_CONNECT_ICON_COLORED,this.svgTemplate())}}]),r}();Gt.styles=[bt.globalCss,t],r([ne()],Gt.prototype,"uri",2),r([ne({type:Number})],Gt.prototype,"size",2),r([ne()],Gt.prototype,"imageId",2),r([ne()],Gt.prototype,"walletId",2),r([ne()],Gt.prototype,"imageUrl",2),Gt=r([p("wcm-qrcode")],Gt);var f=n(_templateObject58()),Wt=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?Bt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Wt(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).onChange=function(){return null},e}return _createClass(r,[{key:"render",value:function(){return M(_templateObject59(),this.onChange,Ot.SEARCH_ICON)}}]),r}();r.styles=[bt.globalCss,f],t([ne()],r.prototype,"onChange",2),r=t([p("wcm-search-input")],r);f=n(_templateObject60());Object.defineProperty,Object.getOwnPropertyDescriptor;var Ht=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject61())}}]),t}();Ht.styles=[bt.globalCss,f],Ht=function(e){for(var t,r=Ht,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-spinner")]);var t=n(_templateObject62()),qt=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Vt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&qt(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).variant="medium-regular",e.color="primary",e}return _createClass(r,[{key:"render",value:function(){var e={"wcm-big-bold":"big-bold"===this.variant,"wcm-medium-regular":"medium-regular"===this.variant,"wcm-small-regular":"small-regular"===this.variant,"wcm-small-thin":"small-thin"===this.variant,"wcm-xsmall-regular":"xsmall-regular"===this.variant,"wcm-xsmall-bold":"xsmall-bold"===this.variant,"wcm-color-primary":"primary"===this.color,"wcm-color-secondary":"secondary"===this.color,"wcm-color-tertiary":"tertiary"===this.color,"wcm-color-inverse":"inverse"===this.color,"wcm-color-accnt":"accent"===this.color,"wcm-color-error":"error"===this.color};return M(_templateObject63(),se(e))}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"variant",2),r([ne()],f.prototype,"color",2),f=r([p("wcm-text")],f);var t=n(_templateObject64()),Ft=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Kt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Ft(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).onClick=function(){return null},e.name="",e.walletId="",e.label=void 0,e.imageId=void 0,e.installed=!1,e.recent=!1,e}return _createClass(r,[{key:"sublabelTemplate",value:function(){return this.recent?M(_templateObject65()):this.installed?M(_templateObject66()):null}},{key:"handleClick",value:function(){ce.uA.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}},{key:"render",value:function(){var e;return M(_templateObject67(),this.handleClick.bind(this),this.walletId,ft(this.imageId),null!=(e=this.label)?e:At.getWalletName(this.name,!0),this.sublabelTemplate())}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"onClick",2),r([ne()],f.prototype,"name",2),r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"label",2),r([ne()],f.prototype,"imageId",2),r([ne({type:Boolean})],f.prototype,"installed",2),r([ne({type:Boolean})],f.prototype,"recent",2),f=r([p("wcm-wallet-button")],f);var t=n(_templateObject68()),$t=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Yt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&$t(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).walletId="",e.imageId=void 0,e.imageUrl=void 0,e}return _createClass(r,[{key:"render",value:function(){var e=null!=(e=this.imageUrl)&&e.length?this.imageUrl:At.getWalletIcon({id:this.walletId,image_id:this.imageId});return M(_templateObject69(),e.length?M(_templateObject70(),e,this.id):Ot.WALLET_PLACEHOLDER)}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"imageId",2),r([ne()],f.prototype,"imageUrl",2),f=r([p("wcm-wallet-image")],f);var Zt=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?Qt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Zt(t,r,o),o},r=function(){_inherits(o,ee);var e,t,r,n,i=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=i.call(this)).preload=!0,e.preloadData(),e}return _createClass(o,[{key:"loadImages",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=null!=t&&t.length,e.t0)return e.next=5,Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",At.preloadImage(t));case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));e.next=5;break;case 5:e.next=10;break;case 7:e.prev=7,e.t1=e.catch(0),console.info("Unsuccessful attempt at preloading some images",t);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return n.apply(this,arguments)})},{key:"preloadListings",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.ConfigCtrl.state.enableExplorer)return e.next=3,ce.ExplorerCtrl.getRecomendedWallets();e.next=9;break;case 3:return ce.OptionsCtrl.setIsDataLoaded(!0),t=ce.ExplorerCtrl.state.recomendedWallets,t=t.map(function(e){return At.getWalletIcon(e)}),e.next=7,this.loadImages(t);case 7:e.next=10;break;case 9:ce.OptionsCtrl.setIsDataLoaded(!0);case 10:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"preloadCustomImages",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=At.getCustomImageUrls(),e.next=3,this.loadImages(t);case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"preloadData",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=this.preload,e.t0)return this.preload=!1,e.next=6,Promise.all([this.preloadListings(),this.preloadCustomImages()]);e.next=6;break;case 6:e.next=11;break;case 8:e.prev=8,e.t1=e.catch(0),console.error(e.t1),ce.ToastCtrl.openToast("Failed preloading","error");case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return e.apply(this,arguments)})}]),o}();t([ie()],r.prototype,"preload",2),r=t([p("wcm-explorer-context")],r),Object.defineProperty,Object.getOwnPropertyDescriptor;var Jt=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).unsubscribeTheme=void 0,bt.setTheme(),e.unsubscribeTheme=ce.ThemeCtrl.subscribe(bt.setTheme),e}return _createClass(r,[{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribeTheme)||e.call(this)}}]),r}(),Jt=(function(e){for(var t,r=Jt,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r)}([p("wcm-theme-context")]),0),f=n(_templateObject71());Object.defineProperty,Object.getOwnPropertyDescriptor;var Xt=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onGoToQrcode",value:function(){ce.AV.push("Qrcode")}},{key:"render",value:function(){var e=ce.ExplorerCtrl.state.recomendedWallets,r=[].concat(_toConsumableArray(e),_toConsumableArray(e)),e=2*ce.zv.RECOMMENDED_WALLET_AMOUNT;return M(_templateObject72(),this.onGoToQrcode,Ot.QRCODE_ICON,Ot.MOBILE_ICON,_toConsumableArray(Array(e)).map(function(e,t){t=r[t%r.length];return t?M(_templateObject73(),t.id,t.image_id):Ot.WALLET_PLACEHOLDER}),At.handleAndroidLinking)}}]),t}();Xt.styles=[bt.globalCss,f],Xt=function(e){for(var t,r=Xt,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-android-wallet-selection")]);var t=n(_templateObject74()),er=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?tr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&er(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).walletId=void 0,e.imageId=void 0,e.isError=!1,e.isStale=!1,e.label="",e}return _createClass(r,[{key:"svgLoaderTemplate",value:function(){var e=null!=(t=null==(e=ce.ThemeCtrl.state.themeVariables)?void 0:e["--wcm-wallet-icon-large-border-radius"])?t:bt.getPreset("--wcm-wallet-icon-large-border-radius"),t=e.includes("%")?.88*parseInt(e,10):parseInt(e,10);return t*=1.17,M(_templateObject75(),t,317-1.57*t,425-1.8*t)}},{key:"render",value:function(){var e={"wcm-error":this.isError,"wcm-stale":this.isStale};return M(_templateObject76(),se(e),this.svgLoaderTemplate(),ft(this.walletId),ft(this.imageId),this.isError?"error":"primary",this.isError?"Connection declined":this.label)}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"imageId",2),r([ne({type:Boolean})],f.prototype,"isError",2),r([ne({type:Boolean})],f.prototype,"isStale",2),r([ne()],f.prototype,"label",2),f=r([p("wcm-connector-waiting")],f);var rr={manualWallets:function(){var e=ce.ConfigCtrl.state,t=e.mobileWallets,r=e.desktopWallets,n=null==(e=rr.recentWallet())?void 0:e.id,r=ce.zv.isMobile()?t:r,r=null==r?void 0:r.filter(function(e){return n!==e.id});return null!=(r=ce.zv.isMobile()?null==r?void 0:r.map(function(e){var t=e.id,r=e.name,e=e.links;return{id:t,name:r,mobile:e,links:e}}):null==r?void 0:r.map(function(e){var t=e.id,r=e.name,e=e.links;return{id:t,name:r,desktop:e,links:e}}))?r:[]},recentWallet:function(){return At.getRecentWallet()},recomendedWallets:function(e){var t,r=0<arguments.length&&void 0!==e&&e||null==(t=rr.recentWallet())?void 0:t.id;return ce.ExplorerCtrl.state.recomendedWallets.filter(function(e){return r!==e.id})}},nr={onConnecting:function(e){At.goToConnectingView(e)},manualWalletsTemplate:function(){var t=this;return rr.manualWallets().map(function(e){return M(_templateObject77(),e.id,e.name,function(){return t.onConnecting(e)})})},recomendedWalletsTemplate:function(e){var t=this,e=0<arguments.length&&void 0!==e&&e;return rr.recomendedWallets(e).map(function(e){return M(_templateObject78(),e.name,e.id,e.image_id,function(){return t.onConnecting(e)})})},recentWalletTemplate:function(){var e=this,t=rr.recentWallet();if(t)return M(_templateObject79(),t.name,t.id,ft(t.image_id),!0,function(){return e.onConnecting(t)})}},t=n(_templateObject80());Object.defineProperty,Object.getOwnPropertyDescriptor;var ir=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=ce.ConfigCtrl.state,t=e.explorerExcludedWalletIds,r=e.enableExplorer,e="ALL"!==t&&r,t=nr.manualWalletsTemplate(),r=nr.recomendedWalletsTemplate(),t=[nr.recentWalletTemplate()].concat(_toConsumableArray(t),_toConsumableArray(r)),r=4<(t=t.filter(Boolean)).length||e,e=r?t.slice(0,3):t,t=Boolean(e.length);return M(_templateObject81(),!0,At.handleUriCopy,Ot.COPY_ICON,Ot.MOBILE_ICON,Ot.SCAN_ICON,t?M(_templateObject82(),Ot.DESKTOP_ICON,e,r?M(_templateObject83()):null):null)}}]),t}();ir.styles=[bt.globalCss,t],ir=function(e){for(var t,r=ir,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-desktop-wallet-selection")]);r=n(_templateObject84());Object.defineProperty,Object.getOwnPropertyDescriptor;var or=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=ce.ConfigCtrl.state,t=e.termsOfServiceUrl,e=e.privacyPolicyUrl;return(null!=t?t:e)?M(_templateObject85(),t?M(_templateObject86(),t):null,t&&e?"and":null,e?M(_templateObject87(),e):null):null}}]),t}();or.styles=[bt.globalCss,r],or=function(e){for(var t,r=or,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-legal-notice")]);f=n(_templateObject88());Object.defineProperty,Object.getOwnPropertyDescriptor;var ar=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onQrcode",value:function(){ce.AV.push("Qrcode")}},{key:"render",value:function(){var e=ce.ConfigCtrl.state,t=e.explorerExcludedWalletIds,r=e.enableExplorer,e="ALL"!==t&&r,t=nr.manualWalletsTemplate(),r=nr.recomendedWalletsTemplate(),t=[nr.recentWalletTemplate()].concat(_toConsumableArray(t),_toConsumableArray(r)),r=8<(t=t.filter(Boolean)).length||e,e=r?t.slice(0,7):t,t=Boolean(e.length);return M(_templateObject89(),this.onQrcode,Ot.QRCODE_ICON,t?M(_templateObject90(),e,r?M(_templateObject91()):null):null)}}]),t}();ar.styles=[bt.globalCss,f],ar=function(e){for(var t,r=ar,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-mobile-wallet-selection")]);var t=n(_templateObject92()),sr=Object.defineProperty,cr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?cr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&sr(t,r,o),o},ur=function(){_inherits(n,ee);var e,r=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=r.call(this)).open=!1,t.active=!1,t.unsubscribeModal=void 0,t.abortController=void 0,t.unsubscribeModal=ce.jb.subscribe(function(e){e.open?t.onOpenModalEvent():t.onCloseModalEvent()}),t}return _createClass(n,[{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribeModal)||e.call(this)}},{key:"toggleBodyScroll",value:function(e){document.querySelector("body")&&(e?null!=(e=document.getElementById("wcm-styles"))&&e.remove():document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}},{key:"onCloseModal",value:function(e){e.target===e.currentTarget&&ce.jb.close()}},{key:"onOpenModalEvent",value:function(){var r=this;this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=At.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e.next=3,Promise.all([lt(r.overlayEl,{opacity:[0,1]},{delay:.1,duration:.2}).finished,lt(r.containerEl,t,{delay:.1,duration:.2}).finished]);case 3:r.active=!0;case 4:case"end":return e.stop()}},e)})),0)}},{key:"onCloseModalEvent",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.toggleBodyScroll(!0),this.removeKeyboardEvents(),t=At.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e.next=4,Promise.all([lt(this.overlayEl,{opacity:[1,0]},{duration:.2}).finished,lt(this.containerEl,t,{duration:.2}).finished]);case 4:this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1;case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"addKeyboardEvents",value:function(){var t=this;this.abortController=new AbortController,window.addEventListener("keydown",function(e){"Escape"===e.key?ce.jb.close():"Tab"===e.key&&(null!=(e=e.target)&&e.tagName.includes("wcm-")||t.containerEl.focus())},this.abortController),this.containerEl.focus()}},{key:"removeKeyboardEvents",value:function(){var e;null==(e=this.abortController)||e.abort(),this.abortController=void 0}},{key:"render",value:function(){var e={"wcm-overlay":!0,"wcm-active":this.active};return M(_templateObject93(),se(e),this.onCloseModal,this.open?M(_templateObject94()):null)}},{key:"overlayEl",get:function(){return At.getShadowRootElement(this,".wcm-overlay")}},{key:"containerEl",get:function(){return At.getShadowRootElement(this,".wcm-container")}}]),n}();ur.styles=[bt.globalCss,t],r([ie()],ur.prototype,"open",2),r([ie()],ur.prototype,"active",2),ur=r([p("wcm-modal")],ur);var f=n(_templateObject95()),lr=Object.defineProperty,fr=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?fr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&lr(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).isMobile=!1,e.isDesktop=!1,e.isWeb=!1,e.isRetry=!1,e}return _createClass(r,[{key:"onMobile",value:function(){ce.zv.isMobile()?ce.AV.replace("MobileConnecting"):ce.AV.replace("MobileQrcodeConnecting")}},{key:"onDesktop",value:function(){ce.AV.replace("DesktopConnecting")}},{key:"onWeb",value:function(){ce.AV.replace("WebConnecting")}},{key:"render",value:function(){return M(_templateObject96(),this.isRetry?M(_templateObject97()):null,this.isMobile?M(_templateObject98(),this.onMobile,Ot.MOBILE_ICON):null,this.isDesktop?M(_templateObject99(),this.onDesktop,Ot.DESKTOP_ICON):null,this.isWeb?M(_templateObject100(),this.onWeb,Ot.GLOBE_ICON):null)}}]),r}();r.styles=[bt.globalCss,f],t([ne({type:Boolean})],r.prototype,"isMobile",2),t([ne({type:Boolean})],r.prototype,"isDesktop",2),t([ne({type:Boolean})],r.prototype,"isWeb",2),t([ne({type:Boolean})],r.prototype,"isRetry",2),r=t([p("wcm-platform-selection")],r);f=n(_templateObject101());Object.defineProperty,Object.getOwnPropertyDescriptor;var pr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onClick",value:function(){ce.AV.push("WalletExplorer")}},{key:"render",value:function(){var e=ce.ExplorerCtrl.state.recomendedWallets,e=[].concat(_toConsumableArray(e),_toConsumableArray(rr.manualWallets())).reverse().slice(0,4);return M(_templateObject102(),this.onClick,e.map(function(e){var t=At.getWalletIcon(e);if(t)return M(_templateObject103(),t);e=At.getWalletIcon({id:e.id});return e?M(_templateObject104(),e):Ot.WALLET_PLACEHOLDER}),_toConsumableArray(Array(4-e.length)).map(function(){return Ot.WALLET_PLACEHOLDER}))}}]),t}();pr.styles=[bt.globalCss,f],pr=function(e){for(var t,r=pr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-view-all-wallets-button")]);var t=n(_templateObject105()),hr=Object.defineProperty,dr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?dr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&hr(t,r,o),o},f=function(){_inherits(r,ee);var e=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=e.call(this)).walletId="",t.imageId="",t.uri="",setTimeout(function(){var e=ce.OptionsCtrl.state.walletConnectUri;t.uri=e},0),t}return _createClass(r,[{key:"render",value:function(){return M(_templateObject106(),this.uri?M(_templateObject107(),this.overlayEl.offsetWidth,this.uri,ft(this.walletId),ft(this.imageId)):M(_templateObject108()))}},{key:"overlayEl",get:function(){return At.getShadowRootElement(this,".wcm-qr-container")}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"imageId",2),r([ie()],f.prototype,"uri",2),f=r([p("wcm-walletconnect-qr")],f),Object.defineProperty,Object.getOwnPropertyDescriptor;var gr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"viewTemplate",value:function(){return ce.zv.isAndroid()?M(_templateObject109()):ce.zv.isMobile()?M(_templateObject110()):M(_templateObject111())}},{key:"render",value:function(){return M(_templateObject112(),this.viewTemplate())}}]),t}();gr.styles=[bt.globalCss],gr=function(e){for(var t,r=gr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-connect-wallet-view")]);var t=n(_templateObject113()),mr=Object.defineProperty,vr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?vr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&mr(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).isError=!1,e.openDesktopApp(),e}return _createClass(r,[{key:"onFormatAndRedirect",value:function(e){var t=ce.zv.getWalletRouterData(),r=t.desktop,t=t.name,r=null==r?void 0:r.native;r&&(t=ce.zv.formatNativeUrl(r,e,t),ce.zv.openHref(t,"_self"))}},{key:"openDesktopApp",value:function(){var e=ce.OptionsCtrl.state.walletConnectUri,t=ce.zv.getWalletRouterData();At.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}},{key:"render",value:function(){var e=ce.zv.getWalletRouterData(),t=e.name,r=e.id,n=e.image_id,i=At.getCachedRouterWalletPlatforms(),e=i.isMobile,i=i.isWeb;return M(_templateObject114(),t,At.handleUriCopy,Ot.COPY_ICON,r,ft(n),"Continue in ".concat(t,"..."),this.isError,"Connection can continue loading if ".concat(t," is not installed on your device"),e,i,!0,this.openDesktopApp.bind(this),Ot.RETRY_ICON)}}]),r}();f.styles=[bt.globalCss,t],r([ie()],f.prototype,"isError",2),f=r([p("wcm-desktop-connecting-view")],f);t=n(_templateObject115());Object.defineProperty,Object.getOwnPropertyDescriptor;var yr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onInstall",value:function(e){e&&ce.zv.openHref(e,"_blank")}},{key:"render",value:function(){var e=this,t=ce.zv.getWalletRouterData(),r=t.name,n=t.id,i=t.image_id,o=t.homepage;return M(_templateObject116(),r,n,ft(i),!0,"Download ".concat(r," to continue. If multiple browser extensions are installed, disable non ").concat(r," ones and try again"),function(){return e.onInstall(o)},Ot.ARROW_DOWN_ICON)}}]),t}();yr.styles=[bt.globalCss,t],yr=function(e){for(var t,r=yr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-install-wallet-view")]);var r=n(_templateObject117()),br=Object.defineProperty,wr=Object.getOwnPropertyDescriptor,f=function(e,t,r,n){for(var i,o=1<n?void 0:n?wr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&br(t,r,o),o},t=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).isError=!1,e.openMobileApp(),e}return _createClass(r,[{key:"onFormatAndRedirect",value:function(e,t){var r=1<arguments.length&&void 0!==t&&t,n=ce.zv.getWalletRouterData(),i=n.mobile,t=n.name,n=null==i?void 0:i.native,i=null==i?void 0:i.universal;n&&!r?(n=ce.zv.formatNativeUrl(n,e,t),ce.zv.openHref(n,"_self")):i&&(t=ce.zv.formatUniversalUrl(i,e,t),ce.zv.openHref(t,"_self"))}},{key:"openMobileApp",value:function(e){var t=0<arguments.length&&void 0!==e&&e,r=ce.OptionsCtrl.state.walletConnectUri,e=ce.zv.getWalletRouterData();At.setRecentWallet(e),r&&this.onFormatAndRedirect(r,t)}},{key:"onGoToAppStore",value:function(e){e&&ce.zv.openHref(e,"_blank")}},{key:"render",value:function(){var e=this,t=ce.zv.getWalletRouterData(),r=t.name,n=t.id,i=t.image_id,o=t.app,a=t.mobile,t=At.getCachedRouterWalletPlatforms().isWeb,s=null==o?void 0:o.ios,a=null==a?void 0:a.universal;return M(_templateObject118(),r,n,ft(i),this.isError,t,!0,function(){return e.openMobileApp(!1)},Ot.RETRY_ICON,a?M(_templateObject119(),function(){return e.openMobileApp(!0)}):null,n,ft(i),"Get ".concat(r),Ot.ARROW_RIGHT_ICON,function(){return e.onGoToAppStore(s)})}}]),r}();t.styles=[bt.globalCss,r],f([ie()],t.prototype,"isError",2),t=f([p("wcm-mobile-connecting-view")],t);r=n(_templateObject120());Object.defineProperty,Object.getOwnPropertyDescriptor;var _r=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=ce.zv.getWalletRouterData(),t=e.name,r=e.id,n=e.image_id,i=At.getCachedRouterWalletPlatforms(),e=i.isDesktop,i=i.isWeb;return M(_templateObject121(),t,At.handleUriCopy,Ot.COPY_ICON,r,ft(n),"Scan this QR Code with your phone's camera or inside ".concat(t," app"),e,i)}}]),t}();_r.styles=[bt.globalCss,r],_r=function(e){for(var t,r=_r,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-mobile-qr-connecting-view")]),Object.defineProperty,Object.getOwnPropertyDescriptor;var xr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject122(),At.handleUriCopy,Ot.COPY_ICON)}}]),t}();xr.styles=[bt.globalCss],xr=function(e){for(var t,r=xr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-qrcode-view")]);var f=n(_templateObject123()),kr=Object.defineProperty,Er=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?Er(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&kr(t,r,o),o},r=function(){_inherits(n,ee);var e,r=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=r.apply(this,arguments)).loading=!ce.ExplorerCtrl.state.wallets.listings.length,t.firstFetch=!ce.ExplorerCtrl.state.wallets.listings.length,t.search="",t.endReached=!1,t.intersectionObserver=void 0,t.searchDebounce=At.debounce(function(e){1<=e.length?(t.firstFetch=!0,t.endReached=!1,t.search=e,ce.ExplorerCtrl.resetSearch(),t.fetchWallets()):t.search&&(t.search="",t.endReached=t.isLastPage(),ce.ExplorerCtrl.resetSearch())}),t}return _createClass(n,[{key:"firstUpdated",value:function(){this.createPaginationObserver()}},{key:"disconnectedCallback",value:function(){var e;null==(e=this.intersectionObserver)||e.disconnect()}},{key:"createPaginationObserver",value:function(){var t=this;this.intersectionObserver=new IntersectionObserver(function(e){!_slicedToArray(e,1)[0].isIntersecting||t.search&&t.firstFetch||t.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}},{key:"isLastPage",value:function(){var e=ce.ExplorerCtrl.state,t=e.wallets,e=e.search,e=this.search?e:t,t=e.listings,e=e.total;return e<=40||t.length>=e}},{key:"fetchWallets",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ce.ExplorerCtrl.state,r=n.wallets,t=n.search,n=this.search?t:r,t=n.listings,r=n.total,n=n.page,!this.endReached&&(this.firstFetch||40<r&&t.length<r))return e.prev=2,this.loading=!0,i=null==(i=ce.OptionsCtrl.state.chains)?void 0:i.join(","),e.next=7,ce.ExplorerCtrl.getWallets({page:this.firstFetch?1:n+1,entries:40,search:this.search,version:2,chains:i});e.next=21;break;case 7:return i=e.sent,i=i.listings,i=i.map(function(e){return At.getWalletIcon(e)}),e.next=12,Promise.all([].concat(_toConsumableArray(i.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",At.preloadImage(t));case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())),[ce.zv.wait(300)]));case 12:this.endReached=this.isLastPage(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),ce.ToastCtrl.openToast(At.getErrorMessage(e.t0),"error");case 18:return e.prev=18,this.loading=!1,this.firstFetch=!1,e.finish(18);case 21:case"end":return e.stop()}},e,this,[[2,15,18,21]])})),function(){return e.apply(this,arguments)})},{key:"onConnect",value:function(e){ce.zv.isAndroid()?At.handleMobileLinking(e):At.goToConnectingView(e)}},{key:"onSearchChange",value:function(e){e=e.target.value;this.searchDebounce(e)}},{key:"render",value:function(){var t=this,e=ce.ExplorerCtrl.state,r=e.wallets,n=e.search,i=(this.search?n:r).listings,o=this.loading&&!i.length,a=3<=this.search.length,e=nr.manualWalletsTemplate(),n=nr.recomendedWalletsTemplate(!0);a&&(e=e.filter(function(e){e=e.values;return At.caseSafeIncludes(e[0],t.search)}),n=n.filter(function(e){e=e.values;return At.caseSafeIncludes(e[0],t.search)}));r=!this.loading&&!i.length&&!n.length,a={"wcm-loading":o,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":r};return M(_templateObject124(),this.onSearchChange.bind(this),se(a),o?null:e,o?null:n,o?null:i.map(function(e){return M(_templateObject125(),e?M(_templateObject126(),e.image_id,e.name,e.id,function(){return t.onConnect(e)}):null)}),r?M(_templateObject127()):null,!r&&this.loading?M(_templateObject128()):null)}},{key:"placeholderEl",get:function(){return At.getShadowRootElement(this,".wcm-placeholder-block")}}]),n}();r.styles=[bt.globalCss,f],t([ie()],r.prototype,"loading",2),t([ie()],r.prototype,"firstFetch",2),t([ie()],r.prototype,"search",2),t([ie()],r.prototype,"endReached",2),r=t([p("wcm-wallet-explorer-view")],r);var t=n(_templateObject129()),Or=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Cr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Or(t,r,o),o},n=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).isError=!1,e.openWebWallet(),e}return _createClass(r,[{key:"onFormatAndRedirect",value:function(e){var t=ce.zv.getWalletRouterData(),r=t.desktop,t=t.name,r=null==r?void 0:r.universal;r&&(t=ce.zv.formatUniversalUrl(r,e,t),ce.zv.openHref(t,"_blank"))}},{key:"openWebWallet",value:function(){var e=ce.OptionsCtrl.state.walletConnectUri,t=ce.zv.getWalletRouterData();At.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}},{key:"render",value:function(){var e=ce.zv.getWalletRouterData(),t=e.name,r=e.id,n=e.image_id,i=At.getCachedRouterWalletPlatforms(),o=i.isMobile,e=i.isDesktop,i=ce.zv.isMobile();return M(_templateObject130(),t,At.handleUriCopy,Ot.COPY_ICON,r,ft(n),"Continue in ".concat(t,"..."),this.isError,"".concat(t," web app has opened in a new tab. Go there, accept the connection, and come back"),o,!i&&e,!0,this.openWebWallet.bind(this),Ot.RETRY_ICON)}}]),r}();n.styles=[bt.globalCss,t],r([ie()],n.prototype,"isError",2),n=r([p("wcm-web-connecting-view")],n)}},n={};function Ao(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,loaded:!1,exports:{}};return r[e](t,t.exports,Ao),t.loaded=!0,t.exports}Ao.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Ao.d(t,{a:t}),t},Ao.d=function(e,t){for(var r in t)Ao.o(t,r)&&!Ao.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},Ao.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":_typeof(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":_typeof(window)))return window}}(),Ao.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ao.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},Ao.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={};Ao.r(e),Ao.d(e,{identity:function(){return se}});var t={};Ao.r(t),Ao.d(t,{base2:function(){return ce}});var r={};Ao.r(r),Ao.d(r,{base8:function(){return ue}});var n={};Ao.r(n),Ao.d(n,{base10:function(){return le}});var i={};Ao.r(i),Ao.d(i,{base16:function(){return fe},base16upper:function(){return pe}});var o={};Ao.r(o),Ao.d(o,{base32:function(){return he},base32hex:function(){return ve},base32hexpad:function(){return be},base32hexpadupper:function(){return we},base32hexupper:function(){return ye},base32pad:function(){return ge},base32padupper:function(){return me},base32upper:function(){return de},base32z:function(){return _e}});var a={};Ao.r(a),Ao.d(a,{base36:function(){return xe},base36upper:function(){return ke}});var s={};Ao.r(s),Ao.d(s,{base58btc:function(){return Ee},base58flickr:function(){return Oe}});var c={};Ao.r(c),Ao.d(c,{base64:function(){return Ce},base64pad:function(){return Re},base64url:function(){return Se},base64urlpad:function(){return Te}});var u={};Ao.r(u),Ao.d(u,{base256emoji:function(){return je}});var l={};Ao.r(l),Ao.d(l,{sha256:function(){return Ve},sha512:function(){return Fe}});var f={};Ao.r(f),Ao.d(f,{identity:function(){return $e}});var p={};Ao.r(p),Ao.d(p,{code:function(){return Ze},decode:function(){return Je},encode:function(){return Qe},name:function(){return Ye}});var h={};Ao.r(h),Ao.d(h,{code:function(){return rt},decode:function(){return it},encode:function(){return nt},name:function(){return tt}});function d(e,t){_classCallCheck(this,d),this.logger=e,this.core=t}function g(e,t,r,n){_classCallCheck(this,g),this.core=e,this.logger=t,this.name=r}function m(e,t){_classCallCheck(this,m),this.projectId=e,this.logger=t}function v(e){_classCallCheck(this,v),this.opts=e,this.protocol="wc",this.version=2}function y(e){_classCallCheck(this,y),this.client=e}var b=Ao(7358),w=Ao.n(b),_=Ao(3542),x=Ao(5738),k=Ao(2326),E=Ao(6446),O=function(){_inherits(n,E.q);var r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this)).opts=e,t.protocol="wc",t.version=2,t}return n}(),C=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).core=e,r.logger=t,r.records=new Map,r}return i}(),R=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).relayer=e,r.logger=t,r}return i}(),S=function(){_inherits(r,E.q);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this)}return r}(),T=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).relayer=e,r.logger=t,r}return i}(),I=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).core=e,r.logger=t,r}return i}(),A=function(e){return JSON.stringify(e,function(e,t){return"bigint"==typeof t?t.toString()+"n":t})};function j(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+_typeof(t));try{return e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),JSON.parse(e,function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t})}catch(e){return t}var e}function P(e){return"string"==typeof e?e:A(e)||""}var L=Ao(4972),N=Ao(4022),M=Ao(7657),U="base64url",D="utf8",z=":",G="did",W="key",B="base58btc",H="z",q="K36";function V(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function F(e){e=0<arguments.length&&void 0!==e?e:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?V(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function K(e,t){var r=F(t=t||e.reduce(function(e,t){return e+t.length},0)),n=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var o=o.value;r.set(o,n),n+=o.length}}catch(e){i.e(e)}finally{i.f()}return V(r)}function $(e){var t=e.name,r=e.prefix,n=e.encode,e=e.decode;return new ie(t,r,n,e)}function Y(e,t,r){t=t||[];for(var n=r=r||0;Pe<=e;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,Y.bytes=r-n+1,t}function Z(e,t,r){return Y(e,t,2<arguments.length&&void 0!==r?r:0),t}function Q(e){return(e=e)<Le?1:e<Ne?2:e<Me?3:e<Ue?4:e<De?5:e<ze?6:e<Ge?7:e<We?8:e<Be?9:10}function J(e,t){var r=t.byteLength,n=Q(e),i=n+Q(r),o=new Uint8Array(i+r);return Z(e,o,0),Z(r,o,n),o.set(t,i),new He(e,r,t,o)}var X=(new Uint8Array(0),function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),ee=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.prefix=t,this.baseEncode=r}return _createClass(n,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),n}(),te=function(){function n(e,t,r){if(_classCallCheck(this,n),this.name=e,void 0===(this.prefix=t).codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}return _createClass(n,[{key:"decode",value:function(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}},{key:"or",value:function(e){return ne(this,e)}}]),n}(),re=function(){function t(e){_classCallCheck(this,t),this.decoders=e}return _createClass(t,[{key:"or",value:function(e){return ne(this,e)}},{key:"decode",value:function(e){var t=e[0],t=this.decoders[t];if(t)return t.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),t}(),ne=function(e,t){return new re(_objectSpread(_objectSpread({},e.decoders||_defineProperty({},e.prefix,e)),t.decoders||_defineProperty({},t.prefix,t)))},ie=function(){function i(e,t,r,n){_classCallCheck(this,i),this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ee(e,t,r),this.decoder=new te(e,t,n)}return _createClass(i,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),i}(),oe=function(e){var t=e.prefix,r=e.name,n=function(p,t){if(255<=p.length)throw new TypeError("Alphabet too long");for(var h=new Uint8Array(256),e=0;e<h.length;e++)h[e]=255;for(var r=0;r<p.length;r++){var n=p.charAt(r),i=n.charCodeAt(0);if(255!==h[i])throw new TypeError(n+" is ambiguous");h[i]=r}var d=p.length,g=p.charAt(0),m=Math.log(d)/Math.log(256),v=Math.log(256)/Math.log(d);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,n=0;e[t]===g;)r++,t++;for(var i=(e.length-t)*m+1>>>0,o=new Uint8Array(i);e[t];){var a=h[e.charCodeAt(t)];if(255===a)return;for(var s=0,c=i-1;(0!==a||s<n)&&-1!==c;c--,s++)a+=d*o[c]>>>0,o[c]=a%256>>>0,a=a/256>>>0;if(0!==a)throw new Error("Non-zero carry");n=s,t++}if(" "!==e[t]){for(var u=i-n;u!==i&&0===o[u];)u++;for(var l=new Uint8Array(r+(i-u)),f=r;u!==i;)l[f++]=o[u++];return l}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var t=0,r=0,n=0,i=e.length;n!==i&&0===e[n];)n++,t++;for(var o=(i-n)*v+1>>>0,a=new Uint8Array(o);n!==i;){for(var s=e[n],c=0,u=o-1;(0!==s||c<r)&&-1!==u;u--,c++)s+=256*a[u]>>>0,a[u]=s%d>>>0,s=s/d>>>0;if(0!==s)throw new Error("Non-zero carry");r=c,n++}for(var l=o-r;l!==o&&0===a[l];)l++;for(var f=g.repeat(t);l<o;++l)f+=p.charAt(a[l]);return f},decodeUnsafe:o,decode:function(e){e=o(e);if(e)return e;throw new Error("Non-".concat(t," character"))}}}(e.alphabet,r),e=n.encode,i=n.decode;return $({prefix:t,name:r,encode:e,decode:function(e){return X(i(e))}})},ae=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return $({prefix:r,name:t,encode:function(e){return function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;r<a;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o}(e,i,n)},decode:function(e){return function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),c=0,u=0,l=0,f=0;f<a;++f){var p=i[e[f]];if(void 0===p)throw new SyntaxError("Non-".concat(n," character"));u=u<<r|p,8<=(c+=r)&&(c-=8,s[l++]=255&u>>c)}if(r<=c||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s}(e,i,n,t)}})},se=$({prefix:"\0",name:"identity",encode:function(e){return e=e,(new TextDecoder).decode(e)},decode:function(e){return e=e,(new TextEncoder).encode(e)}}),ce=ae({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ue=ae({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),le=oe({prefix:"9",name:"base10",alphabet:"0123456789"}),fe=ae({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pe=ae({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),he=ae({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),de=ae({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ge=ae({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),me=ae({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ve=ae({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ye=ae({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),be=ae({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),we=ae({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_e=ae({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xe=oe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ke=oe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ee=oe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Oe=oe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ce=ae({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Re=ae({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Se=ae({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Te=ae({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),l=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),Ie=l.reduce(function(e,t,r){return e[r]=t,e},[]),Ae=l.reduce(function(e,t,r){return e[t.codePointAt(0)]=r,e},[]),je=$({prefix:"ðŸš€",name:"base256emoji",encode:function(e){return e.reduce(function(e,t){return e+Ie[t]},"")},decode:function(e){var t=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var n=i.value,i=Ae[n.codePointAt(0)];if(void 0===i)throw new Error("Non-base256emoji character: ".concat(n));t.push(i)}}catch(e){r.e(e)}finally{r.f()}return new Uint8Array(t)}}),Pe=Math.pow(2,31),Le=Math.pow(2,7),Ne=Math.pow(2,14),Me=Math.pow(2,21),Ue=Math.pow(2,28),De=Math.pow(2,35),ze=Math.pow(2,42),Ge=Math.pow(2,49),We=Math.pow(2,56),Be=Math.pow(2,63),He=function e(t,r,n,i){_classCallCheck(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i},f=function(e){var t=e.name,r=e.code,e=e.encode;return new qe(t,r,e)},qe=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.code=t,this.encode=r}return _createClass(n,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){e=this.encode(e);return e instanceof Uint8Array?J(this.code,e):e.then(function(e){return J(t.code,e)})}throw Error("Unknown type, must be binary type")}}]),n}(),p=function(r){return function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest(r,t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()},Ve=f({name:"sha2-256",code:18,encode:p("SHA-256")}),Fe=f({name:"sha2-512",code:19,encode:p("SHA-512")}),Ke=X,$e={code:0,name:"identity",encode:Ke,digest:function(e){return J(0,Ke(e))}},Ye="raw",Ze=85,Qe=function(e){return X(e)},Je=function(e){return X(e)},Xe=new TextEncoder,et=new TextDecoder,tt="json",rt=512,nt=function(e){return Xe.encode(JSON.stringify(e))},it=function(e){return JSON.parse(et.decode(e))};Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");h=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},e),t),r),n),i),o),a),s),c),u);function ot(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var oe=ot("utf8","u",function(e){return"u"+new TextDecoder("utf8").decode(e)},function(e){return(new TextEncoder).encode(e.substring(1))}),ae=ot("ascii","a",function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},function(e){for(var t=F((e=e.substring(1)).length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),at=_objectSpread({utf8:oe,"utf-8":oe,hex:h.base16,latin1:ae,ascii:ae,binary:ae},h);function st(e,t){var r=1<arguments.length&&void 0!==t?t:"utf8",t=at[r];if(!t)throw new Error('Unsupported encoding "'.concat(r,'"'));return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function ct(e,t){var r=1<arguments.length&&void 0!==t?t:"utf8",t=at[r];if(!t)throw new Error('Unsupported encoding "'.concat(r,'"'));return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode("".concat(t.prefix).concat(e)):V(globalThis.Buffer.from(e,"utf-8"))}function ut(e){return st(ct(P(e),D),U)}function lt(e){var t=ct(q,B),e=H+st(K([t,e]),B);return[G,W,e].join(z)}function ft(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(0,N.randomBytes)(32);return L._w(e)}Ao(9611);var pt=Ao(8842),ht=Ao(5393),dt=Ao(1548),gt=Ao(5492),mt=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},vt=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},yt=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},bt=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},wt=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},_t=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},xt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,kt=3,Et=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ot=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ct(e){var n,t=""!==(n=e)&&Et.reduce(function(e,t){var r=t[0],t=t[1];if(e)return e;t=t.exec(n);return!!t&&[r,t]},!1);if(!t)return null;var r=t[0],i=t[1];if("searchbot"===r)return new wt;t=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);t?t.length<kt&&(t=mt(mt([],t,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(kt-t.length),!0)):t=[];i=t.join("."),t=function(e){for(var t=0,r=Ot.length;t<r;t++){var n=Ot[t],i=n[0];if(n[1].exec(e))return i}return null}(e),e=xt.exec(e);return e&&e[1]?new bt(r,i,t,e[1]):new vt(r,i,t)}var Rt=Ao(9153),St=Ao(747),Tt=Ao(9545);Ao(4585);var It={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function At(e,t){return e.includes(":")?[e]:t.chains||[]}var jt="base10",Pt="base16",Lt="base64pad",Nt="utf8";function Mt(){return st((0,N.randomBytes)(32),Pt)}function Ut(e){return st((0,dt.vp)(ct(e,Nt)),Pt)}function Dt(e){return Number(st(e,jt))}function zt(e){var t=ct(e,Lt),r=t.slice(0,1);if(1===Dt(r)){var n=t.slice(1,33),e=t.slice(33,45);return{type:r,sealed:t.slice(45),iv:e,senderPublicKey:n}}n=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:n}}function Gt(e){var t=(null==e?void 0:e.type)||0;if(1===t){if("u"<_typeof(null==e?void 0:e.senderPublicKey))throw new Error("missing sender public key");if("u"<_typeof(null==e?void 0:e.receiverPublicKey))throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null==e?void 0:e.senderPublicKey,receiverPublicKey:null==e?void 0:e.receiverPublicKey}}function Wt(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function Bt(e,t,r){return t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Ht(e,t){for(var r in t=t||{})Ft.call(t,r)&&Bt(e,r,t[r]);if(Vt){var n,i=_createForOfIteratorHelper(Vt(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Kt.call(t,r)&&Bt(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}var qt=Object.defineProperty,Vt=Object.getOwnPropertySymbols,Ft=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,$t="ReactNative",Yt={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Zt="js";function Qt(){return("undefined"==typeof process?"undefined":_typeof(process))<"u"&&_typeof(process.versions)<"u"&&_typeof(process.versions.node)<"u"}function Jt(){return!(0,Rt.getDocument)()&&(0,Rt.getNavigator)()&&navigator.product===$t}function Xt(){return!Qt()&&!!(0,Rt.getNavigator)()}function er(){return Jt()?Yt.reactNative:Qt()?Yt.node:Xt()?Yt.browser:Yt.unknown}function tr(e,t){return e.filter(function(e){return t.includes(e)}).length===e.length}function rr(e){return Object.fromEntries(e.entries())}function nr(e){return new Map(Object.entries(e))}function ir(e,t){var r,n,i,e=0<arguments.length&&void 0!==e?e:M.FIVE_MINUTES,o=1<arguments.length?t:void 0,a=(0,M.toMiliseconds)(e||M.FIVE_MINUTES);return{resolve:function(e){i&&r&&(clearTimeout(i),r(e))},reject:function(e){i&&n&&(clearTimeout(i),n(e))},done:function(){return new Promise(function(e,t){i=setTimeout(function(){t(new Error(o))},a),r=e,n=t})}}}function or(i,o,a){return new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=setTimeout(function(){return r(new Error(a))},o),e.prev=1,e.t0=t,e.next=5,i;case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),r(e.t2);case 12:clearTimeout(n);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(e,t){return r.apply(this,arguments)}}())}function ar(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"!==e.toLowerCase())throw new Error("Unknown expirer target type: ".concat(e));if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}function sr(e){var t=_slicedToArray(e.split(":"),2),r=t[0],e=t[1],t={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof e)t.topic=e;else{if("id"!==r||!Number.isInteger(Number(e)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(r,":").concat(e));t.id=Number(e)}return t}function cr(e,t){return(0,M.fromMiliseconds)((t||Date.now())+(0,M.toMiliseconds)(e))}function ur(e){return Date.now()>=(0,M.toMiliseconds)(e)}function lr(e,t){return"".concat(e).concat(t?":".concat(t):"")}function fr(e){return(null==e?void 0:e.relay)||{protocol:"irn"}}function pr(e){var t=It[e];if("u"<_typeof(t))throw new Error("Relay Protocol not supported: ".concat(e));return t}var hr=Object.defineProperty,dr=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,vr=function(e,t,r){return t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};function yr(e){var r=[];return e.forEach(function(e){var t=_slicedToArray(e.split(":"),2),e=t[0],t=t[1];r.push("".concat(e,":").concat(t))}),r}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var br={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},wr={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function _r(e,t){var r=wr[e],e=r.message,r=r.code;return{message:t?"".concat(e," ").concat(t):e,code:r}}function xr(e,t){var r=br[e],e=r.message,r=r.code;return{message:t?"".concat(e," ").concat(t):e,code:r}}function kr(e,t){return Array.isArray(e)&&(!(_typeof(t)<"u"&&e.length)||e.every(t))}function Er(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Or(e){return"u"<_typeof(e)}function Cr(e,t){return!(!t||!Or(e))||"string"==typeof e&&!!e.trim().length}function Rr(e,t){return t&&Or(e)||"number"==typeof e&&!isNaN(e)}function Sr(e){return Cr(e,!1)&&e.includes(":")&&2===e.split(":").length}function Tr(e){var t=!0;return kr(e)?e.length&&(t=e.every(function(e){return Cr(e,!1)})):t=!1,t}function Ir(e,n){var i=null;return Object.values(e).forEach(function(e){var t,r;i||(t=e,r="".concat(n,", namespace"),Tr((e=null)==t?void 0:t.methods)?Tr(null==t?void 0:t.events)||(e=xr("UNSUPPORTED_EVENTS","".concat(r,", events should be an array of strings or empty array for no events"))):e=xr("UNSUPPORTED_METHODS","".concat(r,", methods should be an array of strings or empty array for no methods")),(e=e)&&(i=e))}),i}function Ar(e,t){var r,n,i,o=null;return e&&Er(e)?((r=Ir(e,t))&&(o=r),(e=(n=t,i=null,Object.values(e).forEach(function(e){var t,r;i||(e=null==e?void 0:e.accounts,t="".concat(n," namespace"),r=null,kr(e)?e.forEach(function(e){r||function(e){if(Cr(e,!1)&&e.includes(":")){var t=e.split(":");if(3===t.length){e=t[0]+":"+t[1];return t[2]&&Sr(e)}}}(e)||(r=xr("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))}):r=xr("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),(e=r)&&(i=e))}),i))&&(o=e)):o=_r("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data")),o}function jr(e){return Cr(e.protocol,!0)}function Pr(e){return _typeof(e)<"u"&&null!==typeof e}function Lr(e,t){return Sr(t)&&(r=[],Object.values(e).forEach(function(e){r.push.apply(r,_toConsumableArray(yr(e.accounts)))}),r.includes(t));var r}function Nr(e,r,n){var i,o,a,s,c=null,t=(a=e,s={},Object.keys(a).forEach(function(t){var e;t.includes(":")?s[t]=a[t]:null==(e=a[t].chains)||e.forEach(function(e){s[e]={methods:a[t].methods,events:a[t].events}})}),s),u=(i=r,o={},Object.keys(i).forEach(function(e){var t;e.includes(":")?o[e]=i[e]:null!=(t=yr(i[e].accounts))&&t.forEach(function(t){o[t]={accounts:i[e].accounts.filter(function(e){return e.includes("".concat(t,":"))}),methods:i[e].methods,events:i[e].events}})}),o),l=Object.keys(t),f=Object.keys(u),e=Mr(Object.keys(e)),p=Mr(Object.keys(r)),e=e.filter(function(e){return!p.includes(e)});return e.length&&(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(e.toString(),"\n      Received: ").concat(Object.keys(r).toString()))),tr(l,f)||(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(l.toString(),"\n      Approved: ").concat(f.toString()))),Object.keys(r).forEach(function(e){var t;e.includes(":")&&!c&&((t=yr(r[e].accounts)).includes(e)||(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(t.toString()))))}),l.forEach(function(e){c||(tr(t[e].methods,u[e].methods)?tr(t[e].events,u[e].events)||(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))}),c}function Mr(e){return _toConsumableArray(new Set(e.map(function(e){return e.includes(":")?e.split(":")[0]:e})))}function Ur(){var r=er();return new Promise(function(e){var t;switch(r){case Yt.browser:e(Xt()&&(null===(t=navigator)||void 0===t?void 0:t.onLine));break;case Yt.reactNative:e(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Jt()&&_typeof(Ao.g)<"u"&&null!=Ao.g&&Ao.g.NetInfo)return e.next=3,null==Ao.g?void 0:Ao.g.NetInfo.fetch();e.next=5;break;case 3:return t=e.sent,e.abrupt("return",null==t?void 0:t.isConnected);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))());break;case Yt.node:default:e(!0)}})}var Dr={},zr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"get",value:function(e){return Dr[e]}},{key:"set",value:function(e,t){Dr[e]=t}},{key:"delete",value:function(e){delete Dr[e]}}]),e}(),Gr="INTERNAL_ERROR",Wr="SERVER_ERROR",Br=[-32700,-32600,-32601,-32602,-32603],Hr=(_defineProperty(l={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"}},Gr,{code:-32603,message:"Internal error"}),_defineProperty(l,Wr,{code:-32e3,message:"Server error"}),l),qr=Wr;function Vr(e){return Object.keys(Hr).includes(e)?Hr[e]:Hr[qr]}var Fr=Ao(2549);function Kr(e){e=0<arguments.length&&void 0!==e?e:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function $r(e){return BigInt(Kr(0<arguments.length&&void 0!==e?e:6))}function Yr(e,t,r){return{id:r||Kr(),jsonrpc:"2.0",method:e,params:t}}function Zr(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Qr(e,t,r){return{id:e,jsonrpc:"2.0",error:(r=r,void 0===(t=t)?Vr(Gr):("string"==typeof t&&(t=Object.assign(Object.assign({},Vr(Wr)),{message:t})),void 0!==r&&(t.data=r),r=t.code,Br.includes(r)&&(t=function(t){return Object.values(Hr).find(function(e){return e.code===t})||Hr[qr]}(t.code)),t))}}function Jr(){_classCallCheck(this,Jr)}var Xr=function(){_inherits(t,Jr);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.call(this)}return t}(),en=function(){_inherits(r,Xr);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this)}return r}();function tn(e){return t=e,void 0!==(e=function(){var e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}())&&new RegExp("^wss?:").test(e);var t}function rn(e){return"object"==_typeof(e)&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function nn(e){return rn(e)&&"method"in e}function on(e){return rn(e)&&(an(e)||sn(e))}function an(e){return"result"in e}function sn(e){return"error"in e}function cn(e){return e.split("?")[0]}function un(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function ln(e){var t=e.name,r=e.prefix,n=e.encode,e=e.decode;return new kn(t,r,n,e)}function fn(e,t,r){t=t||[];for(var n=r=r||0;Cn<=e;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,fn.bytes=r-n+1,t}function pn(e,t,r){return fn(e,t,2<arguments.length&&void 0!==r?r:0),t}function hn(e){return(e=e)<Rn?1:e<Sn?2:e<Tn?3:e<In?4:e<An?5:e<jn?6:e<Pn?7:e<Ln?8:e<Nn?9:10}function dn(e,t){var r=t.byteLength,n=hn(e),i=n+hn(r),o=new Uint8Array(i+r);return pn(e,o,0),pn(r,o,n),o.set(t,i),new Mn(e,r,t,o)}var gn=function(){_inherits(s,en);var e,t,r,n,i,o,a=_createSuper(s);function s(e){var t;return _classCallCheck(this,s),(t=a.call(this,e)).events=new b.EventEmitter,t.hasRegisteredEventListeners=!1,t.connection=t.setConnection(e),t.connection.connected&&t.registerEventListeners(),t}return _createClass(s,[{key:"connect",value:(o=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:this.connection,e.next=3,this.open(t);case 3:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"disconnect",value:(i=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"request",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.requestStrict(Yr(t.method,t.params||[],t.id||$r().toString()),r));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"requestStrict",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(n,i){var o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.connection.connected){e.next=9;break}return e.prev=1,e.next=4,o.open();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r(e.t0);case 9:return o.events.on("".concat(n.id),function(e){sn(e)?r(e.error):t(e.result)}),e.prev=10,e.next=13,o.connection.send(n,i);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),r(e.t1);case 18:case"end":return e.stop()}},e,null,[[1,6],[10,15]])}));return function(e,t){return r.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})},{key:"setConnection",value:function(e){return 0<arguments.length&&void 0!==e?e:this.connection}},{key:"onPayload",value:function(e){this.events.emit("payload",e),on(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}},{key:"onClose",value:function(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}},{key:"open",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<r.length&&void 0!==r[0]?r[0]:this.connection,e.t0=this.connection===t&&this.connection.connected,e.t0){e.next=14;break}if(this.connection.connected&&this.close(),e.t1="string"==typeof t,e.t1)return e.next=8,this.connection.open(t);e.next=9;break;case 8:t=this.connection;case 9:return this.connection=this.setConnection(t),e.next=12,this.connection.open();case 12:this.registerEventListeners(),this.events.emit("connect");case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"close",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.close();case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var t=this;this.hasRegisteredEventListeners||(this.connection.on("payload",function(e){return t.onPayload(e)}),this.connection.on("close",function(e){return t.onClose(e)}),this.connection.on("error",function(e){return t.events.emit("error",e)}),this.connection.on("register_error",function(e){return t.onClose()}),this.hasRegisteredEventListeners=!0)}}]),s}(),mn="undefined"!=typeof WebSocket?WebSocket:void 0!==Ao.g&&void 0!==Ao.g.WebSocket?Ao.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:Ao(6664),vn=function(){function t(e){if(_classCallCheck(this,t),this.url=e,this.events=new b.EventEmitter,this.registering=!1,!tn(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}var r,e,n;return _createClass(t,[{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"close",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,e){void 0!==r.socket?(r.socket.onclose=function(e){r.onClose(e),t()},r.socket.close()):e(new Error("Connection already closed"))}));case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})},{key:"send",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=void 0===this.socket,e.t0)return e.next=4,this.register();e.next=5;break;case 4:this.socket=e.sent;case 5:try{this.socket.send(P(t))}catch(e){this.onError(t.id,e)}case 6:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"register",value:function(e){var i=this,o=0<arguments.length&&void 0!==e?e:this.url;if(!tn(o))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(o));if(this.registering){e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(function(e,t){i.events.once("register_error",function(e){i.resetMaxListeners(),t(e)}),i.events.once("open",function(){return i.resetMaxListeners(),void 0===i.socket?t(new Error("WebSocket connection is missing or invalid")):void e(i.socket)})})}return this.url=o,this.registering=!0,new Promise(function(e,t){var r,r=(0,Fr.isReactNative)()?void 0:{rejectUnauthorized:(r=o,!new RegExp("wss?://localhost(:d{2,5})?").test(r))},n=new mn(o,[],r);"undefined"!=typeof WebSocket||void 0!==Ao.g&&void 0!==Ao.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket?n.onerror=function(e){t(i.emitError(e.error))}:n.on("error",function(e){t(i.emitError(e))}),n.onopen=function(){i.onOpen(n),e(n)}})}},{key:"onOpen",value:function(e){var t=this;e.onmessage=function(e){return t.onPayload(e)},e.onclose=function(e){return t.onClose(e)},this.socket=e,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}},{key:"onPayload",value:function(e){void 0!==e.data&&(e="string"==typeof e.data?j(e.data):e.data,this.events.emit("payload",e))}},{key:"onError",value:function(e,t){t=this.parseError(t),t=Qr(e,t.message||t.toString());this.events.emit("payload",t)}},{key:"parseError",value:function(e,t){t=1<arguments.length&&void 0!==t?t:this.url;return e=e,t=cn(t),e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable WS RPC url at ".concat(t)):e}},{key:"resetMaxListeners",value:function(){10<this.events.getMaxListeners()&&this.events.setMaxListeners(10)}},{key:"emitError",value:function(e){e=this.parseError(new Error((null==e?void 0:e.message)||"WebSocket connection failed for host: ".concat(cn(this.url))));return this.events.emit("register_error",e),e}},{key:"connected",get:function(){return void 0!==this.socket}},{key:"connecting",get:function(){return this.registering}}]),t}(),f=Ao(3918),yn=Ao.n(f),bn=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.prefix=t,this.baseEncode=r}return _createClass(n,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),n}(),wn=function(){function n(e,t,r){if(_classCallCheck(this,n),this.name=e,void 0===(this.prefix=t).codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}return _createClass(n,[{key:"decode",value:function(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}},{key:"or",value:function(e){return xn(this,e)}}]),n}(),_n=function(){function t(e){_classCallCheck(this,t),this.decoders=e}return _createClass(t,[{key:"or",value:function(e){return xn(this,e)}},{key:"decode",value:function(e){var t=e[0],t=this.decoders[t];if(t)return t.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),t}(),xn=function(e,t){return new _n(_objectSpread(_objectSpread({},e.decoders||_defineProperty({},e.prefix,e)),t.decoders||_defineProperty({},t.prefix,t)))},kn=function(){function i(e,t,r,n){_classCallCheck(this,i),this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new bn(e,t,r),this.decoder=new wn(e,t,n)}return _createClass(i,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),i}(),p=function(e){var t=e.prefix,r=e.name,n=function(p,t){if(255<=p.length)throw new TypeError("Alphabet too long");for(var h=new Uint8Array(256),e=0;e<h.length;e++)h[e]=255;for(var r=0;r<p.length;r++){var n=p.charAt(r),i=n.charCodeAt(0);if(255!==h[i])throw new TypeError(n+" is ambiguous");h[i]=r}var d=p.length,g=p.charAt(0),m=Math.log(d)/Math.log(256),v=Math.log(256)/Math.log(d);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,n=0;e[t]===g;)r++,t++;for(var i=(e.length-t)*m+1>>>0,o=new Uint8Array(i);e[t];){var a=h[e.charCodeAt(t)];if(255===a)return;for(var s=0,c=i-1;(0!==a||s<n)&&-1!==c;c--,s++)a+=d*o[c]>>>0,o[c]=a%256>>>0,a=a/256>>>0;if(0!==a)throw new Error("Non-zero carry");n=s,t++}if(" "!==e[t]){for(var u=i-n;u!==i&&0===o[u];)u++;for(var l=new Uint8Array(r+(i-u)),f=r;u!==i;)l[f++]=o[u++];return l}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var t=0,r=0,n=0,i=e.length;n!==i&&0===e[n];)n++,t++;for(var o=(i-n)*v+1>>>0,a=new Uint8Array(o);n!==i;){for(var s=e[n],c=0,u=o-1;(0!==s||c<r)&&-1!==u;u--,c++)s+=256*a[u]>>>0,a[u]=s%d>>>0,s=s/d>>>0;if(0!==s)throw new Error("Non-zero carry");r=c,n++}for(var l=o-r;l!==o&&0===a[l];)l++;for(var f=g.repeat(t);l<o;++l)f+=p.charAt(a[l]);return f},decodeUnsafe:o,decode:function(e){e=o(e);if(e)return e;throw new Error("Non-".concat(t," character"))}}}(e.alphabet,r),e=n.encode,i=n.decode;return ln({prefix:t,name:r,encode:e,decode:function(e){return un(i(e))}})},e=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return ln({prefix:r,name:t,encode:function(e){return function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;r<a;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o}(e,i,n)},decode:function(e){return function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),c=0,u=0,l=0,f=0;f<a;++f){var p=i[e[f]];if(void 0===p)throw new SyntaxError("Non-".concat(n," character"));u=u<<r|p,8<=(c+=r)&&(c-=8,s[l++]=255&u>>c)}if(r<=c||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s}(e,i,n,t)}})},t=ln({prefix:"\0",name:"identity",encode:function(e){return e=e,(new TextDecoder).decode(e)},decode:function(e){return e=e,(new TextEncoder).encode(e)}}),r=Object.freeze({__proto__:null,identity:t}),n=e({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),i=Object.freeze({__proto__:null,base2:n}),o=e({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),a=Object.freeze({__proto__:null,base8:o}),s=p({prefix:"9",name:"base10",alphabet:"0123456789"}),c=Object.freeze({__proto__:null,base10:s}),u=e({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oe=e({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ae=Object.freeze({__proto__:null,base16:u,base16upper:oe}),h=e({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l=e({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),f=e({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),t=e({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),n=e({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),o=e({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),s=e({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),u=e({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oe=e({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),t=Object.freeze({__proto__:null,base32:h,base32upper:l,base32pad:f,base32padupper:t,base32hex:n,base32hexupper:o,base32hexpad:s,base32hexpadupper:u,base32z:oe}),n=p({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),o=p({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),s=Object.freeze({__proto__:null,base36:n,base36upper:o}),u=p({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oe=p({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),n=Object.freeze({__proto__:null,base58btc:u,base58flickr:oe}),o=e({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),p=e({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),u=e({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oe=e({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),e=Object.freeze({__proto__:null,base64:o,base64pad:p,base64url:u,base64urlpad:oe}),o=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),En=o.reduce(function(e,t,r){return e[r]=t,e},[]),On=o.reduce(function(e,t,r){return e[t.codePointAt(0)]=r,e},[]),p=ln({prefix:"ðŸš€",name:"base256emoji",encode:function(e){return e.reduce(function(e,t){return e+En[t]},"")},decode:function(e){var t=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var n=i.value,i=On[n.codePointAt(0)];if(void 0===i)throw new Error("Non-base256emoji character: ".concat(n));t.push(i)}}catch(e){r.e(e)}finally{r.f()}return new Uint8Array(t)}}),u=Object.freeze({__proto__:null,base256emoji:p}),Cn=Math.pow(2,31),Rn=Math.pow(2,7),Sn=Math.pow(2,14),Tn=Math.pow(2,21),In=Math.pow(2,28),An=Math.pow(2,35),jn=Math.pow(2,42),Pn=Math.pow(2,49),Ln=Math.pow(2,56),Nn=Math.pow(2,63),Mn=function e(t,r,n,i){_classCallCheck(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i},oe=function(e){var t=e.name,r=e.code,e=e.encode;return new Un(t,r,e)},Un=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.code=t,this.encode=r}return _createClass(n,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){e=this.encode(e);return e instanceof Uint8Array?dn(this.code,e):e.then(function(e){return dn(t.code,e)})}throw Error("Unknown type, must be binary type")}}]),n}(),o=function(r){return function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest(r,t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()},p=oe({name:"sha2-256",code:18,encode:o("SHA-256")}),o=oe({name:"sha2-512",code:19,encode:o("SHA-512")});Object.freeze({__proto__:null,sha256:p,sha512:o});var Dn=un,o={code:0,name:"identity",encode:Dn,digest:function(e){return dn(0,Dn(e))}};Object.freeze({__proto__:null,identity:o}),new TextEncoder,new TextDecoder;n=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},r),i),a),c),ae),t),s),n),e),u);function zn(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Gn(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}function Wn(e,t,r){return t in e?Li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Bn(e,t){for(var r in t=t||{})Di.call(t,r)&&Wn(e,r,t[r]);if(Ui){var n,i=_createForOfIteratorHelper(Ui(t));try{for(i.s();!(n=i.n()).done;){r=n.value;zi.call(t,r)&&Wn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}function Hn(e,t){return Ni(e,Mi(t))}function qn(e,t,r){return t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Vn(e,t,r){return t in e?Fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Fn(e,t,r){return t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Kn(e,t,r){return t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}var e=Gn("utf8","u",function(e){return"u"+new TextDecoder("utf8").decode(e)},function(e){return(new TextEncoder).encode(e.substring(1))}),u=Gn("ascii","a",function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},function(e){for(var t=function(e){e=0<arguments.length&&void 0!==e?e:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?zn(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),$n=_objectSpread({utf8:e,"utf-8":e,hex:n.base16,latin1:u,ascii:u,binary:u},n),Yn="core",Zn="wc@2:".concat(Yn,":"),Qn={database:":memory:"},Jn="client_ed25519_seed",Xn=M.ONE_DAY,ei=M.SIX_HOURS,ti="wss://relay.walletconnect.com",ri="wss://relay.walletconnect.org",ni="relayer_message",ii="relayer_message_ack",oi="relayer_connect",ai="relayer_disconnect",si="relayer_connection_stalled",ci="relayer_publish",ui="payload",li="connect",fi="disconnect",pi="error",hi=M.ONE_SECOND,di="subscription_created",gi="subscription_deleted",mi="subscription_resubscribed",vi=1e3*M.FIVE_SECONDS,yi={wc_pairingDelete:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:M.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:M.ONE_DAY,prompt:!1,tag:0},res:{ttl:M.ONE_DAY,prompt:!1,tag:0}}},bi="pairing_create",wi="history_created",_i="history_updated",xi="history_deleted",ki="expirer_created",Ei="expirer_deleted",Oi="expirer_expired",Ci="verify-api",Ri="https://verify.walletconnect.com",Si="https://verify.walletconnect.org",Ti=function(){function r(e,t){var n=this;_classCallCheck(this,r),this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Zn,this.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.initialized){e.next=5;break}return e.next=3,n.getKeyChain();case 3:_typeof(t=e.sent)<"u"&&(n.keychain=t),n.initialized=!0;case 5:case"end":return e.stop()}},e)})),this.has=function(e){return n.isInitialized(),n.keychain.has(e)},this.set=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.keychain.set(t,r),e.next=4,n.persist();case 4:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),this.get=function(e){n.isInitialized();var t=n.keychain.get(e);if("u"<_typeof(t)){e=_r("NO_MATCHING_KEY","".concat(n.name,": ").concat(e)).message;throw new Error(e)}return t},this.del=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.keychain.delete(t),e.next=4,n.persist();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.core=e,this.logger=(0,k.generateChildLogger)(t,this.name)}var e,t,n;return _createClass(r,[{key:"setKeyChain",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,rr(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getKeyChain",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",_typeof(t)<"u"?nr(t):void 0);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"persist",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setKeyChain(this.keychain);case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}}]),r}(),Ii=function(){function n(e,t,r){var u=this;_classCallCheck(this,n),this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=u.initialized,e.t0){e.next=5;break}return e.next=4,u.keychain.init();case 4:u.initialized=!0;case 5:case"end":return e.stop()}},e)})),this.hasKeys=function(e){return u.isInitialized(),u.keychain.has(e)},this.getClientId=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.t0=lt,e.t1=ft,e.next=5,u.getClientSeed();case 5:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2).publicKey,e.abrupt("return",(0,e.t0)(e.t3));case 8:case"end":return e.stop()}},e)})),this.generateKeyPair=function(){u.isInitialized();var e,e={privateKey:st((e=gt.Au()).secretKey,Pt),publicKey:st(e.publicKey,Pt)};return u.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.t0=ft,e.next=4,u.getClientSeed();case 4:return e.t1=e.sent,r=(0,e.t0)(e.t1),n=Mt(),i=Xn,e.next=10,function(){var i=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n,i,o){var a,s,c,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=4<u.length&&void 0!==u[4]?u[4]:(0,M.fromMiliseconds)(Date.now()),a={alg:"EdDSA",typ:"JWT"},s={iss:lt(o.publicKey),sub:r,aud:n,iat:c,exp:c+i},c=ct([ut((c={header:a,payload:s}).header),ut(c.payload)].join("."),"utf8"),e.abrupt("return",[ut((t={header:a,payload:s,signature:L.Xx(o.secretKey,c)}).header),ut(t.payload),st(t.signature,U)].join("."));case 3:case"end":return e.stop()}var t},e)}));return function(e,t,r,n){return i.apply(this,arguments)}}()(n,t,i,r);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.generateSharedKey=function(e,t,r){u.isInitialized();t=function(e,t){t=gt.gi(ct(e,Pt),ct(t,Pt),!0);return st(new ht.t(dt.mE,t).expand(32),Pt)}(u.getPrivateKey(e),t);return u.setSymKey(t,r)},this.setSymKey=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),n=r||st((0,dt.vp)(ct(t,Pt)),Pt),e.next=4,u.keychain.set(n,t);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),this.deleteKeyPair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.next=3,u.keychain.del(t);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteSymKey=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.next=3,u.keychain.del(t);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.encode=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.isInitialized(),i=Gt(n),o=P(r),Wt(i))return s=i.senderPublicKey,c=i.receiverPublicKey,e.next=6,u.generateSharedKey(s,c);e.next=7;break;case 6:t=e.sent;case 7:return a=u.getSymKey(t),s=i.type,c=i.senderPublicKey,e.abrupt("return",function(e){var t=(n=_typeof(e.type)<"u"?e.type:0,ct("".concat(n),jt));if(1===Dt(t)&&"u"<_typeof(e.senderPublicKey))throw new Error("Missing sender public key for type 1 envelope");var r=_typeof(e.senderPublicKey)<"u"?ct(e.senderPublicKey,Pt):void 0,n=_typeof(e.iv)<"u"?ct(e.iv,Pt):(0,N.randomBytes)(12);return function(e){if(1!==Dt(e.type))return st(K([e.type,e.iv,e.sealed]),Lt);if("u"<_typeof(e.senderPublicKey))throw new Error("Missing sender public key for type 1 envelope");return st(K([e.type,e.senderPublicKey,e.iv,e.sealed]),Lt)}({type:t,sealed:new pt.OK(ct(e.symKey,Pt)).seal(n,ct(e.message,Nt)),iv:n,senderPublicKey:r})}({type:s,symKey:a,message:o,senderPublicKey:c}));case 9:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.decode=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n,i,o){var a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.isInitialized(),t=o,r=void 0,r=zt(i),Wt(a=Gt({type:Dt(r.type),senderPublicKey:_typeof(r.senderPublicKey)<"u"?st(r.senderPublicKey,Pt):void 0,receiverPublicKey:null==t?void 0:t.receiverPublicKey})))return s=a.receiverPublicKey,c=a.senderPublicKey,e.next=6,u.generateSharedKey(s,c);e.next=7;break;case 6:n=e.sent;case 7:return e.prev=7,c=function(e){var t=new pt.OK(ct(e.symKey,Pt)),r=zt(e.encoded),e=r.sealed,r=r.iv,e=t.open(r,e);if(null===e)throw new Error("Failed to decrypt");return st(e,Nt)}({symKey:u.getSymKey(n),encoded:i}),e.abrupt("return",j(c));case 12:return e.prev=12,e.t0=e.catch(7),e.t1=u.logger,e.t2="Failed to decode message from topic: '".concat(n,"', clientId: '"),e.next=18,u.getClientId();case 18:e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3,"'"),e.t1.error.call(e.t1,e.t4),u.logger.error(e.t0);case 22:case"end":return e.stop()}var t,r},e,null,[[7,12]])}));return function(e,t,r){return n.apply(this,arguments)}}(),this.getPayloadType=function(e){return Dt(zt(e).type)},this.getPayloadSenderPublicKey=function(e){e=zt(e);return e.senderPublicKey?st(e.senderPublicKey,Pt):void 0},this.core=e,this.logger=(0,k.generateChildLogger)(t,this.name),this.keychain=r||new Ti(this.core,this.logger)}var e,r;return _createClass(n,[{key:"setPrivateKey",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keychain.set(t,r);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"getPrivateKey",value:function(e){return this.keychain.get(e)}},{key:"getClientSeed",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="",e.prev=1,t=this.keychain.get(Jn),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(1),t=Mt(),e.next=10,this.keychain.set(Jn,t);case 10:return e.abrupt("return",function(e,t){var r=1<arguments.length&&void 0!==t?t:"utf8",t=$n[r];if(!t)throw new Error('Unsupported encoding "'.concat(r,'"'));return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode("".concat(t.prefix).concat(e)):zn(globalThis.Buffer.from(e,"utf-8"))}(t,"base16"));case 11:case"end":return e.stop()}},e,this,[[1,5]])})),function(){return e.apply(this,arguments)})},{key:"getSymKey",value:function(e){return this.keychain.get(e)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),n}(),Ai=function(){_inherits(i,d);var e,t,r,n=_createSuper(i);function i(e,t){var o;return _classCallCheck(this,i),(o=n.call(this,e,t)).logger=e,o.core=t,o.messages=new Map,o.name="messages",o.version="0.3",o.initialized=!1,o.storagePrefix=Zn,o.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.initialized){e.next=15;break}return o.logger.trace("Initialized"),e.prev=2,e.next=5,o.getRelayerMessages();case 5:_typeof(t=e.sent)<"u"&&(o.messages=t),o.logger.debug("Successfully Restored records for ".concat(o.name)),o.logger.trace({type:"method",method:"restore",size:o.messages.size}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o.logger.debug("Failed to Restore records for ".concat(o.name)),o.logger.error(e.t0);case 12:return e.prev=12,o.initialized=!0,e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])})),o.set=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isInitialized(),n=Ut(r),"u"<_typeof(i=o.messages.get(t))&&(i={}),e.t0=_typeof(i[n])<"u",e.t0){e.next=10;break}return i[n]=r,o.messages.set(t,i),e.next=10,o.persist();case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),o.get=function(e){o.isInitialized();e=o.messages.get(e);return"u"<_typeof(e)&&(e={}),e},o.has=function(e,t){return o.isInitialized(),_typeof(o.get(e)[Ut(t)])<"u"},o.del=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.isInitialized(),o.messages.delete(t),e.next=4,o.persist();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),o.logger=(0,k.generateChildLogger)(e,o.name),o.core=t,o}return _createClass(i,[{key:"setRelayerMessages",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,rr(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getRelayerMessages",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",_typeof(t)<"u"?nr(t):void 0);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"persist",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerMessages(this.messages);case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}}]),i}(),ji=function(){_inherits(n,R);var r=_createSuper(n);function n(e,t){var f;return _classCallCheck(this,n),(f=r.call(this,e,t)).relayer=e,f.logger=t,f.events=new b.EventEmitter,f.name="publisher",f.queue=new Map,f.publishTimeout=(0,M.toMiliseconds)(M.TEN_SECONDS),f.needsTransportRestart=!1,f.publish=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.logger.debug("Publishing Payload"),f.logger.trace({type:"method",method:"publish",params:{topic:t,message:r,opts:n}}),e.prev=1,i=(null==n?void 0:n.ttl)||ei,o=fr(n),a=(null==n?void 0:n.prompt)||!1,s=(null==n?void 0:n.tag)||0,c=(null==n?void 0:n.id)||$r().toString(),u={topic:t,message:r,opts:{ttl:i,relay:o,prompt:a,tag:s,id:c}},l=setTimeout(function(){return f.queue.set(c,u)},f.publishTimeout),e.prev=3,e.next=6,or(f.rpcPublish(t,r,i,o,a,s,c),f.publishTimeout,"Failed to publish payload, please try again.");case 6:f.removeRequestFromQueue(c),f.relayer.events.emit(ci,u),e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(3),f.logger.debug("Publishing Payload stalled"),f.needsTransportRestart=!0,null!=(s=null==n?void 0:n.internal)&&s.throwOnFailedPublish)throw f.removeRequestFromQueue(c),e.t0;e.next=14;break;case 14:return e.abrupt("return");case 15:return e.prev=15,clearTimeout(l),e.finish(15);case 18:f.logger.debug("Successfully Published Payload"),f.logger.trace({type:"method",method:"publish",params:{topic:t,message:r,opts:n}}),e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(1),f.logger.debug("Failed to Publish Payload"),f.logger.error(e.t1),e.t1;case 24:case"end":return e.stop()}},e,null,[[1,21],[3,10,15,18]])}));return function(e,t,r){return n.apply(this,arguments)}}(),f.on=function(e,t){f.events.on(e,t)},f.once=function(e,t){f.events.once(e,t)},f.off=function(e,t){f.events.off(e,t)},f.removeListener=function(e,t){f.events.removeListener(e,t)},f.relayer=e,f.logger=(0,k.generateChildLogger)(t,f.name),f.registerEventListeners(),f}return _createClass(n,[{key:"rpcPublish",value:function(e,t,r,n,i,o,a){var s,o={method:pr(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:o},id:a};return Or(null==(a=o.params)?void 0:a.prompt)&&(null==(s=o.params)||delete s.prompt),Or(null==(s=o.params)?void 0:s.tag)&&(null==(s=o.params)||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:o}),this.relayer.request(o)}},{key:"removeRequestFromQueue",value:function(e){this.queue.delete(e)}},{key:"checkQueue",value:function(){var o=this;this.queue.forEach(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.message,i=t.opts,e.next=3,o.publish(r,n,i);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerEventListeners",value:function(){var t=this;this.relayer.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,function(){return t.needsTransportRestart?(t.needsTransportRestart=!1,void t.relayer.events.emit(si)):void t.checkQueue()}),this.relayer.on(ii,function(e){t.removeRequestFromQueue(e.id.toString())})}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),n}(),Pi=function(){function e(){var n=this;_classCallCheck(this,e),this.map=new Map,this.set=function(e,t){var r=n.get(e);n.exists(e,t)||n.map.set(e,[].concat(_toConsumableArray(r),[t]))},this.get=function(e){return n.map.get(e)||[]},this.exists=function(e,t){return n.get(e).includes(t)},this.delete=function(e,t){var r;"u"<_typeof(t)?n.map.delete(e):n.map.has(e)&&(r=n.get(e),n.exists(e,t)&&((r=r.filter(function(e){return e!==t})).length?n.map.set(e,r):n.map.delete(e)))},this.clear=function(){n.map.clear()}}return _createClass(e,[{key:"topics",get:function(){return Array.from(this.map.keys())}}]),e}(),Li=Object.defineProperty,Ni=Object.defineProperties,Mi=Object.getOwnPropertyDescriptors,Ui=Object.getOwnPropertySymbols,Di=Object.prototype.hasOwnProperty,zi=Object.prototype.propertyIsEnumerable,Gi=function(){_inherits(g,T);var e,t,r,n,i,o,a,s,c,u,l,f,p,h,d=_createSuper(g);function g(e,t){var o;return _classCallCheck(this,g),(o=d.call(this,e,t)).relayer=e,o.logger=t,o.subscriptions=new Map,o.topicMap=new Pi,o.events=new b.EventEmitter,o.name="subscription",o.version="0.3",o.pending=new Map,o.cached=[],o.initialized=!1,o.pendingSubscriptionWatchLabel="pending_sub_watch_label",o.pollingInterval=20,o.storagePrefix=Zn,o.subscribeTimeout=1e4,o.restartInProgress=!1,o.batchSubscribeTopicsLimit=500,o.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o.initialized,e.t0){e.next=7;break}return o.logger.trace("Initialized"),o.registerEventListeners(),e.next=6,o.relayer.core.crypto.getClientId();case 6:o.clientId=e.sent;case 7:case"end":return e.stop()}},e)})),o.subscribe=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.restartToComplete();case 2:return o.isInitialized(),o.logger.debug("Subscribing Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:r}}),e.prev=5,i=fr(r),n={topic:t,relay:i},o.pending.set(t,n),e.next=10,o.rpcSubscribe(t,i);case 10:return i=e.sent,e.abrupt("return",(o.onSubscribe(i,n),o.logger.debug("Successfully Subscribed Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:r}}),i));case 14:throw e.prev=14,e.t0=e.catch(5),o.logger.debug("Failed to Subscribe Topic"),o.logger.error(e.t0),e.t0;case 17:case"end":return e.stop()}},e,null,[[5,14]])}));return function(e,t){return r.apply(this,arguments)}}(),o.unsubscribe=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.restartToComplete();case 2:if(o.isInitialized(),_typeof(null==r?void 0:r.id)<"u")return e.next=6,o.unsubscribeById(t,r.id,r);e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,o.unsubscribeByTopic(t,r);case 10:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),o.isSubscribed=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!!o.topics.includes(i),e.t0){e.next=5;break}return e.next=4,new Promise(function(e,t){var r=new M.Watch;r.start(o.pendingSubscriptionWatchLabel);var n=setInterval(function(){!o.pending.has(i)&&o.topics.includes(i)&&(clearInterval(n),r.stop(o.pendingSubscriptionWatchLabel),e(!0)),r.elapsed(o.pendingSubscriptionWatchLabel)>=vi&&(clearInterval(n),r.stop(o.pendingSubscriptionWatchLabel),t(new Error("Subscription resolution timeout")))},o.pollingInterval)}).catch(function(){return!1});case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),o.on=function(e,t){o.events.on(e,t)},o.once=function(e,t){o.events.once(e,t)},o.off=function(e,t){o.events.off(e,t)},o.removeListener=function(e,t){o.events.removeListener(e,t)},o.restart=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.restartInProgress=!0,e.next=3,o.restore();case 3:return e.next=5,o.reset();case 5:o.restartInProgress=!1;case 6:case"end":return e.stop()}},e)})),o.relayer=e,o.logger=(0,k.generateChildLogger)(t,o.name),o.clientId="",o}return _createClass(g,[{key:"hasSubscription",value:function(e,t){var r=!1;try{r=this.getSubscription(e).topic===t}catch(e){}return r}},{key:"onEnable",value:function(){this.cached=[],this.initialized=!0}},{key:"onDisable",value:function(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}},{key:"unsubscribeByTopic",value:(h=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.topicMap.get(r),e.next=3,Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.unsubscribeById(r,t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"unsubscribeById",value:(p=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}}),e.prev=1,i=fr(n),e.next=5,this.rpcUnsubscribe(t,r,i);case 5:return i=xr("USER_DISCONNECTED","".concat(this.name,", ").concat(t)),e.next=8,this.onUnsubscribe(t,r,i);case 8:this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[1,12]])})),function(e,t,r){return p.apply(this,arguments)})},{key:"rpcSubscribe",value:(f=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:pr(r.protocol).subscribe,params:{topic:t}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),e.prev=2,e.next=5,or(this.relayer.request(n),this.subscribeTimeout);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(si);case 10:return e.abrupt("return",Ut(t+this.clientId));case 11:case"end":return e.stop()}},e,this,[[2,7]])})),function(e,t){return f.apply(this,arguments)})},{key:"rpcBatchSubscribe",value:(l=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return r={method:pr(t[0].relay.protocol).batchSubscribe,params:{topics:t.map(function(e){return e.topic})}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),e.prev=4,e.next=7,or(this.relayer.request(r),this.subscribeTimeout);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(4),this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(si);case 13:case"end":return e.stop()}},e,this,[[4,10]])})),function(e){return l.apply(this,arguments)})},{key:"rpcUnsubscribe",value:function(e,t,r){t={method:pr(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t}),this.relayer.request(t)}},{key:"onSubscribe",value:function(e,t){this.setSubscription(e,Hn(Bn({},t),{id:e})),this.pending.delete(t.topic)}},{key:"onBatchSubscribe",value:function(e){var t=this;e.length&&e.forEach(function(e){t.setSubscription(e.id,Bn({},e)),t.pending.delete(e.topic)})}},{key:"onUnsubscribe",value:(u=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),e.next=4,this.relayer.messages.del(t);case 4:case"end":return e.stop()}},e,this)})),function(e,t,r){return u.apply(this,arguments)})},{key:"setRelayerSubscriptions",value:(c=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"getRelayerSubscriptions",value:(s=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"setSubscription",value:function(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}},{key:"addSubscription",value:function(e,t){this.subscriptions.set(e,Bn({},t)),this.topicMap.set(t.topic,e),this.events.emit(di,t)}},{key:"getSubscription",value:function(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});var t=this.subscriptions.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(e)}},{key:"deleteSubscription",value:function(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});var r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(gi,Hn(Bn({},r),{reason:t}))}},{key:"persist",value:(a=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerSubscriptions(this.values);case 2:this.events.emit("subscription_sync");case 3:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"reset",value:(o=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cached.length){e.next=10;break}t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit),r=0;case 3:if(r<t)return n=this.cached.splice(0,this.batchSubscribeTopicsLimit),e.next=7,this.batchSubscribe(n);e.next=10;break;case 7:r++,e.next=3;break;case 10:this.events.emit(mi);case 11:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"restore",value:(i=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRelayerSubscriptions();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.subscriptions.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return i.apply(this,arguments)})},{key:"batchSubscribe",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rpcBatchSubscribe(r);case 4:kr(t=e.sent)&&this.onBatchSubscribe(t.map(function(e,t){return Hn(Bn({},r[t]),{id:e})}));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onConnect",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,e.t0){e.next=5;break}return e.next=4,this.restart();case 4:this.onEnable();case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"onDisconnect",value:function(){this.onDisable()}},{key:"checkPending",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initialized||this.relayer.transportExplicitlyClosed)return e.abrupt("return");e.next=2;break;case 2:return t=[],this.pending.forEach(function(e){t.push(e)}),e.next=6,this.batchSubscribe(t);case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var n=this;this.relayer.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.checkPending();case 2:case"end":return e.stop()}},e)}))),this.relayer.on(oi,_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onConnect();case 2:case"end":return e.stop()}},e)}))),this.relayer.on(ai,function(){n.onDisconnect()}),this.events.on(di,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=di,n.logger.info("Emitting ".concat(r)),n.logger.debug({type:"event",event:r,data:t}),e.next=5,n.persist();case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),this.events.on(gi,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=gi,n.logger.info("Emitting ".concat(r)),n.logger.debug({type:"event",event:r,data:t}),e.next=5,n.persist();case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"restartToComplete",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,e.t0)return e.next=4,new Promise(function(e){var t=setInterval(function(){r.restartInProgress||(clearInterval(t),e())},r.pollingInterval)});e.next=4;break;case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.subscriptions.size}},{key:"ids",get:function(){return Array.from(this.subscriptions.keys())}},{key:"values",get:function(){return Array.from(this.subscriptions.values())}},{key:"topics",get:function(){return this.topicMap.topics}}]),g}(),Wi=Object.defineProperty,Bi=Object.getOwnPropertySymbols,Hi=Object.prototype.hasOwnProperty,qi=Object.prototype.propertyIsEnumerable,Vi=function(){_inherits(v,S);var e,t,r,n,i,o,a,s,c,u,l,f,p,h,d,g,m=_createSuper(v);function v(e){var r;return _classCallCheck(this,v),(r=m.call(this,e)).protocol="wc",r.version=2,r.events=new b.EventEmitter,r.name="relayer",r.transportExplicitlyClosed=!1,r.initialized=!1,r.connectionAttemptInProgress=!1,r.connectionStatusPollingInterval=20,r.staleConnectionErrors=["socket hang up","socket stalled"],r.hasExperiencedNetworkDisruption=!1,r.request=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.logger.debug("Publishing Request Payload"),e.prev=1,e.next=4,r.toEstablishConnection();case 4:return e.next=6,r.provider.request(t);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),r.logger.debug("Failed to Publish Request"),r.logger.error(e.t0),e.t0;case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}(),r.onPayloadHandler=function(e){r.onProviderPayload(e)},r.onConnectHandler=function(){r.events.emit(oi)},r.onDisconnectHandler=function(){r.onProviderDisconnect()},r.onProviderErrorHandler=function(e){r.logger.error(e),r.events.emit("relayer_error",e),r.logger.info("Fatal socket error received, closing transport"),r.transportClose()},r.registerProviderListeners=function(){r.provider.on(ui,r.onPayloadHandler),r.provider.on(li,r.onConnectHandler),r.provider.on(fi,r.onDisconnectHandler),r.provider.on(pi,r.onProviderErrorHandler)},r.core=e.core,r.logger=_typeof(e.logger)<"u"&&"string"!=typeof e.logger?(0,k.generateChildLogger)(e.logger,r.name):(0,k.pino)((0,k.getDefaultLoggerOptions)({level:e.logger||"error"})),r.messages=new Ai(r.logger,e.core),r.subscriber=new Gi(_assertThisInitialized(r),r.logger),r.publisher=new ji(_assertThisInitialized(r),r.logger),r.relayUrl=(null==e?void 0:e.relayUrl)||ti,r.projectId=e.projectId,r.provider={},r}return _createClass(v,[{key:"init",value:(g=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),this.registerEventListeners(),e.next=4,this.createProvider();case 4:return e.next=6,Promise.all([this.messages.init(),this.subscriber.init()]);case 6:return e.prev=6,e.next=9,this.transportOpen();case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(6),this.logger.warn("Connection via ".concat(this.relayUrl," failed, attempting to connect via failover domain ").concat(ri,"...")),e.next=16,this.restartTransport(ri);case 16:this.initialized=!0,setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0===t.subscriber.topics.length,e.t0)return t.logger.info("No topics subscribed to after init, closing transport"),e.next=5,t.transportClose();e.next=6;break;case 5:t.transportExplicitlyClosed=!1;case 6:case"end":return e.stop()}},e)})),1e4);case 17:case"end":return e.stop()}},e,this,[[6,11]])})),function(){return g.apply(this,arguments)})},{key:"publish",value:(d=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.publisher.publish(t,r,n);case 3:return e.next=5,this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()});case 5:case"end":return e.stop()}},e,this)})),function(e,t,r){return d.apply(this,arguments)})},{key:"subscribe",value:(h=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t,i,o,a,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized(),o=(null==(t=this.subscriber.topicMap.get(r))?void 0:t[0])||"")return e.abrupt("return",o);e.next=4;break;case 4:return a=function e(t){t.topic===r&&(s.subscriber.off(di,e),i())},e.next=7,Promise.all([new Promise(function(e){i=e,s.subscriber.on(di,a)}),new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.subscriber.subscribe(r,n);case 2:o=e.sent,t();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())]);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"unsubscribe",value:(p=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.subscriber.unsubscribe(t,r);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"transportClose",value:(f=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected)return e.next=4,or(this.provider.disconnect(),1e3,"provider.disconnect()").catch(function(){return t.onProviderDisconnect()});e.next=6;break;case 4:e.next=10;break;case 6:if(e.t0=this.connected,e.t0)return e.next=10,this.provider.disconnect();e.next=10;break;case 10:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"transportOpen",value:(l=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.transportExplicitlyClosed=!1,e.next=3,this.confirmOnlineStateOrThrow();case 3:if(this.connectionAttemptInProgress){e.next=27;break}if(e.t0=t&&t!==this.relayUrl,e.t0)return this.relayUrl=t,e.next=9,this.transportClose();e.next=11;break;case 9:return e.next=11,this.createProvider();case 11:return this.connectionAttemptInProgress=!0,e.prev=12,e.next=15,Promise.all([new Promise(function(e){if(!n.initialized)return e();n.subscriber.once(mi,function(){e()})}),new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or(n.provider.connect(),1e4,"Socket stalled when trying to connect to ".concat(n.relayUrl));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",void r(e.t0));case 8:t();case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(e,t){return r.apply(this,arguments)}}())]);case 15:e.next=24;break;case 17:if(e.prev=17,e.t1=e.catch(12),this.logger.error(e.t1),r=e.t1,this.isConnectionStalled(r.message)){e.next=23;break}throw e.t1;case 23:this.provider.events.emit(fi);case 24:return e.prev=24,this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1,e.finish(24);case 27:case"end":return e.stop()}},e,this,[[12,17,24,27]])})),function(e){return l.apply(this,arguments)})},{key:"restartTransport",value:(u=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(e.t0=!this.connectionAttemptInProgress,e.t0)return this.relayUrl=t||this.relayUrl,e.next=7,this.transportClose();e.next=11;break;case 7:return e.next=9,this.createProvider();case 9:return e.next=11,this.transportOpen();case 11:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"confirmOnlineStateOrThrow",value:(c=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur();case 2:if(e.sent){e.next=4;break}throw new Error("No internet connection detected. Please restart your network and try again.");case 4:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)})},{key:"isConnectionStalled",value:function(t){return this.staleConnectionErrors.some(function(e){return t.includes(e)})}},{key:"createProvider",value:(s=_asyncToGenerator(regeneratorRuntime.mark(function e(){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.provider.connection&&this.unregisterProviderListeners(),e.next=3,this.core.crypto.signJWT(this.relayUrl);case 3:l=e.sent,this.provider=new gn(new vn((t={sdkVersion:"2.10.2",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:l,useOnCloseEvent:!0},c=c=u=c=s=a=o=i=n=r=void 0,n=t.protocol,i=t.version,o=t.sdkVersion,a=t.auth,s=t.projectId,c=t.useOnCloseEvent,u=t.relayUrl.split("?"),c={auth:a,ua:(r=n,t=i,a=o,n=function(){if(er()===Yt.reactNative&&_typeof(Ao.g)<"u"&&_typeof(null==Ao.g?void 0:Ao.g.Platform)<"u"){var e=Ao.g.Platform;return[e.OS,e.Version].join("-")}var t="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new _t:"undefined"!=typeof navigator?Ct(navigator.userAgent):"undefined"!=typeof process&&process.version?new yt(process.version.slice(1)):null;if(null===t)return"unknown";e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return("browser"===t.type?[e,t.name,t.version]:[e,t.version]).join("-")}(),i=(i=er())===Yt.browser?[i,(null==(o=(0,Rt.getLocation)())?void 0:o.host)||"unknown"].join(":"):i,[[r,t].join("-"),[Zt,a].join("-"),n,i].join("/")),projectId:s,useOnCloseEvent:c||void 0},c=function(e,t){e=Tt.parse(e),e=Ht(Ht({},e),t);return Tt.stringify(e)}(u[1]||"",c),u[0]+"?"+c))),this.registerProviderListeners();case 5:case"end":return e.stop()}var t,r,n,i,o,a,s,c,u},e,this)})),function(){return s.apply(this,arguments)})},{key:"recordMessageEvent",value:(a=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.message,e.next=3,this.messages.set(r,n);case 3:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"shouldIgnoreMessageEvent",value:(o=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,(n=t.message)&&0!==n.length){e.next=3;break}return e.abrupt("return",(this.logger.debug("Ignoring invalid/empty message: ".concat(n)),!0));case 3:return e.next=5,this.subscriber.isSubscribed(r);case 5:if(e.sent){e.next=7;break}return e.abrupt("return",(this.logger.debug("Ignoring message for non-subscribed topic ".concat(r)),!0));case 7:return i=this.messages.has(r,n),e.abrupt("return",(i&&this.logger.debug("Ignoring duplicate message: ".concat(n)),i));case 9:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"onProviderPayload",value:(i=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),!nn(t)){e.next=13;break}if(t.method.endsWith("_subscription")){e.next=3;break}return e.abrupt("return");case 3:return r=t.params,o=r.data,n=o.topic,i=o.message,o=o.publishedAt,o={topic:n,message:i,publishedAt:o},this.logger.debug("Emitting Relayer Payload"),this.logger.trace(function(e,t){for(var r in t=t||{})Hi.call(t,r)&&qn(e,r,t[r]);if(Bi){var n,i=_createForOfIteratorHelper(Bi(t));try{for(i.s();!(n=i.n()).done;){r=n.value;qi.call(t,r)&&qn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({type:"event",event:r.id},o)),this.events.emit(r.id,o),e.next=9,this.acknowledgePayload(t);case 9:return e.next=11,this.onMessageEvent(o);case 11:e.next=14;break;case 13:on(t)&&this.events.emit(ii,t);case 14:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"onMessageEvent",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.shouldIgnoreMessageEvent(t);case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return this.events.emit(ni,t),e.next=7,this.recordMessageEvent(t);case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"acknowledgePayload",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zr(t.id,!0),e.next=3,this.provider.connection.send(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"unregisterProviderListeners",value:function(){this.provider.off(ui,this.onPayloadHandler),this.provider.off(li,this.onConnectHandler),this.provider.off(fi,this.onDisconnectHandler),this.provider.off(pi,this.onProviderErrorHandler)}},{key:"registerEventListeners",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.on(si,function(){n.restartTransport().catch(function(e){return n.logger.error(e)})}),e.next=3,Ur();case 3:r=e.sent,function(e){switch(er()){case Yt.browser:n=e,!Jt()&&Xt()&&(window.addEventListener("online",function(){return n(!0)}),window.addEventListener("offline",function(){return n(!1)}));break;case Yt.reactNative:t=e,Jt()&&_typeof(Ao.g)<"u"&&null!=Ao.g&&Ao.g.NetInfo&&null!==(r=Ao.g)&&void 0!==r&&r.NetInfo.addEventListener(function(e){return t(null==e?void 0:e.isConnected)});case Yt.node:}var t,r,n}(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized&&r!==t,!e.t0){e.next=11;break}if(r=t)return e.next=6,n.restartTransport().catch(function(e){return n.logger.error(e)});e.next=8;break;case 6:e.next=11;break;case 8:return n.hasExperiencedNetworkDisruption=!0,e.next=11,n.transportClose().catch(function(e){return n.logger.error(e)});case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"onProviderDisconnect",value:function(){this.events.emit(ai),this.attemptToReconnect()}},{key:"attemptToReconnect",value:function(){var t=this;this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.restartTransport().catch(function(e){return t.logger.error(e)});case 2:case"end":return e.stop()}},e)})),(0,M.toMiliseconds)(hi)))}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"toEstablishConnection",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(this.connected){e.next=9;break}if(this.connectionAttemptInProgress)return e.next=6,new Promise(function(e){var t=setInterval(function(){r.connected&&(clearInterval(t),e())},r.connectionStatusPollingInterval)});e.next=7;break;case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,this.restartTransport();case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"connected",get:function(){return this.provider.connection.connected}},{key:"connecting",get:function(){return this.provider.connection.connecting}}]),v}(),Fi=Object.defineProperty,Ki=Object.getOwnPropertySymbols,$i=Object.prototype.hasOwnProperty,Yi=Object.prototype.propertyIsEnumerable,Zi=function(e,t){for(var r in t=t||{})$i.call(t,r)&&Vn(e,r,t[r]);if(Ki){var n,i=_createForOfIteratorHelper(Ki(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Yi.call(t,r)&&Vn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e},Qi=function(){_inherits(s,g);var e,t,r,n,a=_createSuper(s);function s(e,t,r){_classCallCheck(this,s);var i,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Zn,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:void 0;return(i=a.call(this,e,t,r,n)).core=e,i.logger=t,i.name=r,i.map=new Map,i.version="0.3",i.cached=[],i.initialized=!1,i.storagePrefix=Zn,i.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=8;break}return i.logger.trace("Initialized"),e.next=5,i.restore();case 5:i.cached.forEach(function(e){var t;i.getKey&&null!==e&&!Or(e)?i.map.set(i.getKey(e),e):null!=(t=null==(t=e)?void 0:t.proposer)&&t.publicKey?i.map.set(e.id,e):null!=(t=e)&&t.topic&&i.map.set(e.topic,e)}),i.cached=[],i.initialized=!0;case 8:case"end":return e.stop()}},e)})),i.set=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),i.map.has(t))return e.next=4,i.update(t,r);e.next=6;break;case 4:e.next=11;break;case 6:return i.logger.debug("Setting value"),i.logger.trace({type:"method",method:"set",key:t,value:r}),i.map.set(t,r),e.next=11,i.persist();case 11:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),i.get=function(e){return i.isInitialized(),i.logger.debug("Getting value"),i.logger.trace({type:"method",method:"get",key:e}),i.getData(e)},i.getAll=function(r){return i.isInitialized(),r?i.values.filter(function(t){return Object.keys(r).every(function(e){return yn()(t[e],r[e])})}):i.values},i.update=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),i.logger.debug("Updating value"),i.logger.trace({type:"method",method:"update",key:t,update:r}),n=Zi(Zi({},i.getData(t)),r),i.map.set(t,n),e.next=5,i.persist();case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),i.delete=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),e.t0=i.map.has(t),e.t0)return i.logger.debug("Deleting value"),i.logger.trace({type:"method",method:"delete",key:t,reason:r}),i.map.delete(t),e.next=8,i.persist();e.next=8;break;case 8:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),i.logger=(0,k.generateChildLogger)(t,i.name),i.storagePrefix=n,i.getKey=o,i}return _createClass(s,[{key:"setDataStore",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getDataStore",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getData",value:function(e){var t=this.map.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(e),new Error(e)}},{key:"persist",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setDataStore(this.values);case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"restore",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDataStore();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.map.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return e.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.map.size}},{key:"keys",get:function(){return Array.from(this.map.keys())}},{key:"values",get:function(){return Array.from(this.map.values())}}]),s}(),Ji=function(){function r(e,t){var f=this;_classCallCheck(this,r),this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(w()),this.initialized=!1,this.storagePrefix=Zn,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=f.initialized,e.t0){e.next=10;break}return e.next=4,f.pairings.init();case 4:return e.next=6,f.cleanup();case 6:f.registerRelayerEvents(),f.registerExpirerEvents(),f.initialized=!0,f.logger.trace("Initialized");case 10:case"end":return e.stop()}},e)})),this.register=function(e){e=e.methods;f.isInitialized(),f.registeredMethods=_toConsumableArray(new Set([].concat(_toConsumableArray(f.registeredMethods),_toConsumableArray(e))))},this.create=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.isInitialized(),r=Mt(),e.next=4,f.core.crypto.setSymKey(r);case 4:return n=e.sent,i=cr(M.FIVE_MINUTES),o={topic:n,expiry:i,relay:a={protocol:"irn"},active:!1},t={protocol:f.core.protocol,version:f.core.version,topic:n,symKey:r,relay:a},a="".concat(t.protocol,":").concat(t.topic,"@").concat(t.version,"?")+Tt.stringify(function(e,t){for(var r in t=t||{})gr.call(t,r)&&vr(e,r,t[r]);if(dr){var n,i=_createForOfIteratorHelper(dr(t));try{for(i.s();!(n=i.n()).done;){r=n.value;mr.call(t,r)&&vr(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({symKey:t.symKey},function(r,e){var n=1<arguments.length&&void 0!==e?e:"-",i={};return Object.keys(r).forEach(function(e){var t="relay"+n+e;r[e]&&(i[t]=r[e])}),i}(t.relay))),e.next=11,f.pairings.set(n,o);case 11:return e.next=13,f.core.relayer.subscribe(n);case 13:return f.core.expirer.set(n,i),e.abrupt("return",{topic:n,uri:a});case 15:case"end":return e.stop()}var t},e)})),this.pair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(o){var a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.isInitialized(),f.isValidPair(o),t=o.uri,n=n=r=i=n=r=void 0,r=t.indexOf(":"),n=-1!==t.indexOf("?")?t.indexOf("?"):void 0,i=t.substring(0,r),r=t.substring(r+1,n).split("@"),n=_typeof(n)<"u"?t.substring(n):"",n=Tt.parse(n),c={protocol:i,topic:(i=r[0]).startsWith("//")?i.substring(2):i,version:parseInt(r[1],10),symKey:n.symKey,relay:function(r,e){var n={},i="relay"+(1<arguments.length&&void 0!==e?e:"-");return Object.keys(r).forEach(function(e){var t;e.startsWith(i)&&(t=e.replace(i,""),e=r[e],n[t]=e)}),n}(n)},a=c.topic,s=c.symKey,c=c.relay,f.pairings.keys.includes(a)&&f.pairings.get(a).active)throw new Error("Pairing already exists: ".concat(a,". Please try again with a new connection URI."));e.next=4;break;case 4:if(e.t0=f.core.crypto.keychain.has(a),e.t0){e.next=10;break}return e.next=8,f.core.crypto.setSymKey(s,a);case 8:return e.next=10,f.core.relayer.subscribe(a,{relay:c});case 10:return u=cr(M.FIVE_MINUTES),l={topic:a,relay:c,expiry:u,active:!1},e.next=13,f.pairings.set(a,l);case 13:if(f.core.expirer.set(a,u),e.t1=o.activatePairing,e.t1)return e.next=18,f.activate({topic:a});e.next=18;break;case 18:return f.events.emit(bi,l),e.abrupt("return",l);case 20:case"end":return e.stop()}var t,r,n,i},e)}));return function(e){return t.apply(this,arguments)}}(),this.activate=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,f.isInitialized(),n=cr(M.THIRTY_DAYS),e.next=5,f.pairings.update(r,{active:!0,expiry:n});case 5:f.core.expirer.set(r,n);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.ping=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.isInitialized(),e.next=3,f.isValidPing(t);case 3:if(i=t.topic,f.pairings.keys.includes(i))return e.next=7,f.sendRequest(i,"wc_pairingPing",{});e.next=15;break;case 7:return r=e.sent,n=ir(),i=n.done,o=n.resolve,a=n.reject,f.events.once(lr("pairing_ping",r),function(e){e=e.error;e?a(e):o()}),e.next=15,i();case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.updateExpiry=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.expiry,f.isInitialized(),e.next=4,f.pairings.update(r,{expiry:n});case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.updateMetadata=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.metadata,f.isInitialized(),e.next=4,f.pairings.update(r,{peerMetadata:n});case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getPairings=function(){return f.isInitialized(),f.pairings.values},this.disconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.isInitialized(),e.next=3,f.isValidDisconnect(t);case 3:if(r=t.topic,e.t0=f.pairings.keys.includes(r),e.t0)return e.next=8,f.sendRequest(r,"wc_pairingDelete",xr("USER_DISCONNECTED"));e.next=10;break;case 8:return e.next=10,f.deletePairing(r);case 10:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.sendRequest=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(r,n),e.next=3,f.core.crypto.encode(t,i);case 3:return o=e.sent,a=yi[r].req,e.abrupt("return",(f.core.history.set(t,i),f.core.relayer.publish(t,o,a),i.id));case 6:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.sendResult=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zr(t,n),e.next=3,f.core.crypto.encode(r,i);case 3:return o=e.sent,e.next=6,f.core.history.get(r,t);case 6:return a=e.sent,a=yi[a.request.method].res,e.next=10,f.core.relayer.publish(r,o,a);case 10:return e.next=12,f.core.history.resolve(i);case 12:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.sendError=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qr(t,n),e.next=3,f.core.crypto.encode(r,i);case 3:return o=e.sent,e.next=6,f.core.history.get(r,t);case 6:return a=e.sent,a=(yi[a.request.method]||yi.unregistered_method).res,e.next=10,f.core.relayer.publish(r,o,a);case 10:return e.next=12,f.core.history.resolve(i);case 12:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.deletePairing=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.core.relayer.unsubscribe(t);case 2:return e.next=4,Promise.all([f.pairings.delete(t,xr("USER_DISCONNECTED")),f.core.crypto.deleteSymKey(t),r?Promise.resolve():f.core.expirer.del(t)]);case 4:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),this.cleanup=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.pairings.getAll().filter(function(e){return ur(e.expiry)}),e.next=3,Promise.all(t.map(function(e){return f.deletePairing(e.topic)}));case 3:case"end":return e.stop()}},e)})),this.onRelayEventRequest=function(e){var t=e.topic,r=e.payload;switch(r.method){case"wc_pairingPing":return f.onPairingPingRequest(t,r);case"wc_pairingDelete":return f.onPairingDeleteRequest(t,r);default:return f.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.payload,e.next=4,f.core.history.get(r,n.id);case 4:return i=e.sent.request.method,e.abrupt("return","wc_pairingPing"===i?f.onPairingPingResponse(r,n):f.onUnknownRpcMethodResponse(i));case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,f.isValidPing({topic:t}),e.next=5,f.sendResult(n,t,!0);case 5:f.events.emit("pairing_ping",{id:n,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,f.sendError(n,t,e.t0);case 12:f.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),this.onPairingPingResponse=function(e,t){var r=t.id;setTimeout(function(){an(t)?f.events.emit(lr("pairing_ping",r),{}):sn(t)&&f.events.emit(lr("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,f.isValidDisconnect({topic:t}),e.next=5,f.deletePairing(t);case 5:f.events.emit("pairing_delete",{id:n,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,f.sendError(n,t,e.t0);case 12:f.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,i=r.method,e.prev=1,f.registeredMethods.includes(i))return e.abrupt("return");e.next=4;break;case 4:return o=xr("WC_METHOD_UNSUPPORTED",i),e.next=7,f.sendError(n,t,o);case 7:f.logger.error(o),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,f.sendError(n,t,e.t0);case 14:f.logger.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e,t){return r.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=function(e){f.registeredMethods.includes(e)||f.logger.error(xr("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=function(e){if(!Pr(e)){var t=_r("MISSING_OR_INVALID","pair() params: ".concat(e)).message;throw new Error(t)}if(!function(e){if(Cr(e,!1))try{return _typeof(new URL(e))<"u"}catch(e){return}}(e.uri)){e=_r("MISSING_OR_INVALID","pair() uri: ".concat(e.uri)).message;throw new Error(e)}},this.isValidPing=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","ping() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,f.isValidPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.isValidDisconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","disconnect() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,f.isValidPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Cr(t,!1)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","pairing topic should be a string: ".concat(t)),r=r.message,new Error(r);case 3:if(f.pairings.keys.includes(t)){e.next=6;break}throw n=_r("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(t)),n=n.message,new Error(n);case 6:if(ur(f.pairings.get(t).expiry))return e.next=9,f.deletePairing(t);e.next=11;break;case 9:throw n=_r("EXPIRED","pairing topic: ".concat(t)),n=n.message,new Error(n);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.core=e,this.logger=(0,k.generateChildLogger)(t,this.name),this.pairings=new Qi(this.core,this.logger,this.name,this.storagePrefix)}return _createClass(r,[{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"registerRelayerEvents",value:function(){var o=this;this.core.relayer.on(ni,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,n=t.message,!o.pairings.keys.includes(r)||o.ignoredPayloadTypes.includes(o.core.crypto.getPayloadType(n)))return e.abrupt("return");e.next=3;break;case 3:return e.next=5,o.core.crypto.decode(r,n);case 5:if(i=e.sent,e.prev=6,!nn(i)){e.next=11;break}o.core.history.set(r,i),o.onRelayEventRequest({topic:r,payload:i}),e.next=18;break;case 11:if(e.t0=on(i),e.t0)return e.next=15,o.core.history.resolve(i);e.next=18;break;case 15:return e.next=17,o.onRelayEventResponse({topic:r,payload:i});case 17:o.core.history.delete(r,i.id);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(6),o.logger.error(e.t1);case 23:case"end":return e.stop()}},e,null,[[6,20]])}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var n=this;this.core.expirer.on(Oi,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sr(t.target),r=r.topic,e.t0=r&&n.pairings.keys.includes(r),e.t0)return e.next=5,n.deletePairing(r,!0);e.next=6;break;case 5:n.events.emit("pairing_expire",{topic:r});case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),r}(),Xi=function(){_inherits(o,C);var e,t,r,n,i=_createSuper(o);function o(e,t){var n;return _classCallCheck(this,o),(n=i.call(this,e,t)).core=e,n.logger=t,n.records=new Map,n.events=new b.EventEmitter,n.name="history",n.version="0.3",n.cached=[],n.initialized=!1,n.storagePrefix=Zn,n.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=9;break}return n.logger.trace("Initialized"),e.next=5,n.restore();case 5:n.cached.forEach(function(e){return n.records.set(e.id,e)}),n.cached=[],n.registerEventListeners(),n.initialized=!0;case 9:case"end":return e.stop()}},e)})),n.set=function(e,t,r){n.isInitialized(),n.logger.debug("Setting JSON-RPC request history record"),n.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),n.records.has(t.id)||(r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:cr(M.THIRTY_DAYS)},n.records.set(r.id,r),n.events.emit(wi,r))},n.resolve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),n.logger.debug("Updating JSON-RPC response history record"),n.logger.trace({type:"method",method:"update",response:t}),n.records.has(t.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.getRecord(t.id);case 4:"u"<_typeof((r=e.sent).response)&&(r.response=sn(t)?{error:t.error}:{result:t.result},n.records.set(r.id,r),n.events.emit(_i,r));case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),n.get=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.logger.debug("Getting record"),n.logger.trace({type:"method",method:"get",topic:t,id:r}),e.next=5,n.getRecord(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),n.delete=function(t,r){n.isInitialized(),n.logger.debug("Deleting record"),n.logger.trace({type:"method",method:"delete",id:r}),n.values.forEach(function(e){e.topic===t&&(_typeof(r)<"u"&&e.id!==r||(n.records.delete(e.id),n.events.emit(xi,e)))})},n.exists=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),e.t0=!!n.records.has(r),e.t0)return e.next=5,n.getRecord(r);e.next=8;break;case 5:e.t1=e.sent.topic,e.t2=t,e.t0=e.t1===e.t2;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),n.on=function(e,t){n.events.on(e,t)},n.once=function(e,t){n.events.once(e,t)},n.off=function(e,t){n.events.off(e,t)},n.removeListener=function(e,t){n.events.removeListener(e,t)},n.logger=(0,k.generateChildLogger)(t,n.name),n}return _createClass(o,[{key:"setJsonRpcRecords",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getJsonRpcRecords",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getRecord",value:function(e){this.isInitialized();var t=this.records.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(e)}},{key:"persist",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setJsonRpcRecords(this.values);case 2:this.events.emit("history_sync");case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"restore",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJsonRpcRecords();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.records.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return e.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var r=this;this.events.on(wi,function(e){var t=wi;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,record:e}),r.persist()}),this.events.on(_i,function(e){var t=_i;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,record:e}),r.persist()}),this.events.on(xi,function(e){var t=xi;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,record:e}),r.persist()}),this.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,function(){r.cleanup()})}},{key:"cleanup",value:function(){var t=this;try{this.records.forEach(function(e){(0,M.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(t.logger.info("Deleting expired history log: ".concat(e.id)),t.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"size",get:function(){return this.records.size}},{key:"keys",get:function(){return Array.from(this.records.keys())}},{key:"values",get:function(){return Array.from(this.records.values())}},{key:"pending",get:function(){var t=[];return this.values.forEach(function(e){if(!(_typeof(e.response)<"u")){e={topic:e.topic,request:Yr(e.request.method,e.request.params,e.id),chainId:e.chainId};return t.push(e)}}),t}}]),o}(),eo=function(){_inherits(o,I);var e,t,r,n,i=_createSuper(o);function o(e,t){var r;return _classCallCheck(this,o),(r=i.call(this,e,t)).core=e,r.logger=t,r.expirations=new Map,r.events=new b.EventEmitter,r.name="expirer",r.version="0.3",r.cached=[],r.initialized=!1,r.storagePrefix=Zn,r.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=9;break}return r.logger.trace("Initialized"),e.next=5,r.restore();case 5:r.cached.forEach(function(e){return r.expirations.set(e.target,e)}),r.cached=[],r.registerEventListeners(),r.initialized=!0;case 9:case"end":return e.stop()}},e)})),r.has=function(e){try{var t=r.formatTarget(e);return _typeof(r.getExpiration(t))<"u"}catch(e){return!1}},r.set=function(e,t){r.isInitialized();e=r.formatTarget(e),t={target:e,expiry:t};r.expirations.set(e,t),r.checkExpiry(e,t),r.events.emit(ki,{target:e,expiration:t})},r.get=function(e){r.isInitialized();e=r.formatTarget(e);return r.getExpiration(e)},r.del=function(e){var t;r.isInitialized(),r.has(e)&&(t=r.formatTarget(e),e=r.getExpiration(t),r.expirations.delete(t),r.events.emit(Ei,{target:t,expiration:e}))},r.on=function(e,t){r.events.on(e,t)},r.once=function(e,t){r.events.once(e,t)},r.off=function(e,t){r.events.off(e,t)},r.removeListener=function(e,t){r.events.removeListener(e,t)},r.logger=(0,k.generateChildLogger)(t,r.name),r}return _createClass(o,[{key:"formatTarget",value:function(e){if("string"==typeof e)return ar("topic",e);if("number"==typeof e)return ar("id",e);e=_r("UNKNOWN_TYPE","Target type: "+_typeof(e)).message;throw new Error(e)}},{key:"setExpirations",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getExpirations",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"persist",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setExpirations(this.values);case 2:this.events.emit("expirer_sync");case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"restore",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getExpirations();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.expirations.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return e.apply(this,arguments)})},{key:"getExpiration",value:function(e){var t=this.expirations.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(e),new Error(e)}},{key:"checkExpiry",value:function(e,t){var r=t.expiry;(0,M.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}},{key:"expire",value:function(e,t){this.expirations.delete(e),this.events.emit(Oi,{target:e,expiration:t})}},{key:"checkExpirations",value:function(){var r=this;this.core.relayer.connected&&this.expirations.forEach(function(e,t){return r.checkExpiry(t,e)})}},{key:"registerEventListeners",value:function(){var r=this;this.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,function(){return r.checkExpirations()}),this.events.on(ki,function(e){var t=ki;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,data:e}),r.persist()}),this.events.on(Oi,function(e){var t=Oi;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,data:e}),r.persist()}),this.events.on(Ei,function(e){var t=Ei;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,data:e}),r.persist()})}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.expirations.size}},{key:"keys",get:function(){return Array.from(this.expirations.keys())}},{key:"values",get:function(){return Array.from(this.expirations.values())}}]),o}(),to=function(){_inherits(n,m);var r=_createSuper(n);function n(e,t){var o;return _classCallCheck(this,n),(o=r.call(this,e,t)).projectId=e,o.logger=t,o.name=Ci,o.initialized=!1,o.queue=[],o.verifyDisabled=!1,o.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.verifyDisabled||Jt()||!Xt())return e.abrupt("return");e.next=2;break;case 2:return t=Ri,o.verifyUrl!==t&&o.removeIframe(),o.verifyUrl=t,e.prev=4,e.next=7,o.createIframe();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),o.logger.info("Verify iframe failed to load: ".concat(o.verifyUrl)),o.logger.info(e.t0);case 12:if(o.initialized){e.next=22;break}return o.removeIframe(),o.verifyUrl=Si,e.prev=14,e.next=17,o.createIframe();case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(14),o.logger.info("Verify iframe failed to load: ".concat(o.verifyUrl)),o.logger.info(e.t1),o.verifyDisabled=!0;case 22:case"end":return e.stop()}},e,null,[[4,9],[14,19]])})),o.register=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.initialized){e.next=4;break}o.sendPost(t.attestationId),e.next=7;break;case 4:return o.addToQueue(t.attestationId),e.next=7,o.init();case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),o.resolve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isDevEnv)return e.abrupt("return","");e.next=2;break;case 2:return r=(null==t?void 0:t.verifyUrl)||Ri,e.prev=3,e.next=6,o.fetchAttestation(t.attestationId,r);case 6:n=e.sent,e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(3),o.logger.info("failed to resolve attestation: ".concat(t.attestationId," from url: ").concat(r)),o.logger.info(e.t0),e.next=15,o.fetchAttestation(t.attestationId,Si);case 15:n=e.sent;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}(),o.fetchAttestation=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.logger.info("resolving attestation: ".concat(t," from url: ").concat(r)),n=o.startAbortTimer(2*M.ONE_SECOND),e.next=4,fetch("".concat(r,"/attestation/").concat(t),{signal:o.abortController.signal});case 4:if(i=e.sent,clearTimeout(n),200===i.status)return e.next=9,i.json();e.next=12;break;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=void 0;case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),o.addToQueue=function(e){o.queue.push(e)},o.processQueue=function(){0!==o.queue.length&&(o.queue.forEach(function(e){return o.sendPost(e)}),o.queue=[])},o.sendPost=function(e){var t;try{if(!o.iframe)return;null==(t=o.iframe.contentWindow)||t.postMessage(e,"*"),o.logger.info("postMessage sent: ".concat(e," ").concat(o.verifyUrl))}catch(e){}},o.createIframe=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function e(t){"verify_ready"===t.data&&(o.initialized=!0,o.processQueue(),window.removeEventListener("message",e),r())},e.next=3,Promise.race([new Promise(function(e){if(document.getElementById(Ci))return e();window.addEventListener("message",n);var t=document.createElement("iframe");t.id=Ci,t.src="".concat(o.verifyUrl,"/").concat(o.projectId),t.style.display="none",document.body.append(t),o.iframe=t,r=e}),new Promise(function(e,t){return setTimeout(function(){window.removeEventListener("message",n),t("verify iframe load timeout")},(0,M.toMiliseconds)(M.FIVE_SECONDS))})]);case 3:case"end":return e.stop()}},e)})),o.removeIframe=function(){o.iframe&&(o.iframe.remove(),o.iframe=void 0,o.initialized=!1)},o.logger=(0,k.generateChildLogger)(t,o.name),o.verifyUrl=Ri,o.abortController=new AbortController,o.isDevEnv=Qt()&&process.env.IS_VITEST,o}return _createClass(n,[{key:"startAbortTimer",value:function(e){var t=this;return this.abortController=new AbortController,setTimeout(function(){return t.abortController.abort()},(0,M.toMiliseconds)(e))}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),n}(),ro=Object.defineProperty,no=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,ao=function(e,t){for(var r in t=t||{})io.call(t,r)&&Fn(e,r,t[r]);if(no){var n,i=_createForOfIteratorHelper(no(t));try{for(i.s();!(n=i.n()).done;){r=n.value;oo.call(t,r)&&Fn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e},so=function(){_inherits(i,O);var t,e,r,n=_createSuper(i);function i(e){var r;_classCallCheck(this,i),(r=n.call(this,e)).protocol="wc",r.version=2,r.name=Yn,r.events=new b.EventEmitter,r.initialized=!1,r.on=function(e,t){return r.events.on(e,t)},r.once=function(e,t){return r.events.once(e,t)},r.off=function(e,t){return r.events.off(e,t)},r.removeListener=function(e,t){return r.events.removeListener(e,t)},r.projectId=null==e?void 0:e.projectId,r.relayUrl=(null==e?void 0:e.relayUrl)||ti,r.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";var t=_typeof(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:(0,k.pino)((0,k.getDefaultLoggerOptions)({level:(null==e?void 0:e.logger)||"error"}));return r.logger=(0,k.generateChildLogger)(t,r.name),r.heartbeat=new x.HeartBeat,r.crypto=new Ii(_assertThisInitialized(r),r.logger,null==e?void 0:e.keychain),r.history=new Xi(_assertThisInitialized(r),r.logger),r.expirer=new eo(_assertThisInitialized(r),r.logger),r.storage=null!=e&&e.storage?e.storage:new _.ZP(ao(ao({},Qn),null==e?void 0:e.storageOptions)),r.relayer=new Vi({core:_assertThisInitialized(r),logger:r.logger,relayUrl:r.relayUrl,projectId:r.projectId}),r.pairing=new Ji(_assertThisInitialized(r),r.logger),r.verify=new to(r.projectId||"",r.logger),r}return _createClass(i,[{key:"start",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialized,e.t0){e.next=4;break}return e.next=4,this.initialize();case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"initialize",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.crypto.init();case 4:return e.next=6,this.history.init();case 6:return e.next=8,this.expirer.init();case 8:return e.next=10,this.relayer.init();case 10:return e.next=12,this.heartbeat.init();case 12:return e.next=14,this.pairing.init();case 14:this.initialized=!0,this.logger.info("Core Initialization Success"),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(1),this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e.t0),this.logger.error(e.t0.message),e.t0;case 21:case"end":return e.stop()}},e,this,[[1,18]])})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}],[{key:"init",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i(t),e.next=3,r.initialize();case 3:return e.next=5,r.crypto.getClientId();case 5:return n=e.sent,e.next=8,r.storage.setItem("WALLETCONNECT_CLIENT_ID",n);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),i}(),co="wc@2:".concat("client",":"),uo="client",lo="WALLETCONNECT_DEEPLINK_CHOICE",fo=M.SEVEN_DAYS,po={wc_sessionPropose:{req:{ttl:M.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1104},res:{ttl:M.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1106},res:{ttl:M.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:M.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:M.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1112},res:{ttl:M.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1115}}},ho={min:M.FIVE_MINUTES,max:M.SEVEN_DAYS},go="IDLE",mo="ACTIVE",vo=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],yo=Object.defineProperty,bo=Object.defineProperties,wo=Object.getOwnPropertyDescriptors,_o=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,Eo=function(e,t){for(var r in t=t||{})xo.call(t,r)&&Kn(e,r,t[r]);if(_o){var n,i=_createForOfIteratorHelper(_o(t));try{for(i.s();!(n=i.n()).done;){r=n.value;ko.call(t,r)&&Kn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e},Oo=function(e,t){return bo(e,wo(t))},Co=function(){_inherits(a,y);var t,r,n,e,i=_createSuper(a);function a(e){var y,o;return _classCallCheck(this,a),y=i.call(this,e),o=_assertThisInitialized(y),y.name="engine",y.events=new(w()),y.initialized=!1,y.ignoredPayloadTypes=[1],y.requestQueue={state:go,queue:[]},y.sessionRequestQueue={state:go,queue:[]},y.requestQueueDelay=M.ONE_SECOND,y.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=y.initialized,e.t0){e.next=10;break}return e.next=4,y.cleanup();case 4:y.registerRelayerEvents(),y.registerExpirerEvents(),y.registerPairingEvents(),y.client.core.pairing.register({methods:Object.keys(po)}),y.initialized=!0,setTimeout(function(){y.sessionRequestQueue.queue=y.getPendingSessionRequests(),y.processSessionRequestQueue()},(0,M.toMiliseconds)(y.requestQueueDelay));case 10:case"end":return e.stop()}},e)})),y.connect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l,f,p,h,d,g,m,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return r=Oo(Eo({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}}),e.next=5,y.isValidConnect(r);case 5:if(n=r.pairingTopic,i=r.requiredNamespaces,o=r.optionalNamespaces,a=r.sessionProperties,s=r.relays,u=!1,(c=n)&&(u=y.client.core.pairing.pairings.get(c).active),c&&u){e.next=14;break}return e.next=10,y.client.core.pairing.create();case 10:l=e.sent,u=l.topic,l=l.uri,c=u,l=l;case 14:return e.next=16,y.client.core.crypto.generateKeyPair();case 16:if(f=e.sent,p=Eo({requiredNamespaces:i,optionalNamespaces:o,relays:null!=s?s:[{protocol:"irn"}],proposer:{publicKey:f,metadata:y.client.metadata}},a&&{sessionProperties:a}),g=ir(M.FIVE_MINUTES,"Proposal expired"),h=g.reject,d=g.resolve,g=g.done,y.events.once(lr("session_connect"),function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.error,n=t.session,!r){e.next=5;break}h(r),e.next=17;break;case 5:if(n)return n.self.publicKey=f,i=Oo(Eo({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces}),e.next=10,y.client.session.set(n.topic,i);e.next=17;break;case 10:return e.next=12,y.setExpiry(n.topic,n.expiry);case 12:if(e.t0=c,e.t0)return e.next=16,y.client.core.pairing.updateMetadata({topic:c,metadata:n.peer.metadata});e.next=16;break;case 16:d(i);case 17:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),c){e.next=25;break}throw m=_r("NO_MATCHING_KEY","connect() pairing topic: ".concat(c)),v=m.message,new Error(v);case 25:return e.next=27,y.sendRequest({topic:c,method:"wc_sessionPropose",params:p});case 27:return m=e.sent,v=cr(M.FIVE_MINUTES),e.next=31,y.setProposal(m,Eo({id:m,expiry:v},p));case 31:return e.abrupt("return",{uri:l,approval:g});case 32:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.pair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.client.core.pairing.pair(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.approve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l,f,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidApprove(t);case 4:return r=t.id,n=t.relayProtocol,i=t.namespaces,o=t.sessionProperties,u=y.client.proposal.get(r),a=u.pairingTopic,s=u.proposer,c=u.requiredNamespaces,u=u.optionalNamespaces,a=a||"",Er(c)||(c=function(e){var t=Ar(e,"approve()");if(t)throw new Error(t.message);for(var r={},n=0,i=Object.entries(e);n<i.length;n++){var o=_slicedToArray(i[n],2),a=o[0],o=o[1];r[a]={methods:o.methods,events:o.events,chains:o.accounts.map(function(e){return"".concat(e.split(":")[0],":").concat(e.split(":")[1])})}}return r}(i)),e.next=9,y.client.core.crypto.generateKeyPair();case 9:return l=e.sent,h=s.publicKey,e.next=13,y.client.core.crypto.generateSharedKey(l,h);case 13:if(f=e.sent,e.t0=a&&r,e.t0)return e.next=18,y.client.core.pairing.updateMetadata({topic:a,metadata:s.metadata});e.next=24;break;case 18:return e.next=20,y.sendResult({id:r,topic:a,result:{relay:{protocol:null!=n?n:"irn"},responderPublicKey:l}});case 20:return e.next=22,y.client.proposal.delete(r,xr("USER_DISCONNECTED"));case 22:return e.next=24,y.client.core.pairing.activate({topic:a});case 24:return p=Eo({relay:{protocol:null!=n?n:"irn"},namespaces:i,requiredNamespaces:c,optionalNamespaces:u,pairingTopic:a,controller:{publicKey:l,metadata:y.client.metadata},expiry:cr(fo)},o&&{sessionProperties:o}),e.next=27,y.client.core.relayer.subscribe(f);case 27:return e.next=29,y.sendRequest({topic:f,method:"wc_sessionSettle",params:p,throwOnFailedPublish:!0});case 29:return h=Oo(Eo({},p),{topic:f,pairingTopic:a,acknowledged:!1,self:p.controller,peer:{publicKey:s.publicKey,metadata:s.metadata},controller:l}),e.next=32,y.client.session.set(f,h);case 32:return e.next=34,y.setExpiry(f,cr(fo));case 34:return e.abrupt("return",{topic:f,acknowledged:function(){return new Promise(function(e){return setTimeout(function(){return e(y.client.session.get(f))},500)})}});case 35:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.reject=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidReject(t);case 4:if(r=t.id,n=t.reason,i=y.client.proposal.get(r),i=i.pairingTopic,e.t0=i,e.t0)return e.next=9,y.sendError(r,i,n);e.next=11;break;case 9:return e.next=11,y.client.proposal.delete(r,xr("USER_DISCONNECTED"));case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.update=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidUpdate(t);case 4:return r=t.topic,n=t.namespaces,e.next=8,y.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:n}});case 8:return i=e.sent,o=ir(),a=o.done,s=o.resolve,c=o.reject,y.events.once(lr("session_update",i),function(e){e=e.error;e?c(e):s()}),e.next=16,y.client.session.update(r,{namespaces:n});case 16:return e.abrupt("return",{acknowledged:a});case 17:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.extend=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidExtend(t);case 4:return r=t.topic,e.next=7,y.sendRequest({topic:r,method:"wc_sessionExtend",params:{}});case 7:return n=e.sent,i=ir(),o=i.done,a=i.resolve,s=i.reject,y.events.once(lr("session_extend",n),function(e){e=e.error;e?s(e):a()}),e.next=15,y.setExpiry(r,cr(fo));case 15:return e.abrupt("return",{acknowledged:o});case 16:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.request=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidRequest(t);case 4:return r=t.chainId,n=t.request,i=t.topic,o=t.expiry,a=Kr(),s=ir(o,"Request expired. Please try again."),c=s.done,u=s.resolve,l=s.reject,y.events.once(lr("session_request",a),function(e){var t=e.error,e=e.result;t?l(t):u(e)}),e.next=8,Promise.all([new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.sendRequest({clientRpcId:a,topic:i,method:"wc_sessionRequest",params:{request:n,chainId:r},expiry:o,throwOnFailedPublish:!0}).catch(function(e){return l(e)});case 2:y.client.events.emit("session_request_sent",{topic:i,request:n,chainId:r,id:a}),t();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.client.core.storage.getItem(lo);case 2:r=e.sent,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.topic,i=t.wcDeepLink,e.prev=1,i){e.next=4;break}return e.abrupt("return");case 4:if(o="string"==typeof i?JSON.parse(i):i,"string"!=typeof(o=null==o?void 0:o.href))return e.abrupt("return");e.next=8;break;case 8:if(o.endsWith("/")&&(o=o.slice(0,-1)),a="".concat(o,"/wc?requestId=").concat(r,"&sessionTopic=").concat(n),(s=er())!==Yt.browser){e.next=14;break}a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"),e.next=18;break;case 14:if(e.t0=s===Yt.reactNative&&_typeof(null==Ao.g?void 0:Ao.g.Linking)<"u",e.t0)return e.next=18,Ao.g.Linking.openURL(a);e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),console.error(e.t1);case 23:case"end":return e.stop()}},e,null,[[1,20]])}));return function(e){return t.apply(this,arguments)}}()({id:a,topic:i,wcDeepLink:r}),t();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),c()]).then(function(e){return e[2]});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.respond=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidRespond(t);case 4:if(r=t.topic,n=t.response,i=n.id,an(n))return e.next=8,y.sendResult({id:i,topic:r,result:n.result,throwOnFailedPublish:!0});e.next=10;break;case 8:e.next=14;break;case 10:if(e.t0=sn(n),e.t0)return e.next=14,y.sendError(i,r,n.error);e.next=14;break;case 14:y.cleanupAfterResponse(t);case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.ping=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidPing(t);case 4:if(r=t.topic,y.client.session.keys.includes(r))return e.next=8,y.sendRequest({topic:r,method:"wc_sessionPing",params:{}});e.next=18;break;case 8:return n=e.sent,i=ir(),o=i.done,a=i.resolve,s=i.reject,y.events.once(lr("session_ping",n),function(e){e=e.error;e?s(e):a()}),e.next=16,o();case 16:e.next=22;break;case 18:if(e.t0=y.client.core.pairing.pairings.keys.includes(r),e.t0)return e.next=22,y.client.core.pairing.ping({topic:r});e.next=22;break;case 22:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.emit=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidEmit(t);case 4:return r=t.topic,n=t.event,i=t.chainId,e.next=7,y.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:n,chainId:i}});case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.disconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidDisconnect(t);case 4:if(r=t.topic,y.client.session.keys.includes(r))return e.next=8,y.sendRequest({topic:r,method:"wc_sessionDelete",params:xr("USER_DISCONNECTED"),throwOnFailedPublish:!0});e.next=12;break;case 8:return e.next=10,y.deleteSession(r);case 10:e.next=14;break;case 12:return e.next=14,y.client.core.pairing.disconnect({topic:r});case 14:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.find=function(r){return y.isInitialized(),y.client.session.getAll().filter(function(e){return o=e,a=r.requiredNamespaces,t=Object.keys(o.namespaces),e=Object.keys(a),s=!0,!!tr(e,t)&&(t.forEach(function(e){var t=o.namespaces[e],r=t.accounts,n=t.methods,i=t.events,t=yr(r),r=a[e];tr(At(e,r),t)&&tr(r.methods,n)&&tr(r.events,i)||(s=!1)}),s);var o,a,t,s})},y.getPendingSessionRequests=function(){return y.isInitialized(),y.client.pendingRequest.getAll()},y.cleanupDuplicatePairings=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.pairingTopic){e.next=14;break}if(e.prev=1,n=y.client.core.pairing.pairings.get(r.pairingTopic),0===(t=y.client.core.pairing.pairings.getAll().filter(function(e){var t;return(null==(t=e.peerMetadata)?void 0:t.url)&&(null==(t=e.peerMetadata)?void 0:t.url)===r.peer.metadata.url&&e.topic&&e.topic!==n.topic})).length)return e.abrupt("return");e.next=5;break;case 5:return y.client.logger.info("Cleaning up ".concat(t.length," duplicate pairing(s)")),e.next=8,Promise.all(t.map(function(e){return y.client.core.pairing.disconnect({topic:e.topic})}));case 8:y.client.logger.info("Duplicate pairings clean up finished"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y.client.logger.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}(),y.deleteSession=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.client.session.get(t),n=n.self,e.next=3,y.client.core.relayer.unsubscribe(t);case 3:if(y.client.session.delete(t,xr("USER_DISCONNECTED")),e.t0=y.client.core.crypto.keychain.has(n.publicKey),e.t0)return e.next=8,y.client.core.crypto.deleteKeyPair(n.publicKey);e.next=8;break;case 8:if(e.t1=y.client.core.crypto.keychain.has(t),e.t1)return e.next=12,y.client.core.crypto.deleteSymKey(t);e.next=12;break;case 12:r||y.client.core.expirer.del(t),y.client.core.storage.removeItem(lo).catch(function(e){return y.client.logger.warn(e)});case 14:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.deleteProposal=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.client.proposal.delete(t,xr("USER_DISCONNECTED")),r?Promise.resolve():y.client.core.expirer.del(t)]);case 2:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.deletePendingSessionRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<i.length&&void 0!==i[2]&&i[2],e.next=3,Promise.all([o.client.pendingRequest.delete(t,r),n?Promise.resolve():o.client.core.expirer.del(t)]);case 3:o.sessionRequestQueue.queue=o.sessionRequestQueue.queue.filter(function(e){return e.id!==t}),n&&(o.sessionRequestQueue.state=go);case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.setExpiry=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=y.client.session.keys.includes(t),e.t0)return e.next=4,y.client.session.update(t,{expiry:r});e.next=4;break;case 4:y.client.core.expirer.set(t,r);case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.setProposal=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.client.proposal.set(t,r);case 2:y.client.core.expirer.set(t,r.expiry);case 3:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.setPendingSessionRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=po.wc_sessionRequest.req.ttl,n=t.id,i=t.topic,o=t.params,a=t.verifyContext,e.next=3,y.client.pendingRequest.set(n,{id:n,topic:i,params:o,verifyContext:a});case 3:r&&y.client.core.expirer.set(n,cr(r));case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.sendRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.method,s=t.params,i=t.expiry,o=t.relayRpcId,c=t.clientRpcId,a=t.throwOnFailedPublish,s=Yr(n,s,c),Xt()&&vo.includes(n)&&(c=Ut(JSON.stringify(s)),y.client.core.verify.register({attestationId:c})),e.next=4,y.client.core.crypto.encode(r,s);case 4:if(u=e.sent,l=po[n].req,i&&(l.ttl=i),o&&(l.id=o),y.client.core.history.set(r,s),a)return l.internal=Oo(Eo({},l.internal),{throwOnFailedPublish:!0}),e.next=13,y.client.core.relayer.publish(r,u,l);e.next=15;break;case 13:e.next=16;break;case 15:y.client.core.relayer.publish(r,u,l).catch(function(e){return y.client.logger.error(e)});case 16:return e.abrupt("return",s.id);case 17:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.sendResult=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.topic,o=t.result,i=t.throwOnFailedPublish,o=Zr(r,o),e.next=7,y.client.core.crypto.encode(n,o);case 7:return a=e.sent,e.next=10,y.client.core.history.get(n,r);case 10:if(s=e.sent,s=po[s.request.method].res,i)return s.internal=Oo(Eo({},s.internal),{throwOnFailedPublish:!0}),e.next=16,y.client.core.relayer.publish(n,a,s);e.next=18;break;case 16:e.next=19;break;case 18:y.client.core.relayer.publish(n,a,s).catch(function(e){return y.client.logger.error(e)});case 19:return e.next=21,y.client.core.history.resolve(o);case 21:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.sendError=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qr(t,n),e.next=3,y.client.core.crypto.encode(r,i);case 3:return o=e.sent,e.next=6,y.client.core.history.get(r,t);case 6:return a=e.sent,a=po[a.request.method].res,y.client.core.relayer.publish(r,o,a),e.next=11,y.client.core.history.resolve(i);case 11:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),y.cleanup=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=[],y.client.session.getAll().forEach(function(e){ur(e.expiry)&&t.push(e.topic)}),y.client.proposal.getAll().forEach(function(e){ur(e.expiry)&&r.push(e.id)}),e.next=5,Promise.all([].concat(_toConsumableArray(t.map(function(e){return y.deleteSession(e)})),_toConsumableArray(r.map(function(e){return y.deleteProposal(e)}))));case 5:case"end":return e.stop()}},e)})),y.onRelayEventRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.requestQueue.queue.push(t),e.next=3,y.processRequestsQueue();case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.processRequestsQueue=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.requestQueue.state===mo){e.next=20;break}y.client.logger.info("Request queue starting with ".concat(y.requestQueue.queue.length," requests"));case 2:if(!(0<y.requestQueue.queue.length)){e.next=17;break}if(y.requestQueue.state=mo,t=y.requestQueue.queue.shift())return e.prev=6,y.processRequest(t),e.next=10,new Promise(function(e){return setTimeout(e,300)});e.next=15;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),y.client.logger.warn(e.t0);case 15:e.next=2;break;case 17:y.requestQueue.state=go,e.next=21;break;case 20:y.client.logger.info("Request queue already active, skipping...");case 21:case"end":return e.stop()}},e,null,[[6,12]])})),y.processRequest=function(e){var t=e.topic,r=e.payload,n=r.method;switch(n){case"wc_sessionPropose":return y.onSessionProposeRequest(t,r);case"wc_sessionSettle":return y.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return y.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return y.onSessionExtendRequest(t,r);case"wc_sessionPing":return y.onSessionPingRequest(t,r);case"wc_sessionDelete":return y.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return y.onSessionRequest(t,r);case"wc_sessionEvent":return y.onSessionEventRequest(t,r);default:return y.client.logger.info("Unsupported request method ".concat(n))}},y.onRelayEventResponse=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.payload,e.next=4,y.client.core.history.get(r,n.id);case 4:i=e.sent.request.method,e.t0=i,e.next="wc_sessionPropose"===e.t0?8:"wc_sessionSettle"===e.t0?9:"wc_sessionUpdate"===e.t0?10:"wc_sessionExtend"===e.t0?11:"wc_sessionPing"===e.t0?12:"wc_sessionRequest"===e.t0?13:14;break;case 8:return e.abrupt("return",y.onSessionProposeResponse(r,n));case 9:return e.abrupt("return",y.onSessionSettleResponse(r,n));case 10:return e.abrupt("return",y.onSessionUpdateResponse(r,n));case 11:return e.abrupt("return",y.onSessionExtendResponse(r,n));case 12:return e.abrupt("return",y.onSessionPingResponse(r,n));case 13:return e.abrupt("return",y.onSessionRequestResponse(r,n));case 14:return e.abrupt("return",y.client.logger.info("Unsupported response method ".concat(i)));case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.onRelayEventUnknownPayload=function(e){e=e.topic,e=_r("MISSING_OR_INVALID","Decoded payload on topic ".concat(e," is not identifiable as a JSON-RPC request or a response.")).message;throw new Error(e)},y.onSessionProposeRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.params,n=r.id,e.prev=1,y.isValidConnect(Eo({},r.params)),i=cr(M.FIVE_MINUTES),o=Eo({id:n,pairingTopic:t,expiry:i},o),e.next=6,y.setProposal(n,o);case 6:return a=Ut(JSON.stringify(r)),e.next=9,y.getVerifyContext(a,o.proposer.metadata);case 9:a=e.sent,y.client.events.emit("session_proposal",{id:n,params:o,verifyContext:a}),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,y.sendError(n,t,e.t0);case 17:y.client.logger.error(e.t0);case 18:case"end":return e.stop()}},e,null,[[1,13]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionProposeResponse=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,an(r))return o=r.result,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o}),i=y.client.proposal.get(n),y.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i}),i=i.proposer.publicKey,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:i}),o=o.responderPublicKey,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o}),e.next=12,y.client.core.crypto.generateSharedKey(i,o);e.next=22;break;case 12:return a=e.sent,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a}),e.next=16,y.client.core.relayer.subscribe(a);case 16:return a=e.sent,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:a}),e.next=20,y.client.core.pairing.activate({topic:t});case 20:e.next=27;break;case 22:if(e.t0=sn(r),e.t0)return e.next=26,y.client.proposal.delete(n,xr("USER_DISCONNECTED"));e.next=27;break;case 26:y.events.emit(lr("session_connect"),{error:r.error});case 27:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionSettleRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,s,c,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,f=r.params,e.prev=1,y.isValidSessionSettleRequest(f),l=r.params,i=l.relay,o=l.controller,a=l.expiry,s=l.namespaces,c=l.requiredNamespaces,u=l.optionalNamespaces,f=l.sessionProperties,l=l.pairingTopic,f=Eo({topic:t,relay:i,expiry:a,namespaces:s,acknowledged:!0,pairingTopic:l,requiredNamespaces:c,optionalNamespaces:u,controller:o.publicKey,self:{publicKey:"",metadata:y.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},f&&{sessionProperties:f}),e.next=6,y.sendResult({id:r.id,topic:t,result:!0});case 6:y.events.emit(lr("session_connect"),{session:f}),y.cleanupDuplicatePairings(f),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,y.sendError(n,t,e.t0);case 14:y.client.logger.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionSettleResponse=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,an(r))return e.next=4,y.client.session.update(t,{acknowledged:!0});e.next=7;break;case 4:y.events.emit(lr("session_approve",n),{}),e.next=12;break;case 7:if(e.t0=sn(r),e.t0)return e.next=11,y.client.session.delete(t,xr("USER_DISCONNECTED"));e.next=12;break;case 11:y.events.emit(lr("session_approve",n),{error:r.error});case 12:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionUpdateRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.params,i=r.id,e.prev=1,o="".concat(t,"_session_update"),(a=zr.get(o))&&y.isRequestOutOfSync(a,i))return e.abrupt("return",void y.client.logger.info("Discarding out of sync request - ".concat(i)));e.next=5;break;case 5:return y.isValidUpdate(Eo({topic:t},n)),e.next=8,y.client.session.update(t,{namespaces:n.namespaces});case 8:return e.next=10,y.sendResult({id:i,topic:t,result:!0});case 10:y.client.events.emit("session_update",{id:i,topic:t,params:n}),zr.set(o,i),e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),e.next=18,y.sendError(i,t,e.t0);case 18:y.client.logger.error(e.t0);case 19:case"end":return e.stop()}},e,null,[[1,14]])}));return function(e,t){return r.apply(this,arguments)}}(),y.isRequestOutOfSync=function(e,t){return parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3))},y.onSessionUpdateResponse=function(e,t){var r=t.id;an(t)?y.events.emit(lr("session_update",r),{}):sn(t)&&y.events.emit(lr("session_update",r),{error:t.error})},y.onSessionExtendRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,y.isValidExtend({topic:t}),e.next=5,y.setExpiry(t,cr(fo));case 5:return e.next=7,y.sendResult({id:n,topic:t,result:!0});case 7:y.client.events.emit("session_extend",{id:n,topic:t}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,y.sendError(n,t,e.t0);case 14:y.client.logger.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionExtendResponse=function(e,t){var r=t.id;an(t)?y.events.emit(lr("session_extend",r),{}):sn(t)&&y.events.emit(lr("session_extend",r),{error:t.error})},y.onSessionPingRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,y.isValidPing({topic:t}),e.next=5,y.sendResult({id:n,topic:t,result:!0});case 5:y.client.events.emit("session_ping",{id:n,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,y.sendError(n,t,e.t0);case 12:y.client.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionPingResponse=function(e,t){var r=t.id;setTimeout(function(){an(t)?y.events.emit(lr("session_ping",r),{}):sn(t)&&y.events.emit(lr("session_ping",r),{error:t.error})},500)},y.onSessionDeleteRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,y.isValidDisconnect({topic:r,reason:t.params}),e.next=5,Promise.all([new Promise(function(t){y.client.core.relayer.once(ci,_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,y.deleteSession(r);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)})))}),y.sendResult({id:n,topic:r,result:!0})]);case 5:y.client.events.emit("session_delete",{id:n,topic:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y.client.logger.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,i=r.params,e.prev=1,y.isValidRequest(Eo({topic:t},i)),o=Ut(JSON.stringify(Yr("wc_sessionRequest",i,n))),a=y.client.session.get(t),e.t0=n,e.t1=t,e.t2=i,e.next=10,y.getVerifyContext(o,a.peer.metadata);case 10:return e.t3=e.sent,s={id:e.t0,topic:e.t1,params:e.t2,verifyContext:e.t3},e.next=14,y.setPendingSessionRequest(s);case 14:y.addSessionRequestToSessionRequestQueue(s),y.processSessionRequestQueue(),e.next=23;break;case 18:return e.prev=18,e.t4=e.catch(1),e.next=22,y.sendError(n,t,e.t4);case 22:y.client.logger.error(e.t4);case 23:case"end":return e.stop()}},e,null,[[1,18]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionRequestResponse=function(e,t){var r=t.id;an(t)?y.events.emit(lr("session_request",r),{result:t.result}):sn(t)&&y.events.emit(lr("session_request",r),{error:t.error})},y.onSessionEventRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,i=r.params,e.prev=1,o="".concat(t,"_session_event_").concat(i.event.name),(a=zr.get(o))&&y.isRequestOutOfSync(a,n))return e.abrupt("return",void y.client.logger.info("Discarding out of sync request - ".concat(n)));e.next=5;break;case 5:y.isValidEmit(Eo({topic:t},i)),y.client.events.emit("session_event",{id:n,topic:t,params:i}),zr.set(o,n),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,y.sendError(n,t,e.t0);case 12:y.client.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.addSessionRequestToSessionRequestQueue=function(e){y.sessionRequestQueue.queue.push(e)},y.cleanupAfterResponse=function(e){y.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(function(){y.sessionRequestQueue.state=go,y.processSessionRequestQueue()},(0,M.toMiliseconds)(y.requestQueueDelay))},y.processSessionRequestQueue=function(){if(y.sessionRequestQueue.state!==mo){var e=y.sessionRequestQueue.queue[0];if(e)try{y.sessionRequestQueue.state=mo,y.client.events.emit("session_request",e)}catch(e){y.client.logger.error(e)}else y.client.logger.info("session request queue is empty.")}else y.client.logger.info("session request queue is already active.")},y.onPairingCreated=function(t){var e;t.active||(e=y.client.proposal.getAll().find(function(e){return e.pairingTopic===t.topic}))&&y.onSessionProposeRequest(t.topic,Yr("wc_sessionPropose",{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer},e.id))},y.isValidConnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(t))),r=r.message,new Error(r);case 3:if(s=t.pairingTopic,n=t.requiredNamespaces,i=t.optionalNamespaces,o=t.sessionProperties,a=t.relays,e.t0=Or(s),e.t0){e.next=8;break}return e.next=8,y.isValidPairingTopic(s);case 8:if(function(e){var t=!1;return e?e&&kr(e)&&e.length&&e.forEach(function(e){t=jr(e)}):t=!0,t}(a)){e.next=11;break}throw s=_r("MISSING_OR_INVALID","connect() relays: ".concat(a)),s=s.message,new Error(s);case 11:Or(n)||0===Er(n)||y.validateNamespaces(n,"requiredNamespaces"),Or(i)||0===Er(i)||y.validateNamespaces(i,"optionalNamespaces"),Or(o)||y.validateSessionProps(o,"sessionProperties");case 12:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.validateNamespaces=function(e,t){var r,n,i,o,a,a=(r="connect()",n=t,a=null,(t=e)&&Er(t)?((e=Ir(t,r))&&(a=e),(t=(i=n,o=null,Object.entries(t).forEach(function(e){var t,r,n=_slicedToArray(e,2),e=n[0],n=n[1];o||(n=At(e=e,n),t="".concat("connect()"," ").concat(i),r=null,kr(n)&&n.length?n.forEach(function(e){r||Sr(e)||(r=xr("UNSUPPORTED_CHAINS","".concat(t,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))}):Sr(e)||(r=xr("UNSUPPORTED_CHAINS","".concat(t,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),(e=r)&&(o=e))}),o))&&(a=t)):a=_r("MISSING_OR_INVALID","".concat(r,", ").concat(n," should be an object with data")),a);if(a)throw new Error(a.message)},y.isValidApprove=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=2;break}throw new Error(_r("MISSING_OR_INVALID","approve() params: ".concat(t)).message);case 2:return r=t.id,n=t.namespaces,i=t.relayProtocol,o=t.sessionProperties,e.next=5,y.isValidProposalId(r);case 5:if(a=y.client.proposal.get(r),s=Ar(n,"approve()"))throw new Error(s.message);e.next=8;break;case 8:if(c=Nr(a.requiredNamespaces,n,"approve()"))throw new Error(c.message);e.next=11;break;case 11:if(Cr(i,!0)){e.next=14;break}throw c=_r("MISSING_OR_INVALID","approve() relayProtocol: ".concat(i)),c=c.message,new Error(c);case 14:Or(o)||y.validateSessionProps(o,"sessionProperties");case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidReject=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(r)){e.next=3;break}throw n=_r("MISSING_OR_INVALID","reject() params: ".concat(r)),n=n.message,new Error(n);case 3:return o=r.id,i=r.reason,e.next=6,y.isValidProposalId(o);case 6:if((t=i)&&"object"==_typeof(t)&&t.code&&Rr(t.code,!1)&&t.message&&Cr(t.message,!1)){e.next=9;break}throw o=_r("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(i))),o=o.message,new Error(o);case 9:case"end":return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidSessionSettleRequest=function(e){if(!Pr(e)){var t=_r("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e)).message;throw new Error(t)}var r=e.relay,n=e.controller,t=e.namespaces,e=e.expiry;if(!jr(r)){var i=_r("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string").message;throw new Error(i)}Cr((i=null)==(n=n)?void 0:n.publicKey,!1)||(i=_r("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string"));if(i)throw new Error(i.message);t=Ar(t,"onSessionSettleRequest()");if(t)throw new Error(t.message);if(ur(e)){e=_r("EXPIRED","onSessionSettleRequest()").message;throw new Error(e)}},y.isValidUpdate=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","update() params: ".concat(t)),r=r.message,new Error(r);case 3:return n=t.topic,i=t.namespaces,e.next=6,y.isValidSessionTopic(n);case 6:if(o=y.client.session.get(n),a=Ar(i,"update()"))throw new Error(a.message);e.next=9;break;case 9:if(a=Nr(o.requiredNamespaces,i,"update()"))throw new Error(a.message);e.next=12;break;case 12:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidExtend=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","extend() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,y.isValidSessionTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var i,o,a,s,c,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(n)){e.next=3;break}throw i=_r("MISSING_OR_INVALID","request() params: ".concat(n)),i=i.message,new Error(i);case 3:return o=n.topic,a=n.request,s=n.chainId,c=n.expiry,e.next=6,y.isValidSessionTopic(o);case 6:if(u=y.client.session.get(o),Lr(u=u.namespaces,s)){e.next=10;break}throw l=_r("MISSING_OR_INVALID","request() chainId: ".concat(s)),l=l.message,new Error(l);case 10:if(Or(r=a)||!Cr(r.method,!1))throw l=_r("MISSING_OR_INVALID","request() ".concat(JSON.stringify(a))),l=l.message,new Error(l);e.next=13;break;case 13:if(function(e,t,r){return Cr(r,!1)&&(n=t,i=[],Object.values(e).forEach(function(e){yr(e.accounts).includes(n)&&i.push.apply(i,_toConsumableArray(e.methods))}),i.includes(r));var n,i}(u,s,a.method)){e.next=16;break}throw f=_r("MISSING_OR_INVALID","request() method: ".concat(a.method)),f=f.message,new Error(f);case 16:if(!c||(t=ho,Rr(r=c,!1)&&r<=t.max&&r>=t.min)){e.next=19;break}throw f=_r("MISSING_OR_INVALID","request() expiry: ".concat(c,". Expiry must be a number (in seconds) between ").concat(ho.min," and ").concat(ho.max)),f=f.message,new Error(f);case 19:case"end":return e.stop()}var t,r},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidRespond=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(r)){e.next=3;break}throw n=_r("MISSING_OR_INVALID","respond() params: ".concat(r)),n=n.message,new Error(n);case 3:return o=r.topic,i=r.response,e.next=6,y.isValidSessionTopic(o);case 6:if(Or(t=i)||Or(t.result)&&Or(t.error)||!Rr(t.id,!1)||!Cr(t.jsonrpc,!1))throw o=_r("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(i))),o=o.message,new Error(o);e.next=9;break;case 9:case"end":return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidPing=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","ping() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,y.isValidSessionOrPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidEmit=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(r)){e.next=3;break}throw s=_r("MISSING_OR_INVALID","emit() params: ".concat(r)),s=s.message,new Error(s);case 3:return n=r.topic,i=r.event,o=r.chainId,e.next=6,y.isValidSessionTopic(n);case 6:if(s=y.client.session.get(n),Lr(a=s.namespaces,o)){e.next=10;break}throw s=_r("MISSING_OR_INVALID","emit() chainId: ".concat(o)),s=s.message,new Error(s);case 10:if(Or(t=i)||!Cr(t.name,!1))throw c=_r("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(i))),c=c.message,new Error(c);e.next=13;break;case 13:if(function(e,t,r){return Cr(r,!1)&&(n=t,i=[],Object.values(e).forEach(function(e){yr(e.accounts).includes(n)&&i.push.apply(i,_toConsumableArray(e.events))}),i.includes(r));var n,i}(a,o,i.name)){e.next=16;break}throw c=_r("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(i))),c=c.message,new Error(c);case 16:case"end":return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidDisconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","disconnect() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,y.isValidSessionOrPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.getVerifyContext=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={verified:{verifyUrl:r.verifyUrl||Ri,validation:"UNKNOWN",origin:r.url||""}},e.prev=1,e.next=4,y.client.core.verify.resolve({attestationId:t,verifyUrl:r.verifyUrl});case 4:(i=e.sent)&&(n.verified.origin=i.origin,n.verified.isScam=i.isScam,n.verified.validation=i.origin===new URL(r.url).origin?"VALID":"INVALID"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y.client.logger.info(e.t0);case 11:return e.abrupt("return",(y.client.logger.info("Verify context: ".concat(JSON.stringify(n))),n));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.validateSessionProps=function(e,t){Object.values(e).forEach(function(e){if(!Cr(e,!1)){e=_r("MISSING_OR_INVALID","".concat(t," must be in Record<string, string> format. Received: ").concat(JSON.stringify(e))).message;throw new Error(e)}})},y}return _createClass(a,[{key:"isInitialized",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initialized){e.next=3;break}throw t=_r("NOT_INITIALIZED",this.name),t=t.message,new Error(t);case 3:return e.next=5,this.client.core.relayer.confirmOnlineStateOrThrow();case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"registerRelayerEvents",value:function(){var o=this;this.client.core.relayer.on(ni,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,n=t.message,o.ignoredPayloadTypes.includes(o.client.core.crypto.getPayloadType(n)))return e.abrupt("return");e.next=3;break;case 3:return e.next=5,o.client.core.crypto.decode(r,n);case 5:if(i=e.sent,e.prev=6,!nn(i)){e.next=11;break}o.client.core.history.set(r,i),o.onRelayEventRequest({topic:r,payload:i}),e.next=20;break;case 11:if(on(i))return e.next=14,o.client.core.history.resolve(i);e.next=19;break;case 14:return e.next=16,o.onRelayEventResponse({topic:r,payload:i});case 16:o.client.core.history.delete(r,i.id),e.next=20;break;case 19:o.onRelayEventUnknownPayload({topic:r,payload:i});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),o.client.logger.error(e.t0);case 25:case"end":return e.stop()}},e,null,[[6,22]])}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var i=this;this.client.core.expirer.on(Oi,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=sr(t.target),r=n.topic,(n=n.id)&&i.client.pendingRequest.keys.includes(n))return e.next=4,i.deletePendingSessionRequest(n,_r("EXPIRED"),!0);e.next=5;break;case 4:return e.abrupt("return",e.sent);case 5:if(!r){e.next=13;break}if(e.t0=i.client.session.keys.includes(r),e.t0)return e.next=10,i.deleteSession(r,!0);e.next=11;break;case 10:i.client.events.emit("session_expire",{topic:r});case 11:e.next=18;break;case 13:if(e.t1=n,e.t1)return e.next=17,i.deleteProposal(n,!0);e.next=18;break;case 17:i.client.events.emit("proposal_expire",{id:n});case 18:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerPairingEvents",value:function(){var t=this;this.client.core.pairing.events.on(bi,function(e){return t.onPairingCreated(e)})}},{key:"isValidPairingTopic",value:function(e){if(!Cr(e,!1)){var t=_r("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e)).message;throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){t=_r("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e)).message;throw new Error(t)}if(ur(this.client.core.pairing.pairings.get(e).expiry)){e=_r("EXPIRED","pairing topic: ".concat(e)).message;throw new Error(e)}}},{key:"isValidSessionTopic",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Cr(t,!1)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","session topic should be a string: ".concat(t)),r=r.message,new Error(r);case 3:if(this.client.session.keys.includes(t)){e.next=6;break}throw n=_r("NO_MATCHING_KEY","session topic doesn't exist: ".concat(t)),n=n.message,new Error(n);case 6:if(ur(this.client.session.get(t).expiry))return e.next=9,this.deleteSession(t);e.next=11;break;case 9:throw n=_r("EXPIRED","session topic: ".concat(t)),n=n.message,new Error(n);case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"isValidSessionOrPairingTopic",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client.session.keys.includes(t))return e.next=3,this.isValidSessionTopic(t);e.next=5;break;case 3:e.next=12;break;case 5:if(this.client.core.pairing.pairings.keys.includes(t)){e.next=11;break}if(Cr(t,!1))throw r=_r("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(t)),r=r.message,new Error(r);e.next=9;break;case 9:throw r=_r("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(t)),r=r.message,new Error(r);case 11:this.isValidPairingTopic(t);case 12:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"isValidProposalId",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"!=typeof t)throw r=_r("MISSING_OR_INVALID","proposal id should be a number: ".concat(t)),r=r.message,new Error(r);e.next=3;break;case 3:if(this.client.proposal.keys.includes(t)){e.next=6;break}throw n=_r("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(t)),n=n.message,new Error(n);case 6:if(ur(this.client.proposal.get(t).expiry))return e.next=9,this.deleteProposal(t);e.next=11;break;case 9:throw n=_r("EXPIRED","proposal id: ".concat(t)),n=n.message,new Error(n);case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),a}(),Ro=function(){_inherits(i,Qi);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this,e,t,"proposal",co)).core=e,r.logger=t,r}return i}(),So=function(){_inherits(i,Qi);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this,e,t,"session",co)).core=e,r.logger=t,r}return i}(),To=function(){_inherits(i,Qi);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this,e,t,"request",co,function(e){return e.id})).core=e,r.logger=t,r}return i}(),n=function(){_inherits(i,v);var t,e,n=_createSuper(i);function i(e){var r;_classCallCheck(this,i),(r=n.call(this,e)).protocol="wc",r.version=2,r.name=uo,r.events=new b.EventEmitter,r.on=function(e,t){return r.events.on(e,t)},r.once=function(e,t){return r.events.once(e,t)},r.off=function(e,t){return r.events.off(e,t)},r.removeListener=function(e,t){return r.events.removeListener(e,t)},r.removeAllListeners=function(e){return r.events.removeAllListeners(e)},r.connect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.connect(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.pair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.pair(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.approve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.approve(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.reject=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.reject(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.update=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.update(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.extend=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.extend(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.request=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.request(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.respond=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.respond(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.ping=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.ping(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.emit=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.emit(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.disconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.disconnect(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.find=function(e){try{return r.engine.find(e)}catch(e){throw r.logger.error(e.message),e}},r.getPendingSessionRequests=function(){try{return r.engine.getPendingSessionRequests()}catch(e){throw r.logger.error(e.message),e}},r.name=(null==e?void 0:e.name)||uo,r.metadata=(null==e?void 0:e.metadata)||(0,St.D)()||{name:"",description:"",url:"",icons:[""]};var t=_typeof(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:(0,k.pino)((0,k.getDefaultLoggerOptions)({level:(null==e?void 0:e.logger)||"error"}));return r.core=(null==e?void 0:e.core)||new so(e),r.logger=(0,k.generateChildLogger)(t,r.name),r.session=new So(r.core,r.logger),r.proposal=new Ro(r.core,r.logger),r.pendingRequest=new To(r.core,r.logger),r.engine=new Co(_assertThisInitialized(r)),r}return _createClass(i,[{key:"initialize",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.core.start();case 4:return e.next=6,this.session.init();case 6:return e.next=8,this.proposal.init();case 8:return e.next=10,this.pendingRequest.init();case 10:return e.next=12,this.engine.init();case 12:this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),this.logger.info("SignClient Initialization Failure"),this.logger.error(e.t0.message),e.t0;case 19:case"end":return e.stop()}},e,this,[[1,16]])})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"pairing",get:function(){return this.core.pairing.pairings}}],[{key:"init",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i(t),e.next=3,r.initialize();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),i}(),Io=Ao(5348);window.SignClient=n,window.WalletConnectModal=function(){function t(e){_classCallCheck(this,t),this.openModal=Io.jb.open,this.closeModal=Io.jb.close,this.subscribeModal=Io.jb.subscribe,this.setTheme=Io.ThemeCtrl.setThemeConfig,Io.ThemeCtrl.setThemeConfig(e),Io.ConfigCtrl.setConfig(e),this.initUi()}var e;return _createClass(t,[{key:"initUi",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(("undefined"==typeof window?"undefined":_typeof(window))<"u")return e.next=3,Promise.resolve().then(Ao.bind(Ao,8709));e.next=5;break;case 3:t=document.createElement("wcm-modal"),document.body.insertAdjacentElement("beforeend",t),Io.OptionsCtrl.setIsUiLoaded(!0);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})}]),t}()}()}();"use strict";function _templateObject130(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="','" .isError="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-platform-selection .isMobile="','" .isDesktop="','" .isRetry="','"><wcm-button .onClick="','" .iconRight="','">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>']);return _templateObject130=function(){return e},e}function _templateObject129(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}"]);return _templateObject129=function(){return e},e}function _templateObject128(){var e=_taggedTemplateLiteral(["<wcm-spinner></wcm-spinner>"]);return _templateObject128=function(){return e},e}function _templateObject127(){var e=_taggedTemplateLiteral(['<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>']);return _templateObject127=function(){return e},e}function _templateObject126(){var e=_taggedTemplateLiteral(['<wcm-wallet-button imageId="','" name="','" walletId="','" .onClick="','"></wcm-wallet-button>']);return _templateObject126=function(){return e},e}function _templateObject125(){var e=_taggedTemplateLiteral(["",""]);return _templateObject125=function(){return e},e}function _templateObject124(){var e=_taggedTemplateLiteral(['<wcm-modal-header><wcm-search-input .onChange="','"></wcm-search-input></wcm-modal-header><wcm-modal-content class="','"><div class="wcm-grid">'," "," ",'</div><div class="wcm-placeholder-block">'," ","</div></wcm-modal-content>"]);return _templateObject124=function(){return e},e}function _templateObject123(){var e=_taggedTemplateLiteral(["wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}"]);return _templateObject123=function(){return e},e}function _templateObject122(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="Scan the code" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>']);return _templateObject122=function(){return e},e}function _templateObject121(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="','" imageId="','"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-platform-selection .isDesktop="','" .isWeb="','"></wcm-platform-selection></wcm-info-footer>']);return _templateObject121=function(){return e},e}function _templateObject120(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}"]);return _templateObject120=function(){return e},e}function _templateObject119(){var e=_taggedTemplateLiteral(['<wcm-text color="secondary" variant="small-thin">Still doesn\'t work? <span tabindex="0" @click="','">Try this alternate link</span></wcm-text>']);return _templateObject119=function(){return e},e}function _templateObject118(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="Tap \'Open\' to continueâ€¦" .isError="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="','" .isRetry="','"><wcm-button .onClick="','" .iconRight="','">Retry</wcm-button></wcm-platform-selection>','</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image><wcm-text>','</wcm-text></div><wcm-button .iconRight="','" .onClick="','" variant="ghost">App Store</wcm-button></wcm-info-footer>']);return _templateObject118=function(){return e},e}function _templateObject117(){var e=_taggedTemplateLiteral(["wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}"]);return _templateObject117=function(){return e},e}function _templateObject116(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="Not Detected" .isStale="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-button .onClick="','" .iconLeft="','">Download</wcm-button></wcm-info-footer>']);return _templateObject116=function(){return e},e}function _templateObject115(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}"]);return _templateObject115=function(){return e},e}function _templateObject114(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="','" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="','" imageId="','" label="','" .isError="','"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">','</wcm-text><wcm-platform-selection .isMobile="','" .isWeb="','" .isRetry="','"><wcm-button .onClick="','" .iconRight="','">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>']);return _templateObject114=function(){return e},e}function _templateObject113(){var e=_taggedTemplateLiteral(["wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}"]);return _templateObject113=function(){return e},e}function _templateObject112(){var e=_taggedTemplateLiteral(["","<wcm-legal-notice></wcm-legal-notice>"]);return _templateObject112=function(){return e},e}function _templateObject111(){var e=_taggedTemplateLiteral(["<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>"]);return _templateObject111=function(){return e},e}function _templateObject110(){var e=_taggedTemplateLiteral(["<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>"]);return _templateObject110=function(){return e},e}function _templateObject109(){var e=_taggedTemplateLiteral(["<wcm-android-wallet-selection></wcm-android-wallet-selection>"]);return _templateObject109=function(){return e},e}function _templateObject108(){var e=_taggedTemplateLiteral(["<wcm-spinner></wcm-spinner>"]);return _templateObject108=function(){return e},e}function _templateObject107(){var e=_taggedTemplateLiteral(['<wcm-qrcode size="','" uri="','" walletId="','" imageId="','"></wcm-qrcode>']);return _templateObject107=function(){return e},e}function _templateObject106(){var e=_taggedTemplateLiteral(['<div class="wcm-qr-container">',"</div>"]);return _templateObject106=function(){return e},e}function _templateObject105(){var e=_taggedTemplateLiteral([".wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}"]);return _templateObject105=function(){return e},e}function _templateObject104(){var e=_taggedTemplateLiteral(['<img crossorigin="anonymous" src="','">']);return _templateObject104=function(){return e},e}function _templateObject103(){var e=_taggedTemplateLiteral(['<img crossorigin="anonymous" src="','">']);return _templateObject103=function(){return e},e}function _templateObject102(){var e=_taggedTemplateLiteral(['<button @click="','"><div class="wcm-icons">'," ",'</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>']);return _templateObject102=function(){return e},e}function _templateObject101(){var e=_taggedTemplateLiteral(["button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}"]);return _templateObject101=function(){return e},e}function _templateObject100(){var e=_taggedTemplateLiteral(['<wcm-button .onClick="','" .iconLeft="','" variant="outline">Web</wcm-button>']);return _templateObject100=function(){return e},e}function _templateObject99(){var e=_taggedTemplateLiteral(['<wcm-button .onClick="','" .iconLeft="','" variant="outline">Desktop</wcm-button>']);return _templateObject99=function(){return e},e}function _templateObject98(){var e=_taggedTemplateLiteral(['<wcm-button .onClick="','" .iconLeft="','" variant="outline">Mobile</wcm-button>']);return _templateObject98=function(){return e},e}function _templateObject97(){var e=_taggedTemplateLiteral(["<slot></slot>"]);return _templateObject97=function(){return e},e}function _templateObject96(){var e=_taggedTemplateLiteral(["<div>"," "," "," ","</div>"]);return _templateObject96=function(){return e},e}function _templateObject95(){var e=_taggedTemplateLiteral(["div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}"]);return _templateObject95=function(){return e},e}function _templateObject94(){var e=_taggedTemplateLiteral(['<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>']);return _templateObject94=function(){return e},e}function _templateObject93(){var e=_taggedTemplateLiteral(['<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="','" @click="','" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">',"</div></div>"]);return _templateObject93=function(){return e},e}function _templateObject92(){var e=_taggedTemplateLiteral([":host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}"]);return _templateObject92=function(){return e},e}function _templateObject91(){var e=_taggedTemplateLiteral(["<wcm-view-all-wallets-button></wcm-view-all-wallets-button>"]);return _templateObject91=function(){return e},e}function _templateObject90(){var e=_taggedTemplateLiteral(["<wcm-modal-content><div>"," ","</div></wcm-modal-content>"]);return _templateObject90=function(){return e},e}function _templateObject89(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="Connect your wallet" .onAction="','" .actionIcon="','"></wcm-modal-header>',""]);return _templateObject89=function(){return e},e}function _templateObject88(){var e=_taggedTemplateLiteral(["div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}"]);return _templateObject88=function(){return e},e}function _templateObject87(){var e=_taggedTemplateLiteral(['<a href="','" target="_blank" rel="noopener noreferrer">Privacy Policy</a>']);return _templateObject87=function(){return e},e}function _templateObject86(){var e=_taggedTemplateLiteral(['<a href="','" target="_blank" rel="noopener noreferrer">Terms of Service</a>']);return _templateObject86=function(){return e},e}function _templateObject85(){var e=_taggedTemplateLiteral(['<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app\'s '," "," ","</wcm-text></div>"]);return _templateObject85=function(){return e},e}function _templateObject84(){var e=_taggedTemplateLiteral(["div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}"]);return _templateObject84=function(){return e},e}function _templateObject83(){var e=_taggedTemplateLiteral(["<wcm-view-all-wallets-button></wcm-view-all-wallets-button>"]);return _templateObject83=function(){return e},e}function _templateObject82(){var e=_taggedTemplateLiteral(['<wcm-modal-footer><div class="wcm-desktop-title">','<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">'," ","</div></wcm-modal-footer>"]);return _templateObject82=function(){return e},e}function _templateObject81(){var e=_taggedTemplateLiteral(['<wcm-modal-header .border="','" title="Connect your wallet" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">','<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">','<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>',""]);return _templateObject81=function(){return e},e}function _templateObject80(){var e=_taggedTemplateLiteral([".wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}"]);return _templateObject80=function(){return e},e}function _templateObject79(){var e=_taggedTemplateLiteral(['<wcm-wallet-button name="','" walletId="','" imageId="','" .recent="','" .onClick="','"></wcm-wallet-button>']);return _templateObject79=function(){return e},e}function _templateObject78(){var e=_taggedTemplateLiteral(['<wcm-wallet-button name="','" walletId="','" imageId="','" .onClick="','"></wcm-wallet-button>']);return _templateObject78=function(){return e},e}function _templateObject77(){var e=_taggedTemplateLiteral(['<wcm-wallet-button walletId="','" name="','" .onClick="','"></wcm-wallet-button>']);return _templateObject77=function(){return e},e}function _templateObject76(){var e=_taggedTemplateLiteral(['<div class="','">','<wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="','">',"</wcm-text>"]);return _templateObject76=function(){return e},e}function _templateObject75(){var e=_taggedTemplateLiteral(['<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="','"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ','" stroke-dashoffset="','"></use></svg>']);return _templateObject75=function(){return e},e}function _templateObject74(){var e=_taggedTemplateLiteral(["@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}"]);return _templateObject74=function(){return e},e}function _templateObject73(){var e=_taggedTemplateLiteral(['<wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image>']);return _templateObject73=function(){return e},e}function _templateObject72(){var e=_taggedTemplateLiteral(['<wcm-modal-header title="Connect your wallet" .onAction="','" .actionIcon="','"></wcm-modal-header><wcm-modal-content><div class="wcm-title">','<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">','</div><wcm-button-big @click="','"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>']);return _templateObject72=function(){return e},e}function _templateObject71(){var e=_taggedTemplateLiteral(["@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}"]);return _templateObject71=function(){return e},e}function _templateObject70(){var e=_taggedTemplateLiteral(['<div><img crossorigin="anonymous" src="','" alt="','"></div>']);return _templateObject70=function(){return e},e}function _templateObject69(){var e=_taggedTemplateLiteral(["",""]);return _templateObject69=function(){return e},e}function _templateObject68(){var e=_taggedTemplateLiteral([":host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}"]);return _templateObject68=function(){return e},e}function _templateObject67(){var e=_taggedTemplateLiteral(['<button @click="','"><div><wcm-wallet-image walletId="','" imageId="','"></wcm-wallet-image><wcm-text variant="xsmall-regular">',"</wcm-text>","</div></button>"]);return _templateObject67=function(){return e},e}function _templateObject66(){var e=_taggedTemplateLiteral(['<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>']);return _templateObject66=function(){return e},e}function _templateObject65(){var e=_taggedTemplateLiteral(['<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>']);return _templateObject65=function(){return e},e}function _templateObject64(){var e=_taggedTemplateLiteral(["button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}"]);return _templateObject64=function(){return e},e}function _templateObject63(){var e=_taggedTemplateLiteral(['<span><slot class="','"></slot></span>']);return _templateObject63=function(){return e},e}function _templateObject62(){var e=_taggedTemplateLiteral(["span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}"]);return _templateObject62=function(){return e},e}function _templateObject61(){var e=_taggedTemplateLiteral(['<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>']);return _templateObject61=function(){return e},e}function _templateObject60(){var e=_taggedTemplateLiteral(["@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}"]);return _templateObject60=function(){return e},e}function _templateObject59(){var e=_taggedTemplateLiteral(['<input type="text" @input="','" placeholder="Search wallets"> ',""]);return _templateObject59=function(){return e},e}function _templateObject58(){var e=_taggedTemplateLiteral([":host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}"]);return _templateObject58=function(){return e},e}function _templateObject57(){var e=_taggedTemplateLiteral(['<wcm-wallet-image walletId="','" imageId="','" imageUrl="','"></wcm-wallet-image>']);return _templateObject57=function(){return e},e}function _templateObject56(){var e=_taggedTemplateLiteral(['<div style="','" class="','">'," ","</div>"]);return _templateObject56=function(){return e},e}function _templateObject55(){var e=_taggedTemplateLiteral(['<svg height="','" width="','">',"</svg>"]);return _templateObject55=function(){return e},e}function _templateObject54(){var e=_taggedTemplateLiteral(["@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}"]);return _templateObject54=function(){return e},e}function _templateObject53(){var e=_taggedTemplateLiteral(['<line x1="','" x2="','" y1="','" y2="','" stroke="','" stroke-width="','" stroke-linecap="round">']);return _templateObject53=function(){return e},e}function _templateObject52(){var e=_taggedTemplateLiteral(['<circle cx="','" cy="','" fill="','" r="','">']);return _templateObject52=function(){return e},e}function _templateObject51(){var e=_taggedTemplateLiteral(['<rect fill="','" height="','" rx="','" ry="','" width="','" x="','" y="','">']);return _templateObject51=function(){return e},e}function _templateObject50(){var e=_taggedTemplateLiteral(['<div class="','">'," ",'<wcm-text variant="small-regular">',"</wcm-text></div>"]);return _templateObject50=function(){return e},e}function _templateObject49(){var e=_taggedTemplateLiteral(["div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}"]);return _templateObject49=function(){return e},e}function _templateObject48(){var e=_taggedTemplateLiteral(['<div class="wcm-router"><div class="wcm-content">',"</div></div>"]);return _templateObject48=function(){return e},e}function _templateObject47(){var e=_taggedTemplateLiteral(["<div>Not Found</div>"]);return _templateObject47=function(){return e},e}function _templateObject46(){var e=_taggedTemplateLiteral(["<wcm-install-wallet-view></wcm-install-wallet-view>"]);return _templateObject46=function(){return e},e}function _templateObject45(){var e=_taggedTemplateLiteral(["<wcm-qrcode-view></wcm-qrcode-view>"]);return _templateObject45=function(){return e},e}function _templateObject44(){var e=_taggedTemplateLiteral(["<wcm-wallet-explorer-view></wcm-wallet-explorer-view>"]);return _templateObject44=function(){return e},e}function _templateObject43(){var e=_taggedTemplateLiteral(["<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>"]);return _templateObject43=function(){return e},e}function _templateObject42(){var e=_taggedTemplateLiteral(["<wcm-web-connecting-view></wcm-web-connecting-view>"]);return _templateObject42=function(){return e},e}function _templateObject41(){var e=_taggedTemplateLiteral(["<wcm-mobile-connecting-view></wcm-mobile-connecting-view>"]);return _templateObject41=function(){return e},e}function _templateObject40(){var e=_taggedTemplateLiteral(["<wcm-desktop-connecting-view></wcm-desktop-connecting-view>"]);return _templateObject40=function(){return e},e}function _templateObject39(){var e=_taggedTemplateLiteral(["<wcm-connect-wallet-view></wcm-connect-wallet-view>"]);return _templateObject39=function(){return e},e}function _templateObject38(){var e=_taggedTemplateLiteral([".wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}"]);return _templateObject38=function(){return e},e}function _templateObject37(){var e=_taggedTemplateLiteral(['<header class="','">'," "," ","</header>"]);return _templateObject37=function(){return e},e}function _templateObject36(){var e=_taggedTemplateLiteral(["<slot></slot>"]);return _templateObject36=function(){return e},e}function _templateObject35(){var e=_taggedTemplateLiteral(['<wcm-text variant="big-bold">',"</wcm-text>"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral(['<button class="wcm-action-btn" @click="','">',"</button>"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral(['<button class="wcm-back-btn" @click="','">',"</button>"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral(["header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral(["<footer><slot></slot></footer>"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral(["footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral(["<main><slot></slot></main>"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral(["main{padding:20px;padding-top:0;width:100%}"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral(['<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">',' <button @click="','">',"</button></div>"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([".wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>']);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral(['<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>']);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral(['<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>']);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral(['<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>']);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>']);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral(['<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>']);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral(['<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>']);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral(['<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>']);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral(['<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>']);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>']);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral(['<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>']);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral(['<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>']);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral(['<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>']);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral(['<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>']);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral(['<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>']);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral(['<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>']);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral(['<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>']);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral(['<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>']);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral(["<div><slot></slot></div>"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral(['<button ?disabled="','" class="','"><slot></slot></button>']);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral(['<button class="','" ?disabled="','" @click="','">','<wcm-text variant="small-regular" color="','"><slot></slot></wcm-text>',"</button>"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral(["button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral(["*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ownKeys(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){e=_superPropBase(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _wrapNativeSuper(e){var r="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(n,r.prototype),n}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function asyncGeneratorStep(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function i(e){asyncGeneratorStep(n,t,r,i,o,"next",e)}function o(e){asyncGeneratorStep(n,t,r,i,o,"throw",e)}i(void 0)})}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}!function(){var r={5849:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var a=r(5066);function n(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function s(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function p(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),l(e/4294967296>>>0,t,r),l(e>>>0,t,r+4),t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),f(e>>>0,t,r),f(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=n,t.writeInt16BE=n,t.writeUint16LE=i,t.writeInt16LE=i,t.readInt32BE=o,t.readUint32BE=s,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=l,t.writeInt32BE=l,t.writeUint32LE=f,t.writeInt32LE=f,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),t=o(e,t+4);return 4294967296*r+t-4294967296*(t>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*s(e,t)+s(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r},t.writeUint64BE=p,t.writeInt64BE=p,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;r<=o;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!a.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,o=e/8+n-1;n<=o;o--)r[o]=t/i&255,i*=256;return r},t.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!a.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+e/8;o++)r[o]=t/i&255,i*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},8842:function(e,t,r){var s=r(4034),c=r(998),u=r(3327),l=r(5849),f=r(4115);t.Cv=32,t.WH=12,t.pg=16;var p=new Uint8Array(16),r=(n.prototype.seal=function(e,t,r,n){if(16<e.length)throw new Error("ChaCha20Poly1305: incorrect nonce length");var i=new Uint8Array(16);i.set(e,i.length-e.length);var o=new Uint8Array(32);s.stream(this._key,i,o,4);var a,e=t.length+this.tagLength;if(n){if(n.length!==e)throw new Error("ChaCha20Poly1305: incorrect destination length");a=n}else a=new Uint8Array(e);return s.streamXOR(this._key,i,t,a,4),this._authenticate(a.subarray(a.length-this.tagLength,a.length),o,a.subarray(0,a.length-this.tagLength),r),u.wipe(i),a},n.prototype.open=function(e,t,r,n){if(16<e.length)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var i=new Uint8Array(16);i.set(e,i.length-e.length);var o=new Uint8Array(32);s.stream(this._key,i,o,4);e=new Uint8Array(this.tagLength);if(this._authenticate(e,o,t.subarray(0,t.length-this.tagLength),r),!f.equal(e,t.subarray(t.length-this.tagLength,t.length)))return null;var a,e=t.length-this.tagLength;if(n){if(n.length!==e)throw new Error("ChaCha20Poly1305: incorrect destination length");a=n}else a=new Uint8Array(e);return s.streamXOR(this._key,i,t.subarray(0,t.length-this.tagLength),a,4),u.wipe(i),a},n.prototype.clean=function(){return u.wipe(this._key),this},n.prototype._authenticate=function(e,t,r,n){var i=new c.Poly1305(t);n&&(i.update(n),0<n.length%16&&i.update(p.subarray(n.length%16))),i.update(r),0<r.length%16&&i.update(p.subarray(r.length%16));t=new Uint8Array(8);n&&l.writeUint64LE(n.length,t),i.update(t),l.writeUint64LE(r.length,t),i.update(t);for(var o=i.digest(),a=0;a<o.length;a++)e[a]=o[a];i.clean(),u.wipe(o),u.wipe(t)},n);function n(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}t.OK=r},4034:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var L=r(5849),l=r(3327),N=20;function i(e,t,r,n,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,a;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=(o=new Uint8Array(16)).length-t.length,o.set(t,a)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,a=i}for(var s=new Uint8Array(64),c=0;c<r.length;c+=64){!function(e,t,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],l=r[15]<<24|r[14]<<16|r[13]<<8|r[12],f=r[19]<<24|r[18]<<16|r[17]<<8|r[16],p=r[23]<<24|r[22]<<16|r[21]<<8|r[20],h=r[27]<<24|r[26]<<16|r[25]<<8|r[24],d=r[31]<<24|r[30]<<16|r[29]<<8|r[28],g=t[3]<<24|t[2]<<16|t[1]<<8|t[0],m=t[7]<<24|t[6]<<16|t[5]<<8|t[4],r=t[11]<<24|t[10]<<16|t[9]<<8|t[8],t=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=n,y=i,b=o,w=a,_=s,x=c,k=u,E=l,O=f,C=p,R=h,S=d,T=g,I=m,A=r,j=t,P=0;P<N;P+=2)_=(_^=O=O+(T=(T^=v=v+_|0)>>>16|T<<16)|0)>>>20|_<<12,x=(x^=C=C+(I=(I^=y=y+x|0)>>>16|I<<16)|0)>>>20|x<<12,k=(k^=R=R+(A=(A^=b=b+k|0)>>>16|A<<16)|0)>>>20|k<<12,E=(E^=S=S+(j=(j^=w=w+E|0)>>>16|j<<16)|0)>>>20|E<<12,k=(k^=R=R+(A=(A^=b=b+k|0)>>>24|A<<8)|0)>>>25|k<<7,E=(E^=S=S+(j=(j^=w=w+E|0)>>>24|j<<8)|0)>>>25|E<<7,x=(x^=C=C+(I=(I^=y=y+x|0)>>>24|I<<8)|0)>>>25|x<<7,_=(_^=O=O+(T=(T^=v=v+_|0)>>>24|T<<8)|0)>>>25|_<<7,x=(x^=R=R+(j=(j^=v=v+x|0)>>>16|j<<16)|0)>>>20|x<<12,k=(k^=S=S+(T=(T^=y=y+k|0)>>>16|T<<16)|0)>>>20|k<<12,E=(E^=O=O+(I=(I^=b=b+E|0)>>>16|I<<16)|0)>>>20|E<<12,_=(_^=C=C+(A=(A^=w=w+_|0)>>>16|A<<16)|0)>>>20|_<<12,E=(E^=O=O+(I=(I^=b=b+E|0)>>>24|I<<8)|0)>>>25|E<<7,_=(_^=C=C+(A=(A^=w=w+_|0)>>>24|A<<8)|0)>>>25|_<<7,k=(k^=S=S+(T=(T^=y=y+k|0)>>>24|T<<8)|0)>>>25|k<<7,x=(x^=R=R+(j=(j^=v=v+x|0)>>>24|j<<8)|0)>>>25|x<<7;L.writeUint32LE(v+n|0,e,0),L.writeUint32LE(y+i|0,e,4),L.writeUint32LE(b+o|0,e,8),L.writeUint32LE(w+a|0,e,12),L.writeUint32LE(_+s|0,e,16),L.writeUint32LE(x+c|0,e,20),L.writeUint32LE(k+u|0,e,24),L.writeUint32LE(E+l|0,e,28),L.writeUint32LE(O+f|0,e,32),L.writeUint32LE(C+p|0,e,36),L.writeUint32LE(R+h|0,e,40),L.writeUint32LE(S+d|0,e,44),L.writeUint32LE(T+g|0,e,48),L.writeUint32LE(I+m|0,e,52),L.writeUint32LE(A+r|0,e,56),L.writeUint32LE(j+t|0,e,60)}(s,o,e);for(var u=c;u<c+64&&u<r.length;u++)n[u]=r[u]^s[u-c];!function(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(0<n)throw new Error("ChaCha: counter overflow")}(o,0,a)}return l.wipe(s),0===i&&l.wipe(o),n}t.streamXOR=i,t.stream=function(e,t,r,n){return void 0===n&&(n=0),l.wipe(r),i(e,t,r,r,n)}},4115:function(e,t){function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},4972:function(e,i,t){i.Xx=i._w=i.aP=i.KS=i.jQ=void 0,t(4022);var p=t(4455);function h(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}t(3327),i.jQ=64,i.KS=64,i.aP=32,new Uint8Array(32)[0]=9;var o=h(),a=h([1]),f=(h([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),n=h([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),s=h([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function c(e,t){for(var r=0;r<16;r++)e[r]=0|t[r]}function u(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535,t=Math.floor(n/65536);e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var o=n&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function d(e,t){for(var r=h(),n=h(),i=0;i<16;i++)n[i]=t[i];u(n),u(n),u(n);for(var o=0;o<2;o++){r[0]=n[0]-65517;for(var a=1;a<15;a++)r[a]=n[a]-65535-(r[a-1]>>16&1),r[a-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var s=r[15]>>16&1;r[14]&=65535,l(n,r,1-s)}for(var c=0;c<16;c++)e[2*c]=255&n[c],e[2*c+1]=n[c]>>8}function g(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function m(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function v(e,t,r){var n=0,i=0,o=0,a=0,s=0,c=0,u=0,l=0,f=0,p=0,h=0,d=0,g=0,m=0,v=0,y=0,b=0,w=0,_=0,x=0,k=0,E=0,O=0,C=0,R=0,S=0,T=0,I=0,A=0,j=0,P=0,L=r[0],N=r[1],M=r[2],U=r[3],D=r[4],z=r[5],G=r[6],W=r[7],B=r[8],H=r[9],q=r[10],V=r[11],F=r[12],K=r[13],$=r[14],Y=r[15],r=t[0];n+=r*L,i+=r*N,o+=r*M,a+=r*U,s+=r*D,c+=r*z,u+=r*G,l+=r*W,f+=r*B,p+=r*H,h+=r*q,d+=r*V,g+=r*F,m+=r*K,v+=r*$,y+=r*Y,i+=(r=t[1])*L,o+=r*N,a+=r*M,s+=r*U,c+=r*D,u+=r*z,l+=r*G,f+=r*W,p+=r*B,h+=r*H,d+=r*q,g+=r*V,m+=r*F,v+=r*K,y+=r*$,b+=r*Y,o+=(r=t[2])*L,a+=r*N,s+=r*M,c+=r*U,u+=r*D,l+=r*z,f+=r*G,p+=r*W,h+=r*B,d+=r*H,g+=r*q,m+=r*V,v+=r*F,y+=r*K,b+=r*$,w+=r*Y,a+=(r=t[3])*L,s+=r*N,c+=r*M,u+=r*U,l+=r*D,f+=r*z,p+=r*G,h+=r*W,d+=r*B,g+=r*H,m+=r*q,v+=r*V,y+=r*F,b+=r*K,w+=r*$,_+=r*Y,s+=(r=t[4])*L,c+=r*N,u+=r*M,l+=r*U,f+=r*D,p+=r*z,h+=r*G,d+=r*W,g+=r*B,m+=r*H,v+=r*q,y+=r*V,b+=r*F,w+=r*K,_+=r*$,x+=r*Y,c+=(r=t[5])*L,u+=r*N,l+=r*M,f+=r*U,p+=r*D,h+=r*z,d+=r*G,g+=r*W,m+=r*B,v+=r*H,y+=r*q,b+=r*V,w+=r*F,_+=r*K,x+=r*$,k+=r*Y,u+=(r=t[6])*L,l+=r*N,f+=r*M,p+=r*U,h+=r*D,d+=r*z,g+=r*G,m+=r*W,v+=r*B,y+=r*H,b+=r*q,w+=r*V,_+=r*F,x+=r*K,k+=r*$,E+=r*Y,l+=(r=t[7])*L,f+=r*N,p+=r*M,h+=r*U,d+=r*D,g+=r*z,m+=r*G,v+=r*W,y+=r*B,b+=r*H,w+=r*q,_+=r*V,x+=r*F,k+=r*K,E+=r*$,O+=r*Y,f+=(r=t[8])*L,p+=r*N,h+=r*M,d+=r*U,g+=r*D,m+=r*z,v+=r*G,y+=r*W,b+=r*B,w+=r*H,_+=r*q,x+=r*V,k+=r*F,E+=r*K,O+=r*$,C+=r*Y,p+=(r=t[9])*L,h+=r*N,d+=r*M,g+=r*U,m+=r*D,v+=r*z,y+=r*G,b+=r*W,w+=r*B,_+=r*H,x+=r*q,k+=r*V,E+=r*F,O+=r*K,C+=r*$,R+=r*Y,h+=(r=t[10])*L,d+=r*N,g+=r*M,m+=r*U,v+=r*D,y+=r*z,b+=r*G,w+=r*W,_+=r*B,x+=r*H,k+=r*q,E+=r*V,O+=r*F,C+=r*K,R+=r*$,S+=r*Y,d+=(r=t[11])*L,g+=r*N,m+=r*M,v+=r*U,y+=r*D,b+=r*z,w+=r*G,_+=r*W,x+=r*B,k+=r*H,E+=r*q,O+=r*V,C+=r*F,R+=r*K,S+=r*$,T+=r*Y,g+=(r=t[12])*L,m+=r*N,v+=r*M,y+=r*U,b+=r*D,w+=r*z,_+=r*G,x+=r*W,k+=r*B,E+=r*H,O+=r*q,C+=r*V,R+=r*F,S+=r*K,T+=r*$,I+=r*Y,m+=(r=t[13])*L,v+=r*N,y+=r*M,b+=r*U,w+=r*D,_+=r*z,x+=r*G,k+=r*W,E+=r*B,O+=r*H,C+=r*q,R+=r*V,S+=r*F,T+=r*K,I+=r*$,A+=r*Y,v+=(r=t[14])*L,y+=r*N,b+=r*M,w+=r*U,_+=r*D,x+=r*z,k+=r*G,E+=r*W,O+=r*B,C+=r*H,R+=r*q,S+=r*V,T+=r*F,I+=r*K,A+=r*$,j+=r*Y,y+=(r=t[15])*L,i+=38*(w+=r*M),o+=38*(_+=r*U),a+=38*(x+=r*D),s+=38*(k+=r*z),c+=38*(E+=r*G),u+=38*(O+=r*W),l+=38*(C+=r*B),f+=38*(R+=r*H),p+=38*(S+=r*q),h+=38*(T+=r*V),d+=38*(I+=r*F),g+=38*(A+=r*K),m+=38*(j+=r*$),v+=38*(P+=r*Y),n=(r=1+(n+=38*(b+=r*N))+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),n=(r=1+n+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=c,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=h,e[11]=d,e[12]=g,e[13]=m,e[14]=v,e[15]=y}function y(e,t){var r=h(),n=h(),i=h(),o=h(),a=h(),s=h(),c=h(),u=h(),l=h();m(r,e[1],e[0]),m(l,t[1],t[0]),v(r,r,l),g(n,e[0],e[1]),g(l,t[0],t[1]),v(n,n,l),v(i,e[3],t[3]),v(i,i,f),v(o,e[2],t[2]),g(o,o,o),m(a,n,r),m(s,o,i),g(c,o,i),g(u,n,r),v(e[0],a,s),v(e[1],u,c),v(e[2],c,s),v(e[3],a,u)}function b(e,t,r){for(var n=0;n<4;n++)l(e[n],t[n],r)}function w(e,t){var r=h(),n=h(),i=h();(function(e,t){for(var r,n=h(),i=0;i<16;i++)n[i]=t[i];for(i=253;0<=i;i--)v(n,r=n,r),2!==i&&4!==i&&v(n,n,t);for(i=0;i<16;i++)e[i]=n[i]})(i,t[2]),v(r,t[0],i),v(n,t[1],i),d(e,n),e[31]^=(e=r,d(r=new Uint8Array(32),e),(1&r[0])<<7)}function _(e,t){var r=[h(),h(),h(),h()];c(r[0],n),c(r[1],s),c(r[2],a),v(r[3],n,s),function(e,t,r){c(e[0],o),c(e[1],a),c(e[2],a),c(e[3],o);for(var n=255;0<=n;--n){var i=r[n/8|0]>>(7&n)&1;b(e,t,i),y(t,e),y(e,e),b(e,t,i)}}(e,r,t)}h([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),i._w=function(e){if(e.length!==i.aP)throw new Error("ed25519: seed must be ".concat(i.aP," bytes"));var t=(0,p.hash)(e);t[0]&=248,t[31]&=127,t[31]|=64;var r=new Uint8Array(32),n=[h(),h(),h(),h()];_(n,t),w(r,n);n=new Uint8Array(64);return n.set(e),n.set(r,32),{publicKey:r,secretKey:n}};var x=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k(e,t){for(var r,n,i,o=63;32<=o;--o){for(r=0,n=o-32,i=o-12;n<i;++n)t[n]+=r-16*t[o]*x[n-(o-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[o]=0}for(n=r=0;n<32;n++)t[n]+=r-(t[31]>>4)*x[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*x[n];for(o=0;o<32;o++)t[o+1]+=t[o]>>8,e[o]=255&t[o]}function E(e){for(var t=new Float64Array(64),r=0;r<64;r++)t[r]=e[r];for(var n=0;n<64;n++)e[n]=0;k(e,t)}i.Xx=function(e,t){var r=new Float64Array(64),n=[h(),h(),h(),h()],i=(0,p.hash)(e.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;var o=new Uint8Array(64);o.set(i.subarray(32),32);var a=new p.SHA512;a.update(o.subarray(32)),a.update(t);var s=a.digest();a.clean(),E(s),_(n,s),w(o,n),a.reset(),a.update(o.subarray(0,32)),a.update(e.subarray(32)),a.update(t);var c=a.digest();E(c);for(var u=0;u<32;u++)r[u]=s[u];for(var l=0;l<32;l++)for(var f=0;f<32;f++)r[l+f]+=c[l]*i[f];return k(o.subarray(32),r),o}},802:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},5393:function(e,t,r){var i=r(3012),n=r(3327),r=(o.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),1<e&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},o.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},o.prototype.clean=function(){this._hmac.clean(),n.wipe(this._buffer),n.wipe(this._counter),this._bufpos=0},o);function o(e,t,r,n){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;t=i.hmac(this._hash,r,t);this._hmac=new i.HMAC(e,t),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}t.t=r},3012:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=r(802),n=r(4115),o=r(3327),a=(s.prototype.reset=function(){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},s.prototype.clean=function(){i.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),i.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},s.prototype.update=function(e){return this._inner.update(e),this},s.prototype.finish=function(e){return this._finished?this._outer.finish(e):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0),this},s.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},s.prototype.saveState=function(){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},s.prototype.restoreState=function(e){if(!i.isSerializableHash(this._inner)||!i.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},s.prototype.cleanSavedState=function(e){if(!i.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},s);function s(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var n=0;n<r.length;n++)r[n]^=54;for(this._inner.update(r),n=0;n<r.length;n++)r[n]^=106;this._outer.update(r),i.isSerializableHash(this._inner)&&i.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),o.wipe(r)}t.HMAC=a,t.hmac=function(e,t,r){t=new a(e,t);t.update(r);r=t.digest();return t.clean(),r},t.equal=n.equal},5066:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},998:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var r=t(4115),i=t(3327);n.DIGEST_LENGTH=16;var o=(a.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],a=this._h[2],s=this._h[3],c=this._h[4],u=this._h[5],l=this._h[6],f=this._h[7],p=this._h[8],h=this._h[9],d=this._r[0],g=this._r[1],m=this._r[2],v=this._r[3],y=this._r[4],b=this._r[5],w=this._r[6],_=this._r[7],x=this._r[8],k=this._r[9];16<=r;){var E=e[t+0]|e[t+1]<<8;i+=8191&E;var O=e[t+2]|e[t+3]<<8;o+=8191&(E>>>13|O<<3);var C=e[t+4]|e[t+5]<<8;a+=8191&(O>>>10|C<<6);var R=e[t+6]|e[t+7]<<8;s+=8191&(C>>>7|R<<9);var S=e[t+8]|e[t+9]<<8;c+=8191&(R>>>4|S<<12),u+=S>>>1&8191;var T=e[t+10]|e[t+11]<<8;l+=8191&(S>>>14|T<<2);var I=e[t+12]|e[t+13]<<8;f+=8191&(T>>>11|I<<5);var A,j=e[t+14]|e[t+15]<<8,P=0;P+=i*d,P+=o*(5*k),P+=a*(5*x),P+=s*(5*_),A=(P+=c*(5*w))>>>13,P&=8191,P+=u*(5*b),P+=l*(5*y),P+=f*(5*v),P+=(p+=8191&(I>>>8|j<<8))*(5*m);var L=A+=(P+=(h+=j>>>5|n)*(5*g))>>>13;L+=i*g,L+=o*d,L+=a*(5*k),L+=s*(5*x),A=(L+=c*(5*_))>>>13,L&=8191,L+=u*(5*w),L+=l*(5*b),L+=f*(5*y),L+=p*(5*v),A+=(L+=h*(5*m))>>>13,L&=8191;E=A;E+=i*m,E+=o*g,E+=a*d,E+=s*(5*k),A=(E+=c*(5*x))>>>13,E&=8191,E+=u*(5*_),E+=l*(5*w),E+=f*(5*b),E+=p*(5*y);O=A+=(E+=h*(5*v))>>>13;O+=i*v,O+=o*m,O+=a*g,O+=s*d,A=(O+=c*(5*k))>>>13,O&=8191,O+=u*(5*x),O+=l*(5*_),O+=f*(5*w),O+=p*(5*b);C=A+=(O+=h*(5*y))>>>13;C+=i*y,C+=o*v,C+=a*m,C+=s*g,A=(C+=c*d)>>>13,C&=8191,C+=u*(5*k),C+=l*(5*x),C+=f*(5*_),C+=p*(5*w);R=A+=(C+=h*(5*b))>>>13;R+=i*b,R+=o*y,R+=a*v,R+=s*m,A=(R+=c*g)>>>13,R&=8191,R+=u*d,R+=l*(5*k),R+=f*(5*x),R+=p*(5*_);S=A+=(R+=h*(5*w))>>>13;S+=i*w,S+=o*b,S+=a*y,S+=s*v,A=(S+=c*m)>>>13,S&=8191,S+=u*g,S+=l*d,S+=f*(5*k),S+=p*(5*x);T=A+=(S+=h*(5*_))>>>13;T+=i*_,T+=o*w,T+=a*b,T+=s*y,A=(T+=c*v)>>>13,T&=8191,T+=u*m,T+=l*g,T+=f*d,T+=p*(5*k);I=A+=(T+=h*(5*x))>>>13;I+=i*x,I+=o*_,I+=a*w,I+=s*b,A=(I+=c*y)>>>13,I&=8191,I+=u*v,I+=l*m,I+=f*g,I+=p*d;j=A+=(I+=h*(5*k))>>>13;j+=i*k,j+=o*x,j+=a*_,j+=s*w,A=(j+=c*b)>>>13,j&=8191,j+=u*y,j+=l*v,j+=f*m,j+=p*g,i=8191&(A=(((A+=(j+=h*d)>>>13)<<2)+A|0)+(P&=8191)|0),o=L+=A>>>=13,a=E&=8191,s=O&=8191,c=C&=8191,u=R&=8191,l=S&=8191,f=T&=8191,p=I&=8191,h=j&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=a,this._h[3]=s,this._h[4]=c,this._h[5]=u,this._h[6]=l,this._h[7]=f,this._h[8]=p,this._h[9]=h},a.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,a=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,a[0]=this._h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this._h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this._h[o]=this._h[o]&n|a[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(16<=n&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},a.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a);function a(e){this.digestLength=n.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=8191&t;var r=e[2]|e[3]<<8;this._r[1]=8191&(t>>>13|r<<3);t=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|t<<6);r=e[6]|e[7]<<8;this._r[3]=8191&(t>>>7|r<<9);t=e[8]|e[9]<<8;this._r[4]=255&(r>>>4|t<<12),this._r[5]=t>>>1&8190;r=e[10]|e[11]<<8;this._r[6]=8191&(t>>>14|r<<2);t=e[12]|e[13]<<8;this._r[7]=8065&(r>>>11|t<<5);r=e[14]|e[15]<<8;this._r[8]=8191&(t>>>8|r<<8),this._r[9]=r>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}n.Poly1305=o,n.oneTimeAuth=function(e,t){e=new o(e);e.update(t);t=e.digest();return e.clean(),t},n.equal=function(e,t){return e.length===n.DIGEST_LENGTH&&t.length===n.DIGEST_LENGTH&&r.equal(e,t)}},4022:function(e,u,t){Object.defineProperty(u,"__esModule",{value:!0}),u.randomStringForEntropy=u.randomString=u.randomUint32=u.randomBytes=u.defaultRandomSource=void 0;var r=t(6490),n=t(5849),l=t(3327);function f(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u.defaultRandomSource).randomBytes(e)}u.defaultRandomSource=new r.SystemRandomSource,u.randomBytes=f,u.randomUint32=function(){var e=f(4,0<arguments.length&&void 0!==arguments[0]?arguments[0]:u.defaultRandomSource),t=(0,n.readUint32LE)(e);return(0,l.wipe)(e),t};var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u.defaultRandomSource;if(t.length<2)throw new Error("randomString charset is too short");if(256<t.length)throw new Error("randomString charset is too long");for(var n="",i=t.length,o=256-256%i;0<e;){for(var a=f(Math.ceil(256*e/o),r),s=0;s<a.length&&0<e;s++){var c=a[s];c<o&&(n+=t.charAt(c%i),e--)}(0,l.wipe)(a)}return n}u.randomString=i,u.randomStringForEntropy=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u.defaultRandomSource;return i(Math.ceil(e/(Math.log(t.length)/Math.LN2)),t,r)}},7391:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=function(){function t(){_classCallCheck(this,t),this.isAvailable=!1,this.isInstantiated=!1;var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return _createClass(t,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}}]),t}()},5323:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;var i=r(3327);t.NodeRandomSource=function(){function t(){_classCallCheck(this,t),this.isAvailable=!1,this.isInstantiated=!1;var e=r(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return _createClass(t,[{key:"randomBytes",value:function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=t[n];return(0,i.wipe)(t),r}}]),t}()},6490:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;var n=r(7391),i=r(5323);t.SystemRandomSource=function(){function e(){return _classCallCheck(this,e),this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return _createClass(e,[{key:"randomBytes",value:function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}]),e}()},1548:function(e,t,r){var y=r(5849),n=r(3327);t.k=32,t.cn=64;var i=(o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},o.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,0<this._bufferLength){for(;this._bufferLength<this.blockSize&&0<t;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=s(this._temp,this._state,e,r,t),t%=this.blockSize);0<t;)this._buffer[this._bufferLength++]=e[r++],t--;return this},o.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,i=t<<3,o=t%64<56?64:128;this._buffer[r]=128;for(var a=r+1;a<o-8;a++)this._buffer[a]=0;y.writeUint32BE(n,this._buffer,o-8),y.writeUint32BE(i,this._buffer,o-4),s(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(a=0;a<this.digestLength/4;a++)y.writeUint32BE(this._state[a],e,4*a);return this},o.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:0<this._bufferLength?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},o);function o(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}t.mE=i;var b=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(e,t,r,n,i){for(;64<=i;){for(var o=t[0],a=t[1],s=t[2],c=t[3],u=t[4],l=t[5],f=t[6],p=t[7],h=0;h<16;h++){var d=n+4*h;e[h]=y.readUint32BE(r,d)}for(h=16;h<64;h++){var g=e[h-2],m=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,v=((g=e[h-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;e[h]=(m+e[h-7]|0)+(v+e[h-16]|0)}for(h=0;h<64;h++)m=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(p+(b[h]+e[h]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&s^a&s)|0,p=f,f=l,l=u,u=c+m|0,c=s,s=a,a=o,o=m+v|0;t[0]+=o,t[1]+=a,t[2]+=s,t[3]+=c,t[4]+=u,t[5]+=l,t[6]+=f,t[7]+=p,n+=64,i-=64}return n}t.vp=function(e){var t=new i;t.update(e);e=t.digest();return t.clean(),e}},4455:function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var K=t(5849),r=t(3327);n.DIGEST_LENGTH=64,n.BLOCK_SIZE=128;var i=(o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},o.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,0<this._bufferLength){for(;this._bufferLength<n.BLOCK_SIZE&&0<t;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,t),t%=this.blockSize);0<t;)this._buffer[this._bufferLength++]=e[r++],t--;return this},o.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,n=t/536870912|0,i=t<<3,o=t%128<112?128:256;this._buffer[r]=128;for(var a=r+1;a<o-8;a++)this._buffer[a]=0;K.writeUint32BE(n,this._buffer,o-8),K.writeUint32BE(i,this._buffer,o-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(a=0;a<this.digestLength/8;a++)K.writeUint32BE(this._stateHi[a],e,8*a),K.writeUint32BE(this._stateLo[a],e,8*a+4);return this},o.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:0<this._bufferLength?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(e){r.wipe(e.stateHi),r.wipe(e.stateLo),e.buffer&&r.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},o);function o(){this.digestLength=n.DIGEST_LENGTH,this.blockSize=n.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}n.SHA512=i;var $=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(e,t,r,n,i,o,a){for(var s,c,u,l,f=r[0],p=r[1],h=r[2],d=r[3],g=r[4],m=r[5],v=r[6],y=r[7],b=n[0],w=n[1],_=n[2],x=n[3],k=n[4],E=n[5],O=n[6],C=n[7];128<=a;){for(var R=0;R<16;R++){var S=8*R+o;e[R]=K.readUint32BE(i,S),t[R]=K.readUint32BE(i,S+4)}for(R=0;R<80;R++){var T,I,A=p,j=h,P=d,L=g,N=m,M=v,U=w,D=_,z=x,G=k,W=E,B=O,H=65535&(c=C),q=c>>>16,V=65535&(s=y),F=s>>>16;if(H+=65535&(c=(k>>>14|g<<18)^(k>>>18|g<<14)^(g>>>9|k<<23)),q+=c>>>16,V+=65535&(s=(g>>>14|k<<18)^(g>>>18|k<<14)^(k>>>9|g<<23)),F+=s>>>16,H+=65535&(c=k&E^~k&O),q+=c>>>16,V+=65535&(s=g&m^~g&v),F+=s>>>16,s=$[2*R],H+=65535&(c=$[2*R+1]),q+=c>>>16,V+=65535&s,F+=s>>>16,s=e[R%16],q+=(c=t[R%16])>>>16,V+=65535&s,F+=s>>>16,V+=(q+=(H+=65535&c)>>>16)>>>16,H=65535&(c=l=65535&H|q<<16),q=c>>>16,V=65535&(s=u=65535&V|(F+=V>>>16)<<16),F=s>>>16,H+=65535&(c=(b>>>28|f<<4)^(f>>>2|b<<30)^(f>>>7|b<<25)),q+=c>>>16,V+=65535&(s=(f>>>28|b<<4)^(b>>>2|f<<30)^(b>>>7|f<<25)),F+=s>>>16,q+=(c=b&w^b&_^w&_)>>>16,V+=65535&(s=f&p^f&h^p&h),F+=s>>>16,T=65535&(V+=(q+=(H+=65535&c)>>>16)>>>16)|(F+=V>>>16)<<16,I=65535&H|q<<16,H=65535&(c=z),q=c>>>16,V=65535&(s=P),F=s>>>16,q+=(c=l)>>>16,V+=65535&(s=u),F+=s>>>16,p=f,h=A,d=j,g=65535&(V+=(q+=(H+=65535&c)>>>16)>>>16)|(F+=V>>>16)<<16,m=L,v=N,y=M,f=T,w=b,_=U,x=D,k=65535&H|q<<16,E=G,O=W,C=B,b=I,R%16==15)for(S=0;S<16;S++)s=e[S],H=65535&(c=t[S]),q=c>>>16,V=65535&s,F=s>>>16,s=e[(S+9)%16],H+=65535&(c=t[(S+9)%16]),q+=c>>>16,V+=65535&s,F+=s>>>16,u=e[(S+1)%16],H+=65535&(c=((l=t[(S+1)%16])>>>1|u<<31)^(l>>>8|u<<24)^(l>>>7|u<<25)),q+=c>>>16,V+=65535&(s=(u>>>1|l<<31)^(u>>>8|l<<24)^u>>>7),F+=s>>>16,u=e[(S+14)%16],q+=(c=((l=t[(S+14)%16])>>>19|u<<13)^(u>>>29|l<<3)^(l>>>6|u<<26))>>>16,V+=65535&(s=(u>>>19|l<<13)^(l>>>29|u<<3)^u>>>6),F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,e[S]=65535&V|F<<16,t[S]=65535&H|q<<16}H=65535&(c=b),q=c>>>16,V=65535&(s=f),F=s>>>16,s=r[0],q+=(c=n[0])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[0]=f=65535&V|F<<16,n[0]=b=65535&H|q<<16,H=65535&(c=w),q=c>>>16,V=65535&(s=p),F=s>>>16,s=r[1],q+=(c=n[1])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[1]=p=65535&V|F<<16,n[1]=w=65535&H|q<<16,H=65535&(c=_),q=c>>>16,V=65535&(s=h),F=s>>>16,s=r[2],q+=(c=n[2])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[2]=h=65535&V|F<<16,n[2]=_=65535&H|q<<16,H=65535&(c=x),q=c>>>16,V=65535&(s=d),F=s>>>16,s=r[3],q+=(c=n[3])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[3]=d=65535&V|F<<16,n[3]=x=65535&H|q<<16,H=65535&(c=k),q=c>>>16,V=65535&(s=g),F=s>>>16,s=r[4],q+=(c=n[4])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[4]=g=65535&V|F<<16,n[4]=k=65535&H|q<<16,H=65535&(c=E),q=c>>>16,V=65535&(s=m),F=s>>>16,s=r[5],q+=(c=n[5])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[5]=m=65535&V|F<<16,n[5]=E=65535&H|q<<16,H=65535&(c=O),q=c>>>16,V=65535&(s=v),F=s>>>16,s=r[6],q+=(c=n[6])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[6]=v=65535&V|F<<16,n[6]=O=65535&H|q<<16,H=65535&(c=C),q=c>>>16,V=65535&(s=y),F=s>>>16,s=r[7],q+=(c=n[7])>>>16,V+=65535&s,F+=s>>>16,F+=(V+=(q+=(H+=65535&c)>>>16)>>>16)>>>16,r[7]=y=65535&V|F<<16,n[7]=C=65535&H|q<<16,o+=128,a-=128}return o}n.hash=function(e){var t=new i;t.update(e);e=t.digest();return t.clean(),e}},3327:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},5492:function(e,a,t){a.gi=a.Au=a.KS=a.kz=void 0;var r=t(4022),n=t(3327);function m(e){var t=new Float64Array(16);if(e)for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.kz=32,a.KS=32;var i=new Uint8Array(32);i[0]=9;var v=m([56129,1]);function y(e){for(var t=1,r=0;r<16;r++){var n=e[r]+t+65535,t=Math.floor(n/65536);e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function b(e,t,r){for(var n=~(r-1),i=0;i<16;i++){var o=n&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function w(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function _(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function x(e,t,r){var n=0,i=0,o=0,a=0,s=0,c=0,u=0,l=0,f=0,p=0,h=0,d=0,g=0,m=0,v=0,y=0,b=0,w=0,_=0,x=0,k=0,E=0,O=0,C=0,R=0,S=0,T=0,I=0,A=0,j=0,P=0,L=r[0],N=r[1],M=r[2],U=r[3],D=r[4],z=r[5],G=r[6],W=r[7],B=r[8],H=r[9],q=r[10],V=r[11],F=r[12],K=r[13],$=r[14],Y=r[15],r=t[0];n+=r*L,i+=r*N,o+=r*M,a+=r*U,s+=r*D,c+=r*z,u+=r*G,l+=r*W,f+=r*B,p+=r*H,h+=r*q,d+=r*V,g+=r*F,m+=r*K,v+=r*$,y+=r*Y,i+=(r=t[1])*L,o+=r*N,a+=r*M,s+=r*U,c+=r*D,u+=r*z,l+=r*G,f+=r*W,p+=r*B,h+=r*H,d+=r*q,g+=r*V,m+=r*F,v+=r*K,y+=r*$,b+=r*Y,o+=(r=t[2])*L,a+=r*N,s+=r*M,c+=r*U,u+=r*D,l+=r*z,f+=r*G,p+=r*W,h+=r*B,d+=r*H,g+=r*q,m+=r*V,v+=r*F,y+=r*K,b+=r*$,w+=r*Y,a+=(r=t[3])*L,s+=r*N,c+=r*M,u+=r*U,l+=r*D,f+=r*z,p+=r*G,h+=r*W,d+=r*B,g+=r*H,m+=r*q,v+=r*V,y+=r*F,b+=r*K,w+=r*$,_+=r*Y,s+=(r=t[4])*L,c+=r*N,u+=r*M,l+=r*U,f+=r*D,p+=r*z,h+=r*G,d+=r*W,g+=r*B,m+=r*H,v+=r*q,y+=r*V,b+=r*F,w+=r*K,_+=r*$,x+=r*Y,c+=(r=t[5])*L,u+=r*N,l+=r*M,f+=r*U,p+=r*D,h+=r*z,d+=r*G,g+=r*W,m+=r*B,v+=r*H,y+=r*q,b+=r*V,w+=r*F,_+=r*K,x+=r*$,k+=r*Y,u+=(r=t[6])*L,l+=r*N,f+=r*M,p+=r*U,h+=r*D,d+=r*z,g+=r*G,m+=r*W,v+=r*B,y+=r*H,b+=r*q,w+=r*V,_+=r*F,x+=r*K,k+=r*$,E+=r*Y,l+=(r=t[7])*L,f+=r*N,p+=r*M,h+=r*U,d+=r*D,g+=r*z,m+=r*G,v+=r*W,y+=r*B,b+=r*H,w+=r*q,_+=r*V,x+=r*F,k+=r*K,E+=r*$,O+=r*Y,f+=(r=t[8])*L,p+=r*N,h+=r*M,d+=r*U,g+=r*D,m+=r*z,v+=r*G,y+=r*W,b+=r*B,w+=r*H,_+=r*q,x+=r*V,k+=r*F,E+=r*K,O+=r*$,C+=r*Y,p+=(r=t[9])*L,h+=r*N,d+=r*M,g+=r*U,m+=r*D,v+=r*z,y+=r*G,b+=r*W,w+=r*B,_+=r*H,x+=r*q,k+=r*V,E+=r*F,O+=r*K,C+=r*$,R+=r*Y,h+=(r=t[10])*L,d+=r*N,g+=r*M,m+=r*U,v+=r*D,y+=r*z,b+=r*G,w+=r*W,_+=r*B,x+=r*H,k+=r*q,E+=r*V,O+=r*F,C+=r*K,R+=r*$,S+=r*Y,d+=(r=t[11])*L,g+=r*N,m+=r*M,v+=r*U,y+=r*D,b+=r*z,w+=r*G,_+=r*W,x+=r*B,k+=r*H,E+=r*q,O+=r*V,C+=r*F,R+=r*K,S+=r*$,T+=r*Y,g+=(r=t[12])*L,m+=r*N,v+=r*M,y+=r*U,b+=r*D,w+=r*z,_+=r*G,x+=r*W,k+=r*B,E+=r*H,O+=r*q,C+=r*V,R+=r*F,S+=r*K,T+=r*$,I+=r*Y,m+=(r=t[13])*L,v+=r*N,y+=r*M,b+=r*U,w+=r*D,_+=r*z,x+=r*G,k+=r*W,E+=r*B,O+=r*H,C+=r*q,R+=r*V,S+=r*F,T+=r*K,I+=r*$,A+=r*Y,v+=(r=t[14])*L,y+=r*N,b+=r*M,w+=r*U,_+=r*D,x+=r*z,k+=r*G,E+=r*W,O+=r*B,C+=r*H,R+=r*q,S+=r*V,T+=r*F,I+=r*K,A+=r*$,j+=r*Y,y+=(r=t[15])*L,i+=38*(w+=r*M),o+=38*(_+=r*U),a+=38*(x+=r*D),s+=38*(k+=r*z),c+=38*(E+=r*G),u+=38*(O+=r*W),l+=38*(C+=r*B),f+=38*(R+=r*H),p+=38*(S+=r*q),h+=38*(T+=r*V),d+=38*(I+=r*F),g+=38*(A+=r*K),m+=38*(j+=r*$),v+=38*(P+=r*Y),n=(r=1+(n+=38*(b+=r*N))+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),n=(r=1+n+65535)-65536*(P=Math.floor(r/65536)),i=(r=i+P+65535)-65536*(P=Math.floor(r/65536)),o=(r=o+P+65535)-65536*(P=Math.floor(r/65536)),a=(r=a+P+65535)-65536*(P=Math.floor(r/65536)),s=(r=s+P+65535)-65536*(P=Math.floor(r/65536)),c=(r=c+P+65535)-65536*(P=Math.floor(r/65536)),u=(r=u+P+65535)-65536*(P=Math.floor(r/65536)),l=(r=l+P+65535)-65536*(P=Math.floor(r/65536)),f=(r=f+P+65535)-65536*(P=Math.floor(r/65536)),p=(r=p+P+65535)-65536*(P=Math.floor(r/65536)),h=(r=h+P+65535)-65536*(P=Math.floor(r/65536)),d=(r=d+P+65535)-65536*(P=Math.floor(r/65536)),g=(r=g+P+65535)-65536*(P=Math.floor(r/65536)),m=(r=m+P+65535)-65536*(P=Math.floor(r/65536)),v=(r=v+P+65535)-65536*(P=Math.floor(r/65536)),y=(r=y+P+65535)-65536*(P=Math.floor(r/65536)),n+=P-1+37*(P-1),e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=c,e[6]=u,e[7]=l,e[8]=f,e[9]=p,e[10]=h,e[11]=d,e[12]=g,e[13]=m,e[14]=v,e[15]=y}function k(e,t){x(e,t,t)}function s(e,t){for(var r=new Uint8Array(32),n=new Float64Array(80),i=m(),o=m(),a=m(),s=m(),c=m(),u=m(),l=0;l<31;l++)r[l]=e[l];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(var f=0;f<16;f++)o[f]=n[f];i[0]=s[0]=1;for(var p=254;0<=p;--p){var h=r[p>>>3]>>>(7&p)&1;b(i,o,h),b(a,s,h),w(c,i,a),_(i,i,a),w(a,o,s),_(o,o,s),k(s,c),k(u,i),x(i,a,i),x(a,o,c),w(c,i,a),_(i,i,a),k(o,i),_(a,s,u),x(i,a,v),w(i,i,s),x(a,a,i),x(i,s,u),x(s,o,n),k(o,c),b(i,o,h),b(a,s,h)}for(var d=0;d<16;d++)n[d+16]=i[d],n[d+32]=a[d],n[d+48]=o[d],n[d+64]=s[d];var g=n.subarray(32),t=n.subarray(16);!function(e,t){for(var r=m(),n=0;n<16;n++)r[n]=t[n];for(var i=253;0<=i;i--)k(r,r),2!==i&&4!==i&&x(r,r,t);for(var o=0;o<16;o++)e[o]=r[o]}(g,g),x(t,t,g);g=new Uint8Array(32);return function(e,t){for(var r=m(),n=m(),i=0;i<16;i++)n[i]=t[i];y(n),y(n),y(n);for(var o=0;o<2;o++){r[0]=n[0]-65517;for(var a=1;a<15;a++)r[a]=n[a]-65535-(r[a-1]>>16&1),r[a-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);var s=r[15]>>16&1;r[14]&=65535,b(n,r,1-s)}for(var c=0;c<16;c++)e[2*c]=255&n[c],e[2*c+1]=n[c]>>8}(g,t),g}a.Au=function(e){var t=(0,r.randomBytes)(32,e),e=function(e){if(e.length!==a.KS)throw new Error("x25519: seed must be ".concat(a.KS," bytes"));e=new Uint8Array(e);return{publicKey:s(e,i),secretKey:e}}(t);return(0,n.wipe)(t),e},a.gi=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e.length!==a.kz)throw new Error("X25519: incorrect secret key length");if(t.length!==a.kz)throw new Error("X25519: incorrect public key length");var n=s(e,t);if(r){for(var i=0,o=0;o<n.length;o++)i|=n[o];if(0===i)throw new Error("X25519: invalid shared key")}return n}},5221:function(e,t,r){function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){var e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},3316:function(e,t){function r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=r,t.isNode=n,t.isBrowser=function(){return!r()&&!n()}},2549:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(5221),t),n.__exportStar(r(3316),t)},6446:function(e,t,r){r.d(t,{q:function(){return n}});var n=function e(){_classCallCheck(this,e)}},6245:function(e,t,r){r.r(t),r.d(t,{IEvents:function(){return n.q}});var n=r(6446)},6080:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;r=r(7657);t.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},7756:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(1003).__exportStar(r(6080),t)},6722:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;var i=r(1003),o=r(7358),a=r(7657),s=r(7098),c=r(7756),r=function(){_inherits(n,s.IHeartBeat);var r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this,e)).events=new o.EventEmitter,t.interval=c.HEARTBEAT_INTERVAL,t.interval=(null==e?void 0:e.interval)||c.HEARTBEAT_INTERVAL,t}return _createClass(n,[{key:"init",value:function(){return i.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:case"end":return e.stop()}},e,this)}))}},{key:"stop",value:function(){clearInterval(this.intervalRef)}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"initialize",value:function(){return i.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.intervalRef=setInterval(function(){return t.pulse()},a.toMiliseconds(this.interval));case 1:case"end":return e.stop()}},e,this)}))}},{key:"pulse",value:function(){this.events.emit(c.HEARTBEAT_EVENTS.pulse)}}],[{key:"init",value:function(r){return i.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new n(r),e.next=3,t.init();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))}}]),n}();t.HeartBeat=r},5738:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(6722),t),n.__exportStar(r(7098),t),n.__exportStar(r(7756),t)},9215:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;var n=r(6245),r=function(){_inherits(r,n.IEvents);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this)}return r}();t.IHeartBeat=r},7098:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(1003).__exportStar(r(9215),t)},3542:function(e,t,r){var n=r(1003),i=r(2987),o=n.__importDefault(r(7231)),a=r(2529);t.ZP=function(){function e(){_classCallCheck(this,e),this.localStorage=o.default}return _createClass(e,[{key:"getKeys",value:function(){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.keys(this.localStorage));case 1:case"end":return e.stop()}},e,this)}))}},{key:"getEntries",value:function(){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object.entries(this.localStorage).map(a.parseEntry));case 1:case"end":return e.stop()}},e,this)}))}},{key:"getItem",value:function(r){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.localStorage.getItem(r)))return e.abrupt("return",i.safeJsonParse(t));e.next=3;break;case 3:case"end":return e.stop()}},e,this)}))}},{key:"setItem",value:function(t,r){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.setItem(t,i.safeJsonStringify(r));case 1:case"end":return e.stop()}},e,this)}))}},{key:"removeItem",value:function(t){return n.__awaiter(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.localStorage.removeItem(t);case 1:case"end":return e.stop()}},e,this)}))}}]),e}()},7231:function(e,t,r){function n(){}var i;(i=n).prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},i.prototype.setItem=function(e,t){this[e]=String(t)},i.prototype.removeItem=function(e){delete this[e]},i.prototype.clear=function(){var t=this;Object.keys(t).forEach(function(e){t[e]=void 0,delete t[e]})},i.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},i.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),void 0!==r.g&&r.g.localStorage?e.exports=r.g.localStorage:"undefined"!=typeof window&&window.localStorage?e.exports=window.localStorage:e.exports=new n},2529:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(8119),t),n.__exportStar(r(2250),t)},8119:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IKeyValueStorage=void 0,t.IKeyValueStorage=function(){return function e(){_classCallCheck(this,e)}}()},2250:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parseEntry=void 0;var n=r(2987);t.parseEntry=function(e){return[e[0],n.safeJsonParse(null!==(e=e[1])&&void 0!==e?e:"")]}},5191:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},2326:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;var n=r(1003),i=n.__importDefault(r(2312));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r(5191),t),n.__exportStar(r(7491),t)},7491:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;var n=r(5191);function i(e){return e[1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.PINO_CUSTOM_CONTEXT_KEY]||""}function o(e,t){return e[2<arguments.length&&void 0!==arguments[2]?arguments[2]:n.PINO_CUSTOM_CONTEXT_KEY]=t,e}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.PINO_CUSTOM_CONTEXT_KEY;return void 0===e.bindings?i(e,t):e.bindings().context||""}function s(e,t){e=a(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:n.PINO_CUSTOM_CONTEXT_KEY);return e.trim()?"".concat(e,"/").concat(t):t}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||n.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=i,t.setBrowserLoggerContext=o,t.getLoggerContext=a,t.formatChildLoggerContext=s,t.generateChildLogger=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:n.PINO_CUSTOM_CONTEXT_KEY,t=s(e,t,r);return o(e.child({context:t}),t,r)}},4585:function(){},9611:function(){},7685:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(7807),t),n.__exportStar(r(8015),t)},7807:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},8015:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},7657:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(6482),t),n.__exportStar(r(5819),t),n.__exportStar(r(1819),t),n.__exportStar(r(7685),t)},1819:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(1003).__exportStar(r(1204),t)},1204:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0,t.IWatch=function(){return function e(){_classCallCheck(this,e)}}()},6036:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;var n=r(7685);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},1652:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(t){return new Promise(function(e){setTimeout(function(){e(!0)},t)})}},6482:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1003);n.__exportStar(r(1652),t),n.__exportStar(r(6036),t)},5819:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;var r=function(){function e(){_classCallCheck(this,e),this.timestamps=new Map}return _createClass(e,[{key:"start",value:function(e){if(this.timestamps.has(e))throw new Error("Watch already started for label: ".concat(e));this.timestamps.set(e,{started:Date.now()})}},{key:"stop",value:function(e){var t=this.get(e);if(void 0!==t.elapsed)throw new Error("Watch already stopped for label: ".concat(e));var r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}},{key:"get",value:function(e){var t=this.timestamps.get(e);if(void 0===t)throw new Error("No timestamp found for label: ".concat(e));return t}},{key:"elapsed",value:function(e){e=this.get(e);return e.elapsed||Date.now()-e.started}}]),e}();t.Watch=r,t.default=r},9153:function(e,t){function r(e){var t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){var t=r(e);if(!t)throw new Error("".concat(e," is not defined in Window"));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},747:function(e,t,r){t.D=void 0;var n=r(9153);t.D=function(){var a,s;try{a=n.getDocumentOrThrow(),s=n.getLocationOrThrow()}catch(a){return null}function e(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var n=a.getElementsByTagName("meta"),i=0;i<n.length;i++){var o=function(e){var t=n[e],e=["itemprop","property","name"].map(function(e){return t.getAttribute(e)}).filter(function(e){return!!e&&r.includes(e)});if(e.length&&e){e=t.getAttribute("content");if(e)return{v:e}}}(i);if("object"===_typeof(o))return o.v}return""}var t=e("name","og:site_name","og:title","twitter:title")||a.title;return{description:e("description","og:description","twitter:description","keywords"),url:s.origin,icons:function(){for(var e=a.getElementsByTagName("link"),t=[],r=0;r<e.length;r++){var n,i=e[r],o=i.getAttribute("rel");o&&-1<o.toLowerCase().indexOf("icon")&&((o=i.getAttribute("href"))&&(-1===o.toLowerCase().indexOf("https:")&&-1===o.toLowerCase().indexOf("http:")&&0!==o.indexOf("//")?(n=s.protocol+"//"+s.host,0===o.indexOf("/")?n+=o:((i=s.pathname.split("/")).pop(),n+=i.join("/")+"/"+o),t.push(n)):0===o.indexOf("//")?(n=s.protocol+o,t.push(n)):t.push(o)))}return t}(),name:t}}},8424:function(e){var t="%[a-f0-9]{2}",i=new RegExp("("+t+")|([^%]+?)","gi"),s=new RegExp("("+t+")+","gi");function c(t){try{return decodeURIComponent(t)}catch(e){for(var r=t.match(i)||[],n=1;n<r.length;n++)r=(t=function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),r=t.slice(r);return Array.prototype.concat.call([],e(n),e(r))}(r,n).join("")).match(i)||[];return t}}e.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+_typeof(t)+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(e){for(var t={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},r=s.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=c(r[0]);n!==r[0]&&(t[r[0]]=n)}r=s.exec(e)}t["%C2"]="ï¿½";for(var i=Object.keys(t),o=0;o<i.length;o++){var a=i[o];e=e.replace(new RegExp(a,"g"),t[a])}return e}(t)}}},7094:function(e){var h={single_source_shortest_paths:function(e,t,r){var n={},i={};i[t]=0;var o,a,s,c,u,l,f,p=h.PriorityQueue.make();for(p.push(t,0);!p.empty();)for(s in a=(o=p.pop()).value,c=o.cost,u=e[a]||{})u.hasOwnProperty(s)&&(l=c+u[s],f=i[s],(void 0===i[s]||l<f)&&(i[s]=l,p.push(s,l),n[s]=a));if(void 0===r||void 0!==i[r])return n;r=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(r)},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){t=h.single_source_shortest_paths(e,t,r);return h.extract_shortest_path_from_predecessor_list(t,r)},PriorityQueue:{make:function(e){var t,r=h.PriorityQueue,n={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=e.sorter||r.default_sorter,n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){t={value:e,cost:t};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=h},5341:function(e){e.exports=function(e){for(var t=[],r=e.length,n=0;n<r;n++){var i,o=e.charCodeAt(n);55296<=o&&o<=56319&&n+1<r&&(56320<=(i=e.charCodeAt(n+1))&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,n+=1)),o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||57344<=o&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):65536<=o&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},7358:function(e){var t="object"==("undefined"==typeof Reflect?"undefined":_typeof(Reflect))?Reflect:null,c=t&&"function"==typeof t.apply?t.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},r=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},n=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(i,o){return new Promise(function(e,t){function r(e){i.removeListener(o,n),t(e)}function n(){"function"==typeof i.removeListener&&i.removeListener("error",r),e([].slice.call(arguments))}d(i,o,n,{once:!0}),"error"===o||"function"==typeof i.on&&d(i,"error",r,{once:!0})})},(i.EventEmitter=i).prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+_typeof(e))}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o;return s(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),o=i[t]),void 0===o?(o=i[t]=r,++e._eventsCount):("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(r=a(e))&&o.length>r&&!o.warned&&(o.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=o.length,console&&console.warn&&console.warn(r))),e}function l(e,t,r){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=r,e.wrapFn=t}function f(e,t,r){e=e._events;if(void 0===e)return[];t=e[t];return void 0===t?[]:"function"==typeof t?r?[t.listener||t]:[t]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):h(t,t.length)}function p(e){var t=this._events;if(void 0!==t){e=t[e];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function d(r,n,i,o){if("function"==typeof r.on)o.once?r.once(n,i):r.on(n,i);else{if("function"!=typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+_typeof(r));r.addEventListener(n,function e(t){o.once&&r.removeEventListener(n,e),i(t)})}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n,i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(0<t.length&&(n=t[0]),n instanceof Error)throw n;i=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw i.context=n,i}e=o[e];if(void 0===e)return!1;if("function"==typeof e)c(e,this,t);else for(var a=e.length,s=h(e,a),r=0;r<a;++r)c(s[r],this,t);return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},4671:function(e){e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(r[a]=s)}return r}},3918:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",y=1,g=2,f=9007199254740991,p="[object Arguments]",h="[object Array]",i="[object AsyncFunction]",d="[object Boolean]",m="[object Date]",v="[object Error]",o="[object Function]",a="[object GeneratorFunction]",b="[object Map]",w="[object Number]",s="[object Null]",_="[object Object]",c="[object Promise]",u="[object Proxy]",x="[object RegExp]",k="[object Set]",E="[object String]",l="[object Undefined]",O="[object WeakMap]",C="[object ArrayBuffer]",R="[object DataView]",S=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[p]=I[h]=I[C]=I[d]=I[R]=I[m]=I[v]=I[o]=I[b]=I[w]=I[_]=I[x]=I[k]=I[E]=I[O]=!1;var A="object"==_typeof(r.g)&&r.g&&r.g.Object===Object&&r.g,j="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,P=A||j||Function("return this")(),L=t&&!t.nodeType&&t,N=L&&e&&!e.nodeType&&e,r=N&&N.exports===L,M=r&&A.process,j=function(){try{return M&&M.binding&&M.binding("util")}catch(e){}}(),t=j&&j.isTypedArray;function U(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n}function D(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var z,G,N=Array.prototype,L=Function.prototype,W=Object.prototype,A=P["__core-js_shared__"],B=L.toString,H=W.hasOwnProperty,q=(j=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",V=W.toString,F=RegExp("^"+B.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=r?P.Buffer:void 0,A=P.Symbol,K=P.Uint8Array,$=W.propertyIsEnumerable,Y=N.splice,Z=A?A.toStringTag:void 0,Q=Object.getOwnPropertySymbols,j=L?L.isBuffer:void 0,J=(z=Object.keys,G=Object,function(e){return z(G(e))}),r=be(P,"DataView"),X=be(P,"Map"),N=be(P,"Promise"),L=be(P,"Set"),P=be(P,"WeakMap"),ee=be(Object,"create"),te=xe(r),re=xe(X),ne=xe(N),ie=xe(L),oe=xe(P),A=A?A.prototype:void 0,ae=A?A.valueOf:void 0;function se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ce(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ue(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function le(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ue;++t<r;)this.add(e[t])}function fe(e){e=this.__data__=new ce(e);this.size=e.size}function pe(e,t){for(var r=e.length;r--;)if(ke(e[r][0],t))return r;return-1}function he(e){return null==e?void 0===e?l:s:Z&&Z in Object(e)?function(e){var t=H.call(e,Z),r=e[Z];try{var n=!(e[Z]=void 0)}catch(e){}var i=V.call(e);return n&&(t?e[Z]=r:delete e[Z]),i}(e):V.call(e)}function de(e){return Ie(e)&&he(e)==p}function ge(e,t,r,n,i){return e===t||(null==e||null==t||!Ie(e)&&!Ie(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var a=Oe(e),s=Oe(t),c=a?h:_e(e),u=s?h:_e(t),l=(c=c==p?_:c)==_,s=(u=u==p?_:u)==_,u=c==u;if(u&&Ce(e)){if(!Ce(t))return!1;l=!(a=!0)}if(u&&!l)return o=o||new fe,(a||je(e)?me:function(e,t,r,n,i,o){switch(c){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!i(new K(e),new K(t)));case d:case m:case w:return ke(+e,+t);case v:return e.name==t.name&&e.message==t.message;case x:case E:return e==t+"";case b:var a=U;case k:var s=r&y,a=a||D;if(e.size!=t.size&&!s)return!1;s=o.get(e);if(s)return s==t;r|=g,o.set(e,t);a=me(a(e),a(t),r,n,i,o);return o.delete(e),a;case"[object Symbol]":if(ae)return ae.call(e)==ae.call(t)}return!1})(e,t,r,n,i,o);if(!(r&y)){l=l&&H.call(e,"__wrapped__"),s=s&&H.call(t,"__wrapped__");if(l||s)return i(l?e.value():e,s?t.value():t,r,n,o=o||new fe)}return!!u&&function(e,t,r,n,i,o){var a=r&y,s=ve(e),c=s.length;if(c!=ve(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:H.call(t,l)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);for(var h,d=a;++u<c;){var g,m=e[l=s[u]],v=t[l];if(n&&(g=a?n(v,m,l,t,e,o):n(m,v,l,e,t,o)),!(void 0===g?m===v||i(m,v,r,n,o):g)){p=!1;break}d=d||"constructor"==l}return!p||d||(h=e.constructor)!=(f=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof f&&f instanceof f)&&(p=!1),o.delete(e),o.delete(t),p}(e,t,r,n,i,o=o||new fe)}(e,t,r,n,ge,i))}function me(e,t,r,n,i,o){var a=r&y,s=e.length,c=t.length;if(s!=c&&!(a&&s<c))return!1;c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,l=!0,f=r&g?new le:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p,h=e[u],d=t[u];if(n&&(p=a?n(d,h,u,t,e,o):n(h,d,u,e,t,o)),void 0!==p){if(p)continue;l=!1;break}if(f){if(!function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return 1}(t,function(e,t){return!f.has(t)&&(h===e||i(h,e,r,n,o))&&f.push(t)})){l=!1;break}}else if(h!==d&&!i(h,d,r,n,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function ve(e){return r=we,e=Pe(t=e),Oe(t)?e:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(e,r(t));var t,r}function ye(e,t){var r,n=e.__data__;return("string"==(e=_typeof(r=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?n["string"==typeof t?"string":"hash"]:n.map}function be(e,t){e=null==e?void 0:e[t];return!Te(t=e)||q&&q in t||!(Re(t)?F:S).test(xe(t))?void 0:e}se.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},se.prototype.delete=function(e){e=this.has(e)&&delete this.__data__[e];return this.size-=e?1:0,e},se.prototype.get=function(e){var t=this.__data__;if(ee){var r=t[e];return r===n?void 0:r}return H.call(t,e)?t[e]:void 0},se.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:H.call(t,e)},se.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ee&&void 0===t?n:t,this},ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var t=this.__data__,e=pe(t,e);return!(e<0||(e==t.length-1?t.pop():Y.call(t,e,1),--this.size,0))},ce.prototype.get=function(e){var t=this.__data__,e=pe(t,e);return e<0?void 0:t[e][1]},ce.prototype.has=function(e){return-1<pe(this.__data__,e)},ce.prototype.set=function(e,t){var r=this.__data__,n=pe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ue.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(X||ce),string:new se}},ue.prototype.delete=function(e){e=ye(this,e).delete(e);return this.size-=e?1:0,e},ue.prototype.get=function(e){return ye(this,e).get(e)},ue.prototype.has=function(e){return ye(this,e).has(e)},ue.prototype.set=function(e,t){var r=ye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},le.prototype.add=le.prototype.push=function(e){return this.__data__.set(e,n),this},le.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.clear=function(){this.__data__=new ce,this.size=0},fe.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},fe.prototype.get=function(e){return this.__data__.get(e)},fe.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ce){var n=r.__data__;if(!X||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ue(n)}return r.set(e,t),this.size=r.size,this};var we=Q?function(a){return null==a?[]:(a=Object(a),function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];$.call(a,o)&&(i[n++]=o)}return i}(Q(a)))}:function(){return[]},_e=he;function xe(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ke(e,t){return e===t||e!=e&&t!=t}(r&&_e(new r(new ArrayBuffer(1)))!=R||X&&_e(new X)!=b||N&&_e(N.resolve())!=c||L&&_e(new L)!=k||P&&_e(new P)!=O)&&(_e=function(e){var t=he(e),e=t==_?e.constructor:void 0,e=e?xe(e):"";if(e)switch(e){case te:return R;case re:return b;case ne:return c;case ie:return k;case oe:return O}return t});var Ee=de(function(){return arguments}())?de:function(e){return Ie(e)&&H.call(e,"callee")&&!$.call(e,"callee")},Oe=Array.isArray,Ce=j||function(){return!1};function Re(e){if(Te(e)){e=he(e);return e==o||e==a||e==i||e==u}}function Se(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=f}function Te(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==_typeof(e)}var Ae,je=t?(Ae=t,function(e){return Ae(e)}):function(e){return Ie(e)&&Se(e.length)&&!!I[he(e)]};function Pe(e){return(null!=e&&Se(e.length)&&!Re(e)?function(e){var t,r,n,i=Oe(e),o=!i&&Ee(e),a=!i&&!o&&Ce(e),s=!i&&!o&&!a&&je(e),c=i||o||a||s,u=c?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=u.length;for(t in e)!H.call(e,t)||c&&("length"==t||a&&("offset"==t||"parent"==t)||s&&("buffer"==t||"byteLength"==t||"byteOffset"==t)||(r=t,(n=null==(n=l)?f:n)&&("number"==typeof r||T.test(r))&&-1<r&&r%1==0&&r<n))||u.push(t);return u}:function(e){if(e!==("function"==typeof(t=e&&e.constructor)&&t.prototype||W))return J(e);var t,r,n=[];for(r in Object(e))H.call(e,r)&&"constructor"!=r&&n.push(r);return n})(e)}e.exports=function(e,t){return ge(e,t)}},2558:function(e,t,r){var c=r(1792),u=r(9219),n=r(4810),i=r(3620);function o(n,i,o,a,e){var t=[].slice.call(arguments,1),r=t.length,t="function"==typeof t[r-1];if(!t&&!c())throw new Error("Callback required as last argument");if(!t){if(r<1)throw new Error("Too few arguments provided");return 1===r?(o=i,i=a=void 0):2!==r||i.getContext||(a=o,o=i,i=void 0),new Promise(function(e,t){try{var r=u.create(o,a);e(n(r,i,a))}catch(e){t(e)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(e=o,o=i,i=a=void 0):3===r&&(i.getContext&&void 0===e?(e=a,a=void 0):(e=a,a=o,o=i,i=void 0));try{var s=u.create(o,a);e(null,n(s,i,a))}catch(n){e(n)}}t.create=u.create,t.toCanvas=o.bind(null,n.render),t.toDataURL=o.bind(null,n.renderToDataURL),t.toString=o.bind(null,function(e,t,r){return i.render(e,r)})},1792:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1797:function(e,a,t){var o=t(8025).getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,e=o(e),r=145===e?26:2*Math.ceil((e-13)/(2*t-2)),n=[e-7],i=1;i<t-1;i++)n[i]=n[i-1]-r;return n.push(6),n.reverse()},a.getPositions=function(e){for(var t=[],r=a.getRowColCoords(e),n=r.length,i=0;i<n;i++)for(var o=0;o<n;o++)0===i&&0===o||0===i&&o===n-1||i===n-1&&0===o||t.push([r[i],r[o]]);return t}},7751:function(e,t,r){var n=r(6182),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0;t+2<=this.data.length;t+=2){var r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},2466:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},1653:function(e){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){t=e*this.size+t;this.data[t]=r,n&&(this.reservedBit[t]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},338:function(e,t,r){var n=r(5341),i=r(6182);function o(e){this.mode=i.BYTE,"string"==typeof e&&(e=n(e)),this.data=new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=o},1140:function(e,t,r){var n=r(6866),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return i[4*(e-1)+0];case n.M:return i[4*(e-1)+1];case n.Q:return i[4*(e-1)+2];case n.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}}},6866:function(e,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},7539:function(e,t,r){var n=r(8025).getSymbolSize;t.getPositions=function(e){e=n(e);return[[0,0],[e-7,0],[0,e-7]]}},8223:function(e,t,r){var n=r(8025),i=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var t=e.bit<<3|t,r=t<<10;0<=n.getBCHDigit(r)-i;)r^=1335<<n.getBCHDigit(r)-i;return 21522^(t<<10|r)}},8116:function(e,t){var n=new Uint8Array(512),i=new Uint8Array(256);!function(){for(var e=1,t=0;t<255;t++)n[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(var r=255;r<512;r++)n[r]=n[r-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[i[e]+i[t]]}},89:function(e,t,r){var n=r(6182),i=r(8025);function o(e){this.mode=n.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0;t<this.data.length;t++){var r=i.toSJIS(this.data[t]);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},e.exports=o},3286:function(e,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,r=0,n=0,i=0,o=null,a=null,s=0;s<t;s++){o=a=null;for(var c=n=i=0;c<t;c++){var u=e.get(s,c);u===o?n++:(5<=n&&(r+=n-5+3),o=u,n=1),(u=e.get(c,s))===a?i++:(5<=i&&(r+=i-5+3),a=u,i=1)}5<=n&&(r+=n-5+3),5<=i&&(r+=i-5+3)}return r},s.getPenaltyN2=function(e){for(var t=e.size,r=0,n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var o=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);4!==o&&0!==o||r++}return 3*r},s.getPenaltyN3=function(e){for(var t=e.size,r=0,n=0,i=0,o=0;o<t;o++)for(var a=n=i=0;a<t;a++)n=n<<1&2047|e.get(o,a),10<=a&&(1488===n||93===n)&&r++,i=i<<1&2047|e.get(a,o),10<=a&&(1488===i||93===i)&&r++;return 40*r},s.getPenaltyN4=function(e){for(var t=0,r=e.data.length,n=0;n<r;n++)t+=e.data[n];return 10*Math.abs(Math.ceil(100*t/r/5)-10)},s.applyMask=function(e,t){for(var r=t.size,n=0;n<r;n++)for(var i=0;i<r;i++)t.isReserved(i,n)||t.xor(i,n,function(e,t,r){switch(e){case s.Patterns.PATTERN000:return(t+r)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return r%3==0;case s.Patterns.PATTERN011:return(t+r)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case s.Patterns.PATTERN101:return t*r%2+t*r%3==0;case s.Patterns.PATTERN110:return(t*r%2+t*r%3)%2==0;case s.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}(e,i,n))},s.getBestMask=function(e,t){for(var r=Object.keys(s.Patterns).length,n=0,i=1/0,o=0;o<r;o++){t(o),s.applyMask(o,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(o,e),a<i&&(i=a,n=o)}return n}},6182:function(e,r,t){var n=t(4235),i=t(6820);r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return i.testNumeric(e)?r.NUMERIC:i.testAlphanumeric(e)?r.ALPHANUMERIC:i.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},8633:function(e,t,r){var n=r(6182);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t,r,n=0;n+3<=this.data.length;n+=3)t=this.data.substr(n,3),r=parseInt(t,10),e.put(r,10);var i=this.data.length-n;0<i&&(t=this.data.substr(n),r=parseInt(t,10),e.put(r,3*i+1))},e.exports=i},8930:function(e,n,t){var a=t(8116);n.mul=function(e,t){for(var r=new Uint8Array(e.length+t.length-1),n=0;n<e.length;n++)for(var i=0;i<t.length;i++)r[n+i]^=a.mul(e[n],t[i]);return r},n.mod=function(e,t){for(var r=new Uint8Array(e);0<=r.length-t.length;){for(var n=r[0],i=0;i<t.length;i++)r[i]^=a.mul(t[i],n);for(var o=0;o<r.length&&0===r[o];)o++;r=r.slice(o)}return r},n.generateECPolynomial=function(e){for(var t=new Uint8Array([1]),r=0;r<e;r++)t=n.mul(t,new Uint8Array([1,a.exp(r)]));return t}},9219:function(e,t,r){var x=r(8025),o=r(6866),a=r(2466),s=r(1653),u=r(1797),l=r(7539),f=r(3286),k=r(1140),E=r(5761),p=r(6451),c=r(8223),h=r(6182),d=r(3489);function g(e,t,r){for(var n,i=e.size,o=c.getEncodedBits(t,r),a=0;a<15;a++)n=1==(o>>a&1),a<6?e.set(a,8,n,!0):a<8?e.set(a+1,8,n,!0):e.set(i-15+a,8,n,!0),a<8?e.set(8,i-a-1,n,!0):a<9?e.set(8,15-a-1+1,n,!0):e.set(8,15-a-1,n,!0);e.set(i-8,8,1,!0)}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var r,n,i=o.M;return void 0!==t&&(i=o.from(t.errorCorrectionLevel,o.M),r=p.from(t.version),n=f.from(t.maskPattern),t.toSJISFunc&&x.setToSJISFunction(t.toSJISFunc)),function(e,c,t,r){var n;if(Array.isArray(e))n=d.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i,o=c;o||(i=d.rawSplit(e),o=p.getBestVersionForData(i,t)),n=d.fromString(e,o||40)}if(!(e=p.getBestVersionForData(n,t)))throw new Error("The amount of data is too big to be stored in a QR Code");if(c){if(c<e)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+e+".\n")}else c=e;return o=function(t,e,r){var n=new a;r.forEach(function(e){n.put(e.mode.bit,4),n.put(e.getLength(),h.getCharCountIndicator(e.mode,t)),e.write(n)});r=8*(x.getSymbolTotalCodewords(t)-k.getTotalCodewordsCount(t,e));for(n.getLengthInBits()+4<=r&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var i=(r-n.getLengthInBits())/8,o=0;o<i;o++)n.put(o%2?17:236,8);return function(e,t,r){for(var n=x.getSymbolTotalCodewords(t),i=n-k.getTotalCodewordsCount(t,r),o=k.getBlocksCount(t,r),a=o-n%o,r=Math.floor(n/o),s=Math.floor(i/o),c=s+1,u=r-s,l=new E(u),f=0,p=new Array(o),h=new Array(o),d=0,g=new Uint8Array(e.buffer),m=0;m<o;m++){var v=m<a?s:c;p[m]=g.slice(f,f+v),h[m]=l.encode(p[m]),f+=v,d=Math.max(d,v)}for(var y,b=new Uint8Array(n),w=0,_=0;_<d;_++)for(y=0;y<o;y++)_<p[y].length&&(b[w++]=p[y][_]);for(_=0;_<u;_++)for(y=0;y<o;y++)b[w++]=h[y][_];return b}(n,t,e)}(c,t,n),e=x.getSymbolSize(c),function(e){for(var t=e.size,r=l.getPositions(c),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],a=-1;a<=7;a++)if(!(i+a<=-1||t<=i+a))for(var s=-1;s<=7;s++)o+s<=-1||t<=o+s||(0<=a&&a<=6&&(0===s||6===s)||0<=s&&s<=6&&(0===a||6===a)||2<=a&&a<=4&&2<=s&&s<=4?e.set(i+a,o+s,!0,!0):e.set(i+a,o+s,!1,!0))}(e=new s(e)),function(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2==0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}(e),function(e){for(var t=u.getPositions(c),r=0;r<t.length;r++)for(var n=t[r][0],i=t[r][1],o=-2;o<=2;o++)for(var a=-2;a<=2;a++)-2===o||2===o||-2===a||2===a||0===o&&0===a?e.set(n+o,i+a,!0,!0):e.set(n+o,i+a,!1,!0)}(e),g(e,t,0),7<=c&&function(e){for(var t,r,n,i=e.size,o=p.getEncodedBits(c),a=0;a<18;a++)t=Math.floor(a/3),r=a%3+i-8-3,n=1==(o>>a&1),e.set(t,r,n,!0),e.set(r,t,n,!0)}(e),function(e,t){for(var r=e.size,n=-1,i=r-1,o=7,a=0,s=r-1;0<s;s-=2)for(6===s&&s--;;){for(var c,u=0;u<2;u++)e.isReserved(i,s-u)||(c=!1,a<t.length&&(c=1==(t[a]>>>o&1)),e.set(i,s-u,c),-1===--o&&(a++,o=7));if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(e,o),isNaN(r)&&(r=f.getBestMask(e,g.bind(null,e,t))),f.applyMask(r,e),g(e,t,r),{modules:e,version:c,errorCorrectionLevel:t,maskPattern:r,segments:n}}(e,r,i,n)}},5761:function(e,t,r){var n=r(8930);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new Uint8Array(e.length+this.degree);t.set(e);var r=n.mod(t,this.genPoly),e=this.degree-r.length;if(0<e){t=new Uint8Array(this.degree);return t.set(r,e),t}return r},e.exports=i},6820:function(e,t){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",n="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+".replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(n,"g"),t.NUMERIC=new RegExp("[0-9]+","g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+r+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return o.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},3489:function(e,a,t){var d=t(6182),n=t(8633),i=t(7751),o=t(338),s=t(89),c=t(6820),u=t(8025),l=t(7094);function f(e){return unescape(encodeURIComponent(e)).length}function p(e,t,r){for(var n,i=[];null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function h(e){var t,r=p(c.NUMERIC,d.NUMERIC,e),n=p(c.ALPHANUMERIC,d.ALPHANUMERIC,e),e=u.isKanjiModeEnabled()?(t=p(c.BYTE,d.BYTE,e),p(c.KANJI,d.KANJI,e)):(t=p(c.BYTE_KANJI,d.BYTE,e),[]);return r.concat(n,t,e).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case d.NUMERIC:return n.getBitsLength(e);case d.ALPHANUMERIC:return i.getBitsLength(e);case d.KANJI:return s.getBitsLength(e);case d.BYTE:return o.getBitsLength(e)}}function r(e,t){var r=d.getBestModeForData(e),t=d.from(t,r);if(t!==d.BYTE&&t.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+d.toString(t)+".\n Suggested mode is: "+d.toString(r));switch(t!==d.KANJI||u.isKanjiModeEnabled()||(t=d.BYTE),t){case d.NUMERIC:return new n(e);case d.ALPHANUMERIC:return new i(e);case d.KANJI:return new s(e);case d.BYTE:return new o(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(r(t,null)):t.data&&e.push(r(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var r=function(e,t){for(var r={},n={start:{}},i=["start"],o=0;o<e.length;o++){for(var a=e[o],s=[],c=0;c<a.length;c++){var u=a[c],l=""+o+c;s.push(l),r[l]={node:u,lastCount:0},n[l]={};for(var f=0;f<i.length;f++){var p=i[f];r[p]&&r[p].node.mode===u.mode?(n[p][l]=g(r[p].lastCount+u.length,u.mode)-g(r[p].lastCount,u.mode),r[p].lastCount+=u.length):(r[p]&&(r[p].lastCount=u.length),n[p][l]=g(u.length,u.mode)+4+d.getCharCountIndicator(u.mode,t))}}i=s}for(var h=0;h<i.length;h++)n[i[h]].end=0;return{map:n,table:r}}(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];switch(n.mode){case d.NUMERIC:t.push([n,{data:n.data,mode:d.ALPHANUMERIC,length:n.length},{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.ALPHANUMERIC:t.push([n,{data:n.data,mode:d.BYTE,length:n.length}]);break;case d.KANJI:t.push([n,{data:n.data,mode:d.BYTE,length:f(n.data)}]);break;case d.BYTE:t.push([{data:n.data,mode:d.BYTE,length:f(n.data)}])}}return t}(h(e,u.isKanjiModeEnabled())),t),n=l.find_path(r.map,"start","end"),i=[],o=1;o<n.length-1;o++)i.push(r.table[n[o]].node);return a.fromArray(i.reduce(function(e,t){var r=0<=e.length-1?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(h(e,u.isKanjiModeEnabled()))}},8025:function(e,t){var r,n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},4235:function(e,t){t.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40}},6451:function(e,i,t){var o=t(8025),a=t(1140),n=t(6866),s=t(6182),c=t(4235),r=o.getBCHDigit(7973);function u(e,t){return s.getCharCountIndicator(e,t)+4}i.from=function(e,t){return c.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,r){if(!c.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);t=8*(o.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(r===s.MIXED)return t;var n=t-u(r,e);switch(r){case s.NUMERIC:return Math.floor(n/10*3);case s.ALPHANUMERIC:return Math.floor(n/11*2);case s.KANJI:return Math.floor(n/13);case s.BYTE:default:return Math.floor(n/8)}},i.getBestVersionForData=function(e,t){var r,t=n.from(t,n.M);if(Array.isArray(e)){if(1<e.length)return function(e,t){for(var r=1;r<=40;r++)if(function(e,r){var n=0;return e.forEach(function(e){var t=u(e.mode,r);n+=t+e.getBitsLength()}),n}(e,r)<=i.getCapacity(r,t,s.MIXED))return r}(e,t);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,t,r){for(var n=1;n<=40;n++)if(t<=i.getCapacity(n,r,e))return n}(r.mode,r.getLength(),t)},i.getEncodedBits=function(e){if(!c.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=o.getBCHDigit(t)-r;)t^=7973<<o.getBCHDigit(t)-r;return e<<12|t}},4810:function(e,n,t){var a=t(3194);n.render=function(e,t,r){var n=r,i=t;void 0!==n||t&&t.getContext||(n=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),n=a.getOptions(n);var o=a.getImageWidth(e.modules.size,n),r=i.getContext("2d"),t=r.createImageData(o,o);return a.qrToImageData(t.data,e,n),n=i,o=o,r.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=o,n.width=o,n.style.height=o+"px",n.style.width=o+"px",r.putImageData(t,0,0),i},n.renderToDataURL=function(e,t,r){void 0!==r||t&&t.getContext||(r=t,t=void 0),r=r||{};e=n.render(e,t,r),t=r.type||"image/png",r=r.rendererOpts||{};return e.toDataURL(t,r.quality)}},3620:function(e,t,r){var a=r(3194);function s(e,t){var r=e.a/255,e=t+'="'+e.hex+'"';return r<1?e+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':e}function l(e,t,r){t=e+t;return void 0!==r&&(t+=" "+r),t}t.render=function(e,t,r){var n=a.getOptions(t),i=e.modules.size,o=e.modules.data,t=i+2*n.margin,e=n.color.light.a?"<path "+s(n.color.light,"fill")+' d="M0 0h'+t+"v"+t+'H0z"/>':"",i="<path "+s(n.color.dark,"stroke")+' d="'+function(e,t,r){for(var n="",i=0,o=!1,a=0,s=0;s<e.length;s++){var c=Math.floor(s%t),u=Math.floor(s/t);c||o||(o=!0),e[s]?(a++,0<s&&0<c&&e[s-1]||(n+=o?l("M",c+r,.5+u+r):l("m",i,0),i=0,o=!1),c+1<t&&e[s+1]||(n+=l("h",a),a=0)):i++}return n}(o,i,n.margin)+'"/>',t='viewBox="0 0 '+t+" "+t+'"',i='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+t+' shape-rendering="crispEdges">'+e+i+"</svg>\n";return"function"==typeof r&&r(null,i),i}},3194:function(e,h){function i(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}h.getOptions=function(e){(e=e||{}).color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&21<=e.width?e.width:void 0,n=e.scale||4;return{width:r,scale:r?4:n,margin:t,color:{dark:i(e.color.dark||"#000000ff"),light:i(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},h.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},h.getImageWidth=function(e,t){var r=h.getScale(e,t);return Math.floor((e+2*t.margin)*r)},h.qrToImageData=function(e,t,r){for(var n=t.modules.size,i=t.modules.data,o=h.getScale(n,r),a=Math.floor((n+2*r.margin)*o),s=r.margin*o,c=[r.color.light,r.color.dark],u=0;u<a;u++)for(var l=0;l<a;l++){var f=4*(u*a+l),p=r.color.light;s<=u&&s<=l&&u<a-s&&l<a-s&&(p=c[i[Math.floor((u-s)/o)*n+Math.floor((l-s)/o)]?1:0]),e[f++]=p.r,e[f++]=p.g,e[f++]=p.b,e[f]=p.a}}},9545:function(e,s,t){var r=t(1447),n=t(8424),d=t(8490),o=t(4671),c=Symbol("encodeFragmentIdentifier");function g(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?(t.strict?r:encodeURIComponent)(e):e}function m(e,t){return t.decode?n(e):e}function l(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function i(e){var t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function a(e,t){g((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(o){var n;switch(o.arrayFormat){case"index":return function(e,t,r){n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===r[e]&&(r[e]={}),r[e][n[1]]=t):r[e]=t};case"bracket":return function(e,t,r){n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};case"colon-list-separator":return function(e,t,r){n=/(:list)$/.exec(e),e=e.replace(/:list$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};case"comma":case"separator":return function(e,t,r){var n="string"==typeof t&&t.includes(o.arrayFormatSeparator),i="string"==typeof t&&!n&&m(t,o).includes(o.arrayFormatSeparator);t=i?m(t,o):t;t=n||i?t.split(o.arrayFormatSeparator).map(function(e){return m(e,o)}):null===t?t:m(t,o);r[e]=t};case"bracket-separator":return function(e,t,r){var n=/(\[\])$/.test(e);e=e.replace(/\[\]$/,""),n?(n=null===t?[]:t.split(o.arrayFormatSeparator).map(function(e){return m(e,o)}),void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=n):r[e]=t&&m(t,o)};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;var i=_createForOfIteratorHelper(e.split("&"));try{for(i.s();!(o=i.n()).done;){var o,a=o.value;""!==a&&(a=(o=_slicedToArray(d(t.decode?a.replace(/\+/g," "):a,"="),2))[0],o=void 0===(o=o[1])?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?o:m(o,t),r(m(a,t),o,n))}}catch(e){i.e(e)}finally{i.f()}for(var s=0,c=Object.keys(n);s<c.length;s++){var u=c[s],l=n[u];if("object"==_typeof(l)&&null!==l)for(var f=0,p=Object.keys(l);f<p.length;f++){var h=p[f];l[h]=v(l[h],t)}else n[u]=v(l,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"==_typeof(r)&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==_typeof(t)?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(r):e[t]=r,e},Object.create(null))}s.extract=i,s.parse=a,s.stringify=function(r,n){if(!r)return"";g((n=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},n)).arrayFormatSeparator);for(var e,i=function(i){switch(i.arrayFormat){case"index":return function(n){return function(e,t){var r=e.length;return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[[u(n,i),"[",r,"]"].join("")]:[[u(n,i),"[",u(r,i),"]=",u(t,i)].join("")])}};case"bracket":return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[[u(r,i),"[]"].join("")]:[[u(r,i),"[]=",u(t,i)].join("")])}};case"colon-list-separator":return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[[u(r,i),":list="].join("")]:[[u(r,i),":list=",u(t,i)].join("")])}};case"comma":case"separator":case"bracket-separator":var n="bracket-separator"===i.arrayFormat?"[]=":"=";return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:(t=null===t?"":t,0===e.length?[[u(r,i),n,u(t,i)].join("")]:[[e,u(t,i)].join(i.arrayFormatSeparator)])}};default:return function(r){return function(e,t){return void 0===t||i.skipNull&&null===t||i.skipEmptyString&&""===t?e:[].concat(_toConsumableArray(e),null===t?[u(r,i)]:[[u(r,i),"=",u(t,i)].join("")])}}}}(n),t={},o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];e=s,n.skipNull&&null==r[e]||n.skipEmptyString&&""===r[e]||(t[s]=r[s])}var c=Object.keys(t);return!1!==n.sort&&c.sort(n.sort),c.map(function(e){var t=r[e];return void 0===t?"":null===t?u(e,n):Array.isArray(t)?0===t.length&&"bracket-separator"===n.arrayFormat?u(e,n)+"[]":t.reduce(i(e),[]).join("&"):u(e,n)+"="+u(t,n)}).filter(function(e){return 0<e.length}).join("&")},s.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=_slicedToArray(d(e,"#"),2),n=r[0],r=r[1];return Object.assign({url:n.split("?")[0]||"",query:a(i(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:m(r,t)}:{})},s.stringifyUrl=function(e,t){t=Object.assign(_defineProperty({encode:!0,strict:!0},c,!0),t);var r=l(e.url).split("?")[0]||"",n=s.extract(e.url),i=s.parse(n,{sort:!1}),o=Object.assign(i,e.query),a=(a=s.stringify(o,t))&&"?".concat(a),i=(n=e.url,i="",-1!==(o=n.indexOf("#"))&&(i=n.slice(o)),i);return e.fragmentIdentifier&&(i="#".concat(t[c]?u(e.fragmentIdentifier,t):e.fragmentIdentifier)),"".concat(r).concat(a).concat(i)},s.pick=function(e,t,r){r=Object.assign(_defineProperty({parseFragmentIdentifier:!0},c,!1),r);var n=s.parseUrl(e,r),i=n.url,e=n.query,n=n.fragmentIdentifier;return s.stringifyUrl({url:i,query:o(e,t),fragmentIdentifier:n},r)},s.exclude=function(e,r,t){var n=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return s.pick(e,n,t)}},5024:function(e){function d(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,t,r){var n=r&&r.stringify||d;if("object"==_typeof(e)&&null!==e){var i=t.length+1;if(1===i)return e;var o=new Array(i);o[0]=n(e);for(var a=1;a<i;a++)o[a]=n(t[a]);return o.join(" ")}if("string"!=typeof e)return e;var s=t.length;if(0===s)return e;for(var c="",u=0,l=-1,f=e&&e.length||0,p=0;p<f;){if(37===e.charCodeAt(p)&&p+1<f){switch(l=-1<l?l:0,e.charCodeAt(p+1)){case 100:case 102:if(s<=u)break;if(null==t[u])break;l<p&&(c+=e.slice(l,p)),c+=Number(t[u]),l=p+2,p++;break;case 105:if(s<=u)break;if(null==t[u])break;l<p&&(c+=e.slice(l,p)),c+=Math.floor(Number(t[u])),l=p+2,p++;break;case 79:case 111:case 106:if(s<=u)break;if(void 0===t[u])break;l<p&&(c+=e.slice(l,p));var h=_typeof(t[u]);if("string"===h){c+="'"+t[u]+"'",l=p+2,p++;break}if("function"===h){c+=t[u].name||"<anonymous>",l=p+2,p++;break}c+=n(t[u]),l=p+2,p++;break;case 115:if(s<=u)break;l<p&&(c+=e.slice(l,p)),c+=String(t[u]),l=p+2,p++;break;case 37:l<p&&(c+=e.slice(l,p)),c+="%",l=p+2,p++,u--}++u}++p}return-1===l?e:(l<f&&(c+=e.slice(l)),c)}},2987:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+_typeof(t));try{return JSON.parse(t)}catch(e){return t}},t.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,function(e,t){return void 0===t?null:t})}},8490:function(e){e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},1447:function(e){e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})}},1003:function(e,t,r){r.r(t),r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return y},__awaiter:function(){return l},__classPrivateFieldGet:function(){return O},__classPrivateFieldSet:function(){return C},__createBinding:function(){return p},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return E},__importStar:function(){return k},__makeTemplateObject:function(){return x},__metadata:function(){return u},__param:function(){return c},__read:function(){return g},__rest:function(){return a},__spread:function(){return m},__spreadArrays:function(){return v},__values:function(){return d}});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,r,a):i(t,r))||a);return 3<o&&a&&Object.defineProperty(t,r,a),a}function c(r,n){return function(e,t){n(e,t,r)}}function u(e,t){if("object"==("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,a,s,c){return new(s=s||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,i)}o((c=c.apply(e,a||[])).next())})}function f(r,n){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function p(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),o=[],a={};return n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a;function n(n){i[n]&&(a[n]=function(r){return new Promise(function(e,t){1<o.push([n,r,e,t])||s(n,r)})})}function s(e,t){try{(r=i[e](t)).value instanceof y?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(n){var i,e={};return t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,r){e[t]=n[t]?function(e){return(i=!i)?{value:y(n[t](e)),done:"return"===t}:r?r(e):e}:r}}function _(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=a[Symbol.asyncIterator];return t?t.call(a):(a=d(a),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=a[o]&&function(i){return new Promise(function(e,t){var r,n;r=e,e=t,n=(i=a[o](i)).done,t=i.value,Promise.resolve(t).then(function(e){r({value:e,done:n})},e)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},6664:function(e){e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},5883:function(){},2312:function(e,t,r){var d=r(5024);e.exports=m;var g=function(){function t(e){return void 0!==e&&e}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},e={mapHttpRequest:n,mapHttpResponse:n,wrapRequestSerializer:i,wrapResponseSerializer:i,wrapErrorSerializer:i,req:n,res:n,err:function(e){var t,r={type:e.constructor.name,msg:e.message,stack:e.stack};for(t in e)void 0===r[t]&&(r[t]=e[t]);return r}};function m(o){(o=o||{}).browser=o.browser||{};var a=o.browser.transmit;if(a&&"function"!=typeof a.send)throw Error("pino: transmit option must have a send function");var e=o.browser.write||g;o.browser.write&&(o.browser.asObject=!0);var s=o.serializers||{},c=(t=o.browser.serialize,r=s,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(r)),t=o.browser.serialize;Array.isArray(o.browser.serialize)&&-1<o.browser.serialize.indexOf("!stdSerializers.err")&&(t=!1),"function"==typeof e&&(e.error=e.fatal=e.warn=e.info=e.debug=e.trace=e),!1===o.enabled&&(o.level="silent");var r=o.level||"info",n=Object.create(e);n.log||(n.log=b),Object.defineProperty(n,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(n,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,u(i,n,"error","log"),u(i,n,"fatal","error"),u(i,n,"warn","error"),u(i,n,"info","log"),u(i,n,"debug","log"),u(i,n,"trace","log")}});var i={transmit:a,serialize:c,asObject:o.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(e=o).timestamp?e.timestamp:!1===e.timestamp?f:p};return n.levels=m.levels,n.level=r,n.setMaxListeners=n.getMaxListeners=n.emit=n.addListener=n.on=n.prependListener=n.once=n.prependOnceListener=n.removeListener=n.removeAllListeners=n.listeners=n.listenerCount=n.eventNames=n.write=n.flush=b,n.serializers=s,n._serialize=c,n._stdErrSerialize=t,n.child=function(t,e){if(!t)throw new Error("missing bindings for child Pino");e=e||{},c&&t.serializers&&(e.serializers=t.serializers);var r,n,e=e.serializers;function i(e){this._childLevel=1+(0|e._childLevel),this.error=l(e,t,"error"),this.fatal=l(e,t,"fatal"),this.warn=l(e,t,"warn"),this.info=l(e,t,"info"),this.debug=l(e,t,"debug"),this.trace=l(e,t,"trace"),r&&(this.serializers=r,this._serialize=n),a&&(this._logEvent=y([].concat(e._logEvent.bindings,t)))}return c&&e&&(r=Object.assign({},s,e),n=!0===o.browser.serialize?Object.keys(r):c,delete t.serializers,v([t],n,r,this._stdErrSerialize)),i.prototype=this,new i(this)},a&&(n._logEvent=y()),n}function u(e,t,r,n){var l,f,p,h,i=Object.getPrototypeOf(t);t[r]=!(t.levelVal>t.levels.values[r])&&(i[r]||g[r]||g[n])||b,f=t,p=r,!(l=e).transmit&&f[p]===b||(f[p]=(h=f[p],function(){for(var e,t,r,n,i,o,a=l.timestamp(),s=new Array(arguments.length),c=Object.getPrototypeOf&&Object.getPrototypeOf(this)===g?g:this,u=0;u<s.length;u++)s[u]=arguments[u];l.serialize&&!l.asObject&&v(s,this._serialize,this.serializers,this._stdErrSerialize),l.asObject?h.call(c,function(e,t,r,n){e._serialize&&v(r,e._serialize,e.serializers,e._stdErrSerialize);var i=r.slice(),r=i[0],o={};n&&(o.time=n),o.level=m.levels.values[t];var a=1+(0|e._childLevel);if(a<1&&(a=1),null!==r&&"object"==_typeof(r)){for(;a--&&"object"==_typeof(i[0]);)Object.assign(o,i.shift());r=i.length?d(i.shift(),i):void 0}else"string"==typeof r&&(r=d(i.shift(),i));return void 0!==r&&(o.msg=r),o}(this,p,s,a)):h.apply(c,s),l.transmit&&(i=l.transmit.level||f.level,r=m.levels.values[i],(n=m.levels.values[p])<r||(e=this,t={ts:a,methodLevel:p,methodValue:n,transmitLevel:i,transmitValue:m.levels.values[l.transmit.level||f.level],send:l.transmit.send,val:f.levelVal},c=s,r=t.send,a=t.ts,n=t.methodLevel,i=t.methodValue,t=t.val,o=e._logEvent.bindings,v(c,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=a,e._logEvent.messages=c.filter(function(e){return-1===o.indexOf(e)}),e._logEvent.level.label=n,e._logEvent.level.value=i,r(n,e._logEvent,t),e._logEvent=y(o)))}))}function v(e,t,r,n){for(var i in e)if(n&&e[i]instanceof Error)e[i]=m.stdSerializers.err(e[i]);else if("object"==_typeof(e[i])&&!Array.isArray(e[i]))for(var o in e[i])t&&-1<t.indexOf(o)&&o in r&&(e[i][o]=r[o](e[i][o]))}function l(r,n,i){return function(){var e=new Array(1+arguments.length);e[0]=n;for(var t=1;t<e.length;t++)e[t]=arguments[t-1];return r[i].apply(this,e)}}function y(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function n(){return{}}function i(e){return e}function b(){}function f(){return!1}function p(){return Date.now()}m.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},m.stdSerializers=e,m.stdTimeFunctions=Object.assign({},{nullTime:f,epochTime:p,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},5348:function(e,t,r){r.d(t,{ConfigCtrl:function(){return m},zv:function(){return p},uA:function(){return l},ExplorerCtrl:function(){return V},jb:function(){return K},OptionsCtrl:function(){return d},AV:function(){return c},ThemeCtrl:function(){return X},ToastCtrl:function(){return te}}),Symbol();function f(e,t){t=!(1<arguments.length&&void 0!==t)||t,k.set(e,t)}function w(e){return"object"==_typeof(e)&&null!==e}var _=Symbol(),x=Object.getPrototypeOf,k=new WeakMap,E=new WeakMap,O=new WeakSet,t=function(e,t,r,n,i,o,a,s,c){var h=0<arguments.length&&void 0!==e?e:Object.is,d=1<arguments.length&&void 0!==t?t:function(e,t){return new Proxy(e,t)},g=2<arguments.length&&void 0!==r?r:function(e){return w(e)&&!O.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)},u=3<arguments.length&&void 0!==n?n:function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},l=4<arguments.length&&void 0!==i?i:new WeakMap,m=5<arguments.length&&void 0!==o?o:function(o,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u,t=l.get(o);if((null==t?void 0:t[0])===e)return t[1];var s=Array.isArray(o)?[]:Object.create(Object.getPrototypeOf(o));return f(s,!0),l.set(o,[e,s]),Reflect.ownKeys(o).forEach(function(e){var t,r,n,i;Object.getOwnPropertyDescriptor(s,e)||(r={value:t=Reflect.get(o,e),enumerable:!0,configurable:!0},O.has(t)?f(t,!1):t instanceof Promise?(delete r.value,r.get=function(){return a(t)}):E.has(t)&&(n=(i=_slicedToArray(E.get(t),2))[0],i=i[1],r.value=m(n,i(),a)),Object.defineProperty(s,e,r))}),Object.preventExtensions(s)},v=6<arguments.length&&void 0!==a?a:new WeakMap,y=7<arguments.length&&void 0!==s?s:[1,1],b=8<arguments.length&&void 0!==c?c:function(r){if(!w(r))throw new Error("object required");var e=v.get(r);if(e)return e;function c(t,e){var r=1<arguments.length&&void 0!==e?e:++y[0];n!==r&&(n=r,f.forEach(function(e){return e(t,r)}))}function u(r){return function(e,t){e=_toConsumableArray(e);e[1]=[r].concat(_toConsumableArray(e[1])),c(e,t)}}function l(e){var t=p.get(e);t&&(p.delete(e),null==(e=t[1])||e.call(t))}var n=y[0],f=new Set,i=y[1],p=new Map,o=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r)),a=d(o,{deleteProperty:function(e,t){var r=Reflect.get(e,t);l(t);e=Reflect.deleteProperty(e,t);return e&&c(["delete",[t],r]),e},set:function(e,t,r,n){var i=Reflect.has(e,t),o=Reflect.get(e,t,n);if(i&&(h(o,r)||v.has(r)&&h(o,v.get(r))))return!0;l(t),w(r)&&(r=(s=a=r)&&(k.has(s)?k.get(s):x(s)===Object.prototype||x(s)===Array.prototype)&&a[_]||null||r);var a,s=r;return r instanceof Promise?r.then(function(e){r.status="fulfilled",r.value=e,c(["resolve",[t],e])}).catch(function(e){r.status="rejected",r.reason=e,c(["reject",[t],e])}):(!E.has(r)&&g(r)&&(s=b(r)),(a=!O.has(s)&&E.get(s))&&function(e,t){if(p.has(e))throw new Error("prop listener already exists");var r;f.size?(r=t[3](u(e)),p.set(e,[t,r])):p.set(e,[t])}(t,a)),Reflect.set(e,t,s,n),c(["set",[t],r,o]),!0}});v.set(r,a);e=[o,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:++y[1];return i===t||f.size||(i=t,p.forEach(function(e){e=_slicedToArray(e,1)[0][1](t);n<e&&(n=e)})),n},m,function(e){return f.add(e),1===f.size&&p.forEach(function(e,t){var r=_slicedToArray(e,2),e=r[0];if(r[1])throw new Error("remove already exists");r=e[3](u(t));p.set(t,[e,r])}),function(){f.delete(e),0===f.size&&p.forEach(function(e,t){var r=_slicedToArray(e,2),e=r[0],r=r[1];r&&(r(),p.set(t,[e]))})}}];return E.set(a,e),Reflect.ownKeys(r).forEach(function(e){var t=Object.getOwnPropertyDescriptor(r,e);"value"in t&&(a[e]=r[e],delete t.value,delete t.writable),Object.defineProperty(o,e,t)}),a};return[b,E,O,h,d,g,u,l,m,v,y]}(),n=_slicedToArray(t,1)[0];function i(e){return n(0<arguments.length&&void 0!==e?e:{})}function o(e,t,r){var n,e=E.get(e);e||console.warn("Please use proxy object");var i=[],e=e[3],o=!1,a=e(function(e){i.push(e),r?t(i.splice(0)):n=n||Promise.resolve().then(function(){n=void 0,o&&t(i.splice(0))})}),o=!0;return function(){o=!1,a()}}var a,s=i({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),c={state:s,subscribe:function(e){return o(s,function(){return e(s)})},push:function(e,t){e!==s.view&&(s.view=e,t&&(s.data=t),s.history.push(e))},reset:function(e){s.view=e,s.history=[e]},replace:function(e){1<s.history.length&&(s.history[s.history.length-1]=e,s.view=e)},goBack:function(){var e;1<s.history.length&&(s.history.pop(),e=_slicedToArray(s.history.slice(-1),1)[0],s.view=e)},setData:function(e){s.data=e}},p={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:function(){return("undefined"==typeof window?"undefined":_typeof(window))<"u"&&Boolean(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/.test(navigator.userAgent))},isAndroid:function(){return p.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos:function(){var e=navigator.userAgent.toLowerCase();return p.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:function(e){return e.startsWith("http://")||e.startsWith("https://")},isArray:function(e){return Array.isArray(e)&&0<e.length},formatNativeUrl:function(e,t,r){if(p.isHttpUrl(e))return this.formatUniversalUrl(e,t,r);var n=e;return n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n="".concat(n,"://")),n.endsWith("/")||(n="".concat(n,"/")),this.setWalletConnectDeepLink(n,r),"".concat(n,"wc?uri=").concat(encodeURIComponent(t))},formatUniversalUrl:function(e,t,r){if(!p.isHttpUrl(e))return this.formatNativeUrl(e,t,r);return e.endsWith("/")||(e="".concat(e,"/")),this.setWalletConnectDeepLink(e,r),"".concat(e,"wc?uri=").concat(encodeURIComponent(t))},wait:(a=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(e,t)}));case 1:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),openHref:function(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink:function(e,t){try{localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch(e){console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink:function(e){try{var t=_slicedToArray(e.split("?"),1)[0];localStorage.setItem(p.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch(e){console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink:function(){try{localStorage.removeItem(p.WALLETCONNECT_DEEPLINK_CHOICE)}catch(e){console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage:function(){try{("undefined"==typeof localStorage?"undefined":_typeof(localStorage))<"u"&&localStorage.setItem(p.WCM_VERSION,"2.6.2")}catch(e){console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData:function(){var e=null==(e=c.state.data)?void 0:e.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},u=i({enabled:("undefined"==typeof location?"undefined":_typeof(location))<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),l={state:u,subscribe:function(e){return o(u.events,function(){return e(function(e){var t=E.get(e);t||console.warn("Please use proxy object");var r=_slicedToArray(t,3),e=r[0],t=r[1];return(0,r[2])(e,t(),void 0)}(u.events[u.events.length-1]))})},initialize:function(){u.enabled&&_typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(u.userSessionId=crypto.randomUUID())},setConnectedWalletId:function(e){u.connectedWalletId=e},click:function(e){u.enabled&&(e={type:"CLICK",name:e.name,userSessionId:u.userSessionId,timestamp:Date.now(),data:e},u.events.push(e))},track:function(e){u.enabled&&(e={type:"TRACK",name:e.name,userSessionId:u.userSessionId,timestamp:Date.now(),data:e},u.events.push(e))},view:function(e){u.enabled&&(e={type:"VIEW",name:e.name,userSessionId:u.userSessionId,timestamp:Date.now(),data:e},u.events.push(e))}},h=i({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),d={state:h,subscribe:function(e){return o(h,function(){return e(h)})},setChains:function(e){h.chains=e},setWalletConnectUri:function(e){h.walletConnectUri=e},setIsCustomDesktop:function(e){h.isCustomDesktop=e},setIsCustomMobile:function(e){h.isCustomMobile=e},setIsDataLoaded:function(e){h.isDataLoaded=e},setIsUiLoaded:function(e){h.isUiLoaded=e},setIsAuth:function(e){h.isAuth=e}},g=i({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),m={state:g,subscribe:function(e){return o(g,function(){return e(g)})},setConfig:function(e){var t;l.initialize(),d.setChains(e.chains),d.setIsAuth(Boolean(e.enableAuthMode)),d.setIsCustomMobile(Boolean(null==(t=e.mobileWallets)?void 0:t.length)),d.setIsCustomDesktop(Boolean(null==(t=e.desktopWallets)?void 0:t.length)),p.setModalVersionInStorage(),Object.assign(g,e)}},v=Object.defineProperty,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,R=function(e,t,r){return t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},S="https://explorer-api.walletconnect.com",T="wcm",I="js-2.6.2";function A(){return j.apply(this,arguments)}function j(){return(j=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e,t){for(var r in t=t||{})b.call(t,r)&&R(e,r,t[r]);if(y){var n,i=_createForOfIteratorHelper(y(t));try{for(i.s();!(n=i.n()).done;){r=n.value;C.call(t,r)&&R(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({sdkType:T,sdkVersion:I},r),(i=new URL(t,S)).searchParams.append("projectId",m.state.projectId),Object.entries(n).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];t&&i.searchParams.append(e,String(t))}),e.next=5,fetch(i);case 5:return e.abrupt("return",e.sent.json());case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t,r){return t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function L(e,t,r){return t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}var N,M=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("/w3m/v1/getDesktopListings",t));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("/w3m/v1/getMobileListings",t));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("/w3m/v1/getAllListings",t));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=Object.defineProperty,G=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable,H=p.isMobile(),q=i({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),V={state:q,getRecomendedWallets:function(){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var r,t,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.state,r=n.explorerRecommendedWalletIds,t=n.explorerExcludedWalletIds,"NONE"===r||"ALL"===t&&!r)return e.abrupt("return",q.recomendedWallets);e.next=3;break;case 3:if(p.isArray(r))return n={recommendedIds:r.join(",")},e.next=7,D(n);e.next=13;break;case 7:i=e.sent,i=i.listings,(i=Object.values(i)).sort(function(e,t){return r.indexOf(e.id)-r.indexOf(t.id)}),q.recomendedWallets=i,e.next=31;break;case 13:if(o=d.state,a=o.chains,i=o.isAuth,o=null==a?void 0:a.join(","),a=p.isArray(t),o={page:1,sdks:i?"auth_v1":void 0,entries:p.RECOMMENDED_WALLET_AMOUNT,chains:o,version:2,excludedIds:a?t.join(","):void 0},H)return e.next=22,U(o);e.next=25;break;case 22:e.t0=e.sent,e.next=28;break;case 25:return e.next=27,M(o);case 27:e.t0=e.sent;case 28:a=e.t0,a=a.listings,q.recomendedWallets=Object.values(a);case 31:return e.abrupt("return",q.recomendedWallets);case 32:case"end":return e.stop()}},e)}))()},getWallets:function(l){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,i,o,a,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e,t){for(var r in t=t||{})W.call(t,r)&&P(e,r,t[r]);if(G){var n,i=_createForOfIteratorHelper(G(t));try{for(i.s();!(n=i.n()).done;){r=n.value;B.call(t,r)&&P(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({},l),s=m.state,r=s.explorerRecommendedWalletIds,n=s.explorerExcludedWalletIds,i=q.recomendedWallets,"ALL"===n)return e.abrupt("return",q.wallets);e.next=3;break;case 3:if(i.length?t.excludedIds=i.map(function(e){return e.id}).join(","):p.isArray(r)&&(t.excludedIds=r.join(",")),p.isArray(n)&&(t.excludedIds=[t.excludedIds,n].filter(Boolean).join(",")),d.state.isAuth&&(t.sdks="auth_v1"),o=l.page,a=l.search,H)return e.next=9,U(t);e.next=12;break;case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,M(t);case 14:e.t0=e.sent;case 15:return c=e.t0,u=c.listings,s=c.total,c=Object.values(u),u=a?"search":"wallets",e.abrupt("return",(q[u]={listings:[].concat(_toConsumableArray(q[u].listings),_toConsumableArray(c)),total:s,page:null!=o?o:1},{listings:c,total:s}));case 21:case"end":return e.stop()}},e)}))()},getWalletImageUrl:function(e){return e=e,"".concat(S,"/w3m/v1/getWalletImage/").concat(e,"?projectId=").concat(m.state.projectId,"&sdkType=").concat(T,"&sdkVersion=").concat(I)},getAssetImageUrl:function(e){return e=e,"".concat(S,"/w3m/v1/getAssetImage/").concat(e,"?projectId=").concat(m.state.projectId,"&sdkType=").concat(T,"&sdkVersion=").concat(I)},resetSearch:function(){q.search={listings:[],total:0,page:1}}},F=i({open:!1}),K={state:F,subscribe:function(e){return o(F,function(){return e(F)})},open:(N=_asyncToGenerator(regeneratorRuntime.mark(function e(i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){var r,e=d.state,n=e.isUiLoaded,e=e.isDataLoaded;p.removeWalletConnectDeepLink(),d.setWalletConnectUri(null==i?void 0:i.uri),d.setChains(null==i?void 0:i.chains),c.reset("ConnectWallet"),n&&e?(F.open=!0,t()):r=setInterval(function(){var e=d.state;e.isUiLoaded&&e.isDataLoaded&&(clearInterval(r),F.open=!0,t())},200)}));case 1:case"end":return e.stop()}},e)})),function(e){return N.apply(this,arguments)}),close:function(){F.open=!1}},$=Object.defineProperty,Y=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,J=i({themeMode:("undefined"==typeof matchMedia?"undefined":_typeof(matchMedia))<"u"&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),X={state:J,subscribe:function(e){return o(J,function(){return e(J)})},setThemeConfig:function(e){var t=e.themeMode,e=e.themeVariables;t&&(J.themeMode=t),e&&(J.themeVariables=function(e,t){for(var r in t=t||{})Z.call(t,r)&&L(e,r,t[r]);if(Y){var n,i=_createForOfIteratorHelper(Y(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Q.call(t,r)&&L(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({},e))}},ee=i({open:!1,message:"",variant:"success"}),te={state:ee,subscribe:function(e){return o(ee,function(){return e(ee)})},openToast:function(e,t){ee.open=!0,ee.message=e,ee.variant=t},closeToast:function(){ee.open=!1}}},8709:function(e,t,r){r.r(t),r.d(t,{WcmModal:function(){return ur},WcmQrCode:function(){return Gt}});function i(e,t){return t!==e&&(t==t||e==e)}var o=window,a=o.ShadowRoot&&(void 0===o.ShadyCSS||o.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),c=new WeakMap,u=function(){function n(e,t,r){if(_classCallCheck(this,n),this._$cssResult$=!0,r!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}return _createClass(n,[{key:"toString",value:function(){return this.cssText}},{key:"styleSheet",get:function(){var e,t=this.o,r=this.t;return a&&void 0===t&&((e=void 0!==r&&1===r.length)&&(t=c.get(r)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&c.set(r,t))),t}}]),n}(),n=function(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=1===n.length?n[0]:t.reduce(function(e,t,r){return e+function(){if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}()+n[r+1]},n[0]);return new u(i,n,s)},l=a?function(e){return e}:function(n){return n instanceof CSSStyleSheet?function(){var e,t="",r=_createForOfIteratorHelper(n.cssRules);try{for(r.s();!(e=r.n()).done;)t+=e.value.cssText}catch(e){r.e(e)}finally{r.f()}return new u("string"==typeof t?t:t+"",void 0,s)}():n},f=window,p=f.trustedTypes,h=p?p.emptyScript:"",t=f.reactiveElementPolyfillSupport,d={toAttribute:function(e,t){switch(t){case Boolean:e=e?h:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute:function(e,t){var r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},g={attribute:!0,type:String,converter:d,reflect:!1,hasChanged:i},m="finalized",v=function(){_inherits(r,_wrapNativeSuper(HTMLElement));var e,t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this))._$Ei=new Map,e.isUpdatePending=!1,e.hasUpdated=!1,e._$El=null,e._$Eu(),e}return _createClass(r,[{key:"_$Eu",value:function(){var e,t=this;this._$E_=new Promise(function(e){return t.enableUpdating=e}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach(function(e){return e(t)})}},{key:"addController",value:function(e){var t;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(t=e.hostConnected)||void 0===t||t.call(e))}},{key:"removeController",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}},{key:"_$Eg",value:function(){var r=this;this.constructor.elementProperties.forEach(function(e,t){r.hasOwnProperty(t)&&(r._$Ei.set(t,r[t]),delete r[t])})}},{key:"createRenderRoot",value:function(){var n,e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return n=t,e=this.constructor.elementStyles,a?n.adoptedStyleSheets=e.map(function(e){return e instanceof CSSStyleSheet?e:e.styleSheet}):e.forEach(function(e){var t=document.createElement("style"),r=o.litNonce;void 0!==r&&t.setAttribute("nonce",r),t.textContent=e.cssText,n.appendChild(t)}),t}},{key:"connectedCallback",value:function(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach(function(e){var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)})}},{key:"enableUpdating",value:function(){}},{key:"disconnectedCallback",value:function(){var e;null===(e=this._$ES)||void 0===e||e.forEach(function(e){var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)})}},{key:"attributeChangedCallback",value:function(e,t,r){this._$AK(e,r)}},{key:"_$EO",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:g,i=this.constructor._$Ep(e,n);void 0!==i&&!0===n.reflect&&(n=(void 0!==(null===(r=n.converter)||void 0===r?void 0:r.toAttribute)?n.converter:d).toAttribute(t,n.type),this._$El=e,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$El=null)}},{key:"_$AK",value:function(e,t){var r,n=this.constructor,e=n._$Ev.get(e);void 0!==e&&this._$El!==e&&(r="function"==typeof(n=n.getPropertyOptions(e)).converter?{fromAttribute:n.converter}:void 0!==(null===(r=n.converter)||void 0===r?void 0:r.fromAttribute)?n.converter:d,this._$El=e,this[e]=r.fromAttribute(t,n.type),this._$El=null)}},{key:"requestUpdate",value:function(e,t,r){var n=!0;void 0!==e&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||i)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,r))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isUpdatePending=!0,e.prev=1,e.next=4,this._$E_;case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Promise.reject(e.t0);case 9:if(t=this.scheduleUpdate(),e.t1=null!=t,e.t1)return e.next=14,t;e.next=14;break;case 14:return e.abrupt("return",!this.isUpdatePending);case 15:case"end":return e.stop()}},e,this,[[1,6]])})),function(){return e.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var e,r=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(e,t){return r[t]=e}),this._$Ei=void 0);var t=!1,n=this._$AL;try{(t=this.shouldUpdate(n))?(this.willUpdate(n),null===(e=this._$ES)||void 0===e||e.forEach(function(e){var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)}),this.update(n)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(n)}}},{key:"willUpdate",value:function(){}},{key:"_$AE",value:function(e){var t;null===(t=this._$ES)||void 0===t||t.forEach(function(e){var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(){return!0}},{key:"update",value:function(){var r=this;void 0!==this._$EC&&(this._$EC.forEach(function(e,t){return r._$EO(t,r[t],e)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(){}},{key:"firstUpdated",value:function(){}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}}],[{key:"addInitializer",value:function(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}},{key:"createProperty",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:g;r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),r.noAccessor||this.prototype.hasOwnProperty(e)||(t="symbol"==_typeof(e)?Symbol():"__"+e,void 0!==(r=this.getPropertyDescriptor(e,t,r))&&Object.defineProperty(this.prototype,e,r))}},{key:"getPropertyDescriptor",value:function(r,n,i){return{get:function(){return this[n]},set:function(e){var t=this[r];this[n]=e,this.requestUpdate(r,t,i)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(e){return this.elementProperties.get(e)||g}},{key:"finalize",value:function(){if(this.hasOwnProperty(m))return!1;this[m]=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=_toConsumableArray(e.h)),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var t=this.properties,r=_createForOfIteratorHelper([].concat(_toConsumableArray(Object.getOwnPropertyNames(t)),_toConsumableArray(Object.getOwnPropertySymbols(t))));try{for(r.s();!(n=r.n()).done;){var n=n.value;this.createProperty(n,t[n])}}catch(e){r.e(e)}finally{r.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(e){var t=[];if(Array.isArray(e)){var r=_createForOfIteratorHelper(new Set(e.flat(1/0).reverse()));try{for(r.s();!(n=r.n()).done;){var n=n.value;t.unshift(l(n))}}catch(e){r.e(e)}finally{r.f()}}else void 0!==e&&t.push(l(e));return t}},{key:"_$Ep",value:function(e,t){t=t.attribute;return!1===t?void 0:"string"==typeof t?t:"string"==typeof e?e.toLowerCase():void 0}},{key:"observedAttributes",get:function(){var r=this;this.finalize();var n=[];return this.elementProperties.forEach(function(e,t){e=r._$Ep(t,e);void 0!==e&&(r._$Ev.set(e,t),n.push(e))}),n}}]),r}();v[m]=!0,v.elementProperties=new Map,v.elementStyles=[],v.shadowRootOptions={mode:"open"},null==t||t({ReactiveElement:v}),(null!==(p=f.reactiveElementVersions)&&void 0!==p?p:f.reactiveElementVersions=[]).push("1.6.3");var y=window,x=y.trustedTypes,b=x?x.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,k="$lit$",E="lit$".concat((Math.random()+"").slice(9),"$"),O="?"+E,w="<".concat(O,">"),C=document,R=function(){return C.createComment("")},_=function(e){return null===e||"object"!=_typeof(e)&&"function"!=typeof e},S=Array.isArray,t="[ \t\n\f\r]",T=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,I=/-->/g,A=/>/g,j=RegExp(">|".concat(t,"(?:([^\\s\"'>=/]+)(").concat(t,"*=").concat(t,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),P=/'/g,L=/"/g,N=/^(?:script|style|textarea|title)$/i,p=function(i){return function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{_$litType$:i,strings:e,values:r}}},M=p(1),U=p(2),D=Symbol.for("lit-noChange"),z=Symbol.for("lit-nothing"),G=new WeakMap,W=C.createTreeWalker(C,129,null,!1);function B(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==b?b.createHTML(t):t}var H=function(e,t){for(var r,n=e.length-1,i=[],o=2===t?"<svg>":"",a=T,s=0;s<n;s++){for(var c=e[s],u=void 0,l=void 0,f=-1,p=0;p<c.length&&(a.lastIndex=p,null!==(l=a.exec(c)));)p=a.lastIndex,a===T?"!--"===l[1]?a=I:void 0!==l[1]?a=A:void 0!==l[2]?(N.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=j):void 0!==l[3]&&(a=j):a===j?">"===l[0]?(a=null!=r?r:T,f=-1):void 0===l[1]?f=-2:(f=a.lastIndex-l[2].length,u=l[1],a=void 0===l[3]?j:'"'===l[3]?L:P):a===L||a===P?a=j:a===I||a===A?a=T:(a=j,r=void 0);var h=a===j&&e[s+1].startsWith("/>")?" ":"";o+=a===T?c+w:0<=f?(i.push(u),c.slice(0,f)+k+c.slice(f)+E+h):c+E+(-2===f?(i.push(void 0),s):h)}return[B(e,o+(e[n]||"<?>")+(2===t?"</svg>":"")),i]},q=function(){function _(e,t){_classCallCheck(this,_);var r,n=e.strings,i=e._$litType$;this.parts=[];var o=0,a=0,s=n.length-1,c=this.parts,e=_slicedToArray(H(n,i),2),n=e[0],u=e[1];for(this.el=_.createElement(n,t),W.currentNode=this.el.content,2===i&&((i=(t=this.el.content).firstChild).remove(),t.append.apply(t,_toConsumableArray(i.childNodes)));null!==(r=W.nextNode())&&c.length<s;){if(1===r.nodeType){if(r.hasAttributes()){var l=[],f=_createForOfIteratorHelper(r.getAttributeNames());try{for(f.s();!(p=f.n()).done;){var p,h=p.value;(h.endsWith(k)||h.startsWith(E))&&(p=u[a++],l.push(h),void 0!==p?(h=r.getAttribute(p.toLowerCase()+k).split(E),p=/([.?@])?(.*)/.exec(p),c.push({type:1,index:o,name:p[2],strings:h,ctor:"."===p[1]?Y:"?"===p[1]?Q:"@"===p[1]?J:$})):c.push({type:6,index:o}))}}catch(e){f.e(e)}finally{f.f()}for(var d=0,g=l;d<g.length;d++){var m=g[d];r.removeAttribute(m)}}if(N.test(r.tagName)){var v=r.textContent.split(E),y=v.length-1;if(0<y){r.textContent=x?x.emptyScript:"";for(var b=0;b<y;b++)r.append(v[b],R()),W.nextNode(),c.push({type:2,index:++o});r.append(v[y],R())}}}else if(8===r.nodeType)if(r.data===O)c.push({type:2,index:o});else for(var w=-1;-1!==(w=r.data.indexOf(E,w+1));)c.push({type:7,index:o}),w+=E.length-1;o++}}return _createClass(_,null,[{key:"createElement",value:function(e){var t=C.createElement("template");return t.innerHTML=e,t}}]),_}();function V(e,t,r,n){var i,o=2<arguments.length&&void 0!==r?r:e,a=3<arguments.length?n:void 0;if(t===D)return t;var r=void 0!==a?null===(i=o._$Co)||void 0===i?void 0:i[a]:o._$Cl,n=_(t)?void 0:t._$litDirective$;return(null==r?void 0:r.constructor)!==n&&(null===(i=null==r?void 0:r._$AO)||void 0===i||i.call(r,!1),void 0===n?r=void 0:(r=new n(e))._$AT(e,o,a),void 0!==a?(null!==(n=o._$Co)&&void 0!==n?n:o._$Co=[])[a]=r:o._$Cl=r),void 0!==r&&(t=V(e,r._$AS(e,t.values),r,a)),t}var F=function(){function r(e,t){_classCallCheck(this,r),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}return _createClass(r,[{key:"u",value:function(e){var t=this._$AD,r=t.el.content,n=t.parts,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:C).importNode(r,!0);W.currentNode=r;for(var i,o=W.nextNode(),a=0,s=0,c=n[0];void 0!==c;)a===c.index&&(i=void 0,2===c.type?i=new K(o,o.nextSibling,this,e):1===c.type?i=new c.ctor(o,c.name,c.strings,this,e):6===c.type&&(i=new X(o,this,e)),this._$AV.push(i),c=n[++s]),a!==(null==c?void 0:c.index)&&(o=W.nextNode(),a++);return W.currentNode=C,r}},{key:"v",value:function(e){var t=0,r=_createForOfIteratorHelper(this._$AV);try{for(r.s();!(n=r.n()).done;){var n=n.value;void 0!==n&&(void 0!==n.strings?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}catch(e){r.e(e)}finally{r.f()}}},{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),r}(),K=function(){function a(e,t,r,n){_classCallCheck(this,a),this.type=2,this._$AH=z,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cp=null===(n=null==n?void 0:n.isConnected)||void 0===n||n}return _createClass(a,[{key:"_$AI",value:function(e,t){e=V(this,e,1<arguments.length&&void 0!==t?t:this),_(e)?e===z||null==e||""===e?(this._$AH!==z&&this._$AR(),this._$AH=z):e!==this._$AH&&e!==D&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):S(t=e)||"function"==typeof(null==t?void 0:t[Symbol.iterator])?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==z&&_(this._$AH)?this._$AA.nextSibling.data=e:this.$(C.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var t=e.values,r=e._$litType$,e="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=q.createElement(B(r.h,r.h[0]),this.options)),r);(null===(r=this._$AH)||void 0===r?void 0:r._$AD)===e?this._$AH.v(t):(e=(r=new F(e,this)).u(this.options),r.v(t),this.$(e),this._$AH=r)}},{key:"_$AC",value:function(e){var t=G.get(e.strings);return void 0===t&&G.set(e.strings,t=new q(e)),t}},{key:"T",value:function(e){S(this._$AH)||(this._$AH=[],this._$AR());var t,r=this._$AH,n=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var o=o.value;n===r.length?r.push(t=new a(this.k(R()),this.k(R()),this,this.options)):t=r[n],t._$AI(o),n++}}catch(e){i.e(e)}finally{i.f()}n<r.length&&(this._$AR(t&&t._$AB.nextSibling,n),r.length=n)}},{key:"_$AR",value:function(e,t){var r=0<arguments.length&&void 0!==e?e:this._$AA.nextSibling,e=1<arguments.length?t:void 0;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,e);r&&r!==this._$AB;){var n=r.nextSibling;r.remove(),r=n}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}},{key:"_$AU",get:function(){var e;return null!==(e=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==e?e:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}}]),a}(),$=function(){function o(e,t,r,n,i){_classCallCheck(this,o),this.type=1,this._$AH=z,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,2<r.length||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=z}return _createClass(o,[{key:"_$AI",value:function(e,t,r,n){var i=1<arguments.length&&void 0!==t?t:this,o=2<arguments.length?r:void 0,n=3<arguments.length?n:void 0,a=this.strings,s=!1;if(void 0===a)e=V(this,e,i,0),(s=!_(e)||e!==this._$AH&&e!==D)&&(this._$AH=e);else{var c,u,l=e;for(e=a[0],c=0;c<a.length-1;c++)(u=V(this,l[o+c],i,c))===D&&(u=this._$AH[c]),s=s||(!_(u)||u!==this._$AH[c]),u===z?e=z:e!==z&&(e+=(null!=u?u:"")+a[c+1]),this._$AH[c]=u}s&&!n&&this.j(e)}},{key:"j",value:function(e){e===z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}},{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),o}(),Y=function(){_inherits(r,$);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).type=3,e}return _createClass(r,[{key:"j",value:function(e){this.element[this.name]=e===z?void 0:e}}]),r}(),Z=x?x.emptyScript:"",Q=function(){_inherits(r,$);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).type=4,e}return _createClass(r,[{key:"j",value:function(e){e&&e!==z?this.element.setAttribute(this.name,Z):this.element.removeAttribute(this.name)}}]),r}(),J=function(){_inherits(a,$);var o=_createSuper(a);function a(e,t,r,n,i){return _classCallCheck(this,a),(i=o.call(this,e,t,r,n,i)).type=5,i}return _createClass(a,[{key:"_$AI",value:function(e,t){var r,n;(e=null!==(n=V(this,e,1<arguments.length&&void 0!==t?t:this,0))&&void 0!==n?n:z)!==D&&(r=this._$AH,t=e===z&&r!==z||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,n=e!==z&&(r===z||t),t&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,e),this._$AH=e)}},{key:"handleEvent",value:function(e){var t;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}]),a}(),X=function(){function n(e,t,r){_classCallCheck(this,n),this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}return _createClass(n,[{key:"_$AI",value:function(e){V(this,e)}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),n}(),f=y.litHtmlPolyfillSupport;null==f||f(q,K),(null!==(t=y.litHtmlVersions)&&void 0!==t?t:y.litHtmlVersions=[]).push("2.8.0");var ee=function(){_inherits(a,v);var t=_createSuper(a);function a(){var e;return _classCallCheck(this,a),(e=t.apply(this,arguments)).renderOptions={host:_assertThisInitialized(e)},e._$Do=void 0,e}return _createClass(a,[{key:"createRenderRoot",value:function(){var e,t,r=_get(_getPrototypeOf(a.prototype),"createRenderRoot",this).call(this);return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=r.firstChild),r}},{key:"update",value:function(e){var t,r,n,i,o=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(a.prototype),"update",this).call(this,e),this._$Do=(t=o,r=this.renderRoot,n=this.renderOptions,e=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:r,void 0===(o=e._$litPart$)&&(i=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null,e._$litPart$=o=new K(r.insertBefore(R(),i),i,void 0,null!=n?n:{})),o._$AI(t),o)}},{key:"connectedCallback",value:function(){var e;_get(_getPrototypeOf(a.prototype),"connectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;_get(_getPrototypeOf(a.prototype),"disconnectedCallback",this).call(this),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return D}}]),a}();ee.finalized=!0,ee._$litElement$=!0,null===(p=globalThis.litElementHydrateSupport)||void 0===p||p.call(globalThis,{LitElement:ee});f=globalThis.litElementPolyfillSupport;null==f||f({LitElement:ee}),(null!==(t=globalThis.litElementVersions)&&void 0!==t?t:globalThis.litElementVersions=[]).push("3.3.3");var p=function(n){return function(e){return"function"==typeof e?(r=e,customElements.define(n,r),r):(t=n,{kind:e.kind,elements:e.elements,finisher:function(e){customElements.define(t,e)}});var t,r}},te=function(t,r){return"method"!==r.kind||!r.descriptor||"value"in r.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:r.key,initializer:function(){"function"==typeof r.initializer&&(this[r.key]=r.initializer.call(this))},finisher:function(e){e.createProperty(r.key,t)}}:_objectSpread(_objectSpread({},r),{},{finisher:function(e){e.createProperty(r.key,t)}})},re=function(e,t,r){t.constructor.createProperty(r,e)};function ne(r){return function(e,t){return void 0!==t?re(r,e,t):te(r,e)}}function ie(e){return ne(_objectSpread(_objectSpread({},e),{},{state:!0}))}null===(f=window.HTMLSlotElement)||void 0===f||f.prototype.assignedElements;var oe,ae=function(){function t(e){_classCallCheck(this,t)}return _createClass(t,[{key:"_$AT",value:function(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,_toConsumableArray(t))}},{key:"_$AU",get:function(){return this._$AM._$AU}}]),t}(),se=(oe=function(){_inherits(n,ae);var r=_createSuper(n);function n(e){var t;if(_classCallCheck(this,n),t=r.call(this,e),1!==e.type||"class"!==e.name||2<(null===(e=e.strings)||void 0===e?void 0:e.length))throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(t)}return _createClass(n,[{key:"render",value:function(t){return" "+Object.keys(t).filter(function(e){return t[e]}).join(" ")+" "}},{key:"update",value:function(e,t){var r,n,i=this,o=_slicedToArray(t,1)[0];if(void 0===this.it){for(var a in this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(function(e){return""!==e}))),o)!o[a]||null!==(r=this.nt)&&void 0!==r&&r.has(a)||this.it.add(a);return this.render(o)}var s,c=e.element.classList;for(s in this.it.forEach(function(e){e in o||(c.remove(e),i.it.delete(e))}),o){var u=!!o[s];u===this.it.has(s)||null!==(n=this.nt)&&void 0!==n&&n.has(s)||(u?(c.add(s),this.it.add(s)):(c.remove(s),this.it.delete(s)))}return D}}]),n}(),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{_$litDirective$:oe,values:t}}),ce=r(5348),ue={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},le=function(e){return 1e3*e},fe=function(){},pe=function(e){return e};function he(e,t){var r=!(1<arguments.length&&void 0!==t)||t;if(e&&"finished"!==e.playState)try{e.stop?e.stop():(r&&e.commitStyles(),e.cancel())}catch(e){}}function de(e){return e()}var ge=function(e,t,r){r=2<arguments.length&&void 0!==r?r:ue.duration;return new Proxy({animations:e.map(de).filter(Boolean),duration:r,options:t},me)},me={get:function(r,t){var e=r.animations[0];switch(t){case"duration":return r.duration;case"currentTime":return((null==e?void 0:e[t])||0)/1e3;case"playbackRate":case"playState":return null==e?void 0:e[t];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(ve)).catch(fe)),r.finished;case"stop":return function(){r.animations.forEach(function(e){return he(e)})};case"forEachNative":return function(t){r.animations.forEach(function(e){return t(e,r)})};default:return void 0===(null==e?void 0:e[t])?void 0:function(){return r.animations.forEach(function(e){return e[t]()})}}},set:function(e,t,r){switch(t){case"currentTime":r=le(r);case"playbackRate":for(var n=0;n<e.animations.length;n++)e.animations[n][t]=r;return!0}return!1}},ve=function(e){return e.finished},ye=function(e){return"object"==_typeof(e)&&Boolean(e.createAnimation)},be=function(e){return"number"==typeof e},we=function(e){return Array.isArray(e)&&!be(e[0])},_e=function(e,t,r){return-r*e+r*t+e},xe=function(e,t,r){return t-e==0?1:(r-e)/(t-e)};function ke(e,t){for(var r=e[e.length-1],n=1;n<=t;n++){var i=xe(0,t,n);e.push(_e(r,1,i))}}var Ee=function(e,t,r){return Math.min(Math.max(r,e),t)},Oe=function(e,t,r){return(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e},Ce=1e-7,Re=12;function Se(t,r,n,i){return t===r&&n===i?pe:function(e){return 0===e||1===e?e:Oe(function(e,t,r,n,i){for(var o,a,s=0;0<(o=Oe(a=t+(r-t)/2,n,i)-e)?r=a:t=a,Math.abs(o)>Ce&&++s<Re;);return a}(e,0,1,t,n),r,i)}}var Te=function(e){return"function"==typeof e},Ie=function(e){return Array.isArray(e)&&be(e[0])},Ae={ease:Se(.25,.1,.25,1),"ease-in":Se(.42,0,1,1),"ease-in-out":Se(.42,0,.58,1),"ease-out":Se(0,0,.58,1)},je=/\((.*?)\)/;function Pe(e){if(Te(e))return e;if(Ie(e))return Se.apply(void 0,_toConsumableArray(e));if(Ae[e])return Ae[e];if(e.startsWith("steps")){e=je.exec(e);if(e){e=e[1].split(",");return function(t,e){var r=1<arguments.length&&void 0!==e?e:"end";return function(e){e=(e="end"===r?Math.min(e,.999):Math.max(e,.001))*t,e="end"===r?Math.floor(e):Math.ceil(e);return Ee(0,1,e/t)}}(parseFloat(e[0]),e[1].trim())}}return pe}var Le=function(){function p(i){var o=this;_classCallCheck(this,p);var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[0,1],t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=t.easing,n=t.duration,a=void 0===n?ue.duration:n,s=t.delay,c=void 0===s?ue.delay:s,n=t.endDelay,u=void 0===n?ue.endDelay:n,s=t.repeat,n=void 0===s?ue.repeat:s,s=t.offset,t=t.direction,l=void 0===t?"normal":t;this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=pe,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise(function(e,t){o.resolve=e,o.reject=t}),r=r||ue.easing,ye(r)&&(r=(t=r.createAnimation(e)).easing,e=t.keyframes||e,a=t.duration||a),this.repeat=n,this.easing=we(r)?pe:Pe(r),this.updateDuration(a);var f=function(o,e,t){var a=1<arguments.length&&void 0!==e?e:(ke(e=[0],o.length-1),e),s=2<arguments.length&&void 0!==t?t:pe,c=o.length,t=c-a.length;return 0<t&&ke(a,t),function(e){for(var t=0;t<c-2&&!(e<a[t+1]);t++);var r,n,i=Ee(0,1,xe(a[t],a[t+1],e)),i=(n=t,we(r=s)?r[function(e){e=+e;return(+n%e+e)%e+0}(r.length)]:r)(i);return _e(o[t],o[t+1],i)}}(e,s,we(r)?r.map(Pe):pe);this.tick=function(e){var t=0,t=void 0!==o.pauseTime?o.pauseTime:(e-o.startTime)*o.rate;o.t=t,t/=1e3,t=Math.max(t-c,0),"finished"===o.playState&&void 0===o.pauseTime&&(t=o.totalDuration);var r=t/o.duration,n=Math.floor(r),e=r%1;!e&&1<=r&&(e=1),1===e&&n--;n%=2;("reverse"===l||"alternate"===l&&n||"alternate-reverse"===l&&!n)&&(e=1-e);e=t>=o.totalDuration?1:Math.min(e,1),e=f(o.easing(e));i(e),void 0===o.pauseTime&&("finished"===o.playState||t>=o.totalDuration+u)?(o.playState="finished",null===(t=o.resolve)||void 0===t||t.call(o,e)):"idle"!==o.playState&&(o.frameRequestId=requestAnimationFrame(o.tick))},this.play()}return _createClass(p,[{key:"play",value:function(){var e=performance.now();this.playState="running",void 0!==this.pauseTime?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}},{key:"pause",value:function(){this.playState="paused",this.pauseTime=this.t}},{key:"finish",value:function(){this.playState="finished",this.tick(0)}},{key:"stop",value:function(){var e;this.playState="idle",void 0!==this.frameRequestId&&cancelAnimationFrame(this.frameRequestId),null===(e=this.reject)||void 0===e||e.call(this,!1)}},{key:"cancel",value:function(){this.stop(),this.tick(this.cancelTimestamp)}},{key:"reverse",value:function(){this.rate*=-1}},{key:"commitStyles",value:function(){}},{key:"updateDuration",value:function(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}},{key:"currentTime",get:function(){return this.t},set:function(e){void 0!==this.pauseTime||0===this.rate?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}},{key:"playbackRate",get:function(){return this.rate},set:function(e){this.rate=e}}]),p}(),Ne=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setAnimation",value:function(e){var t=this;null==(this.animation=e)||e.finished.then(function(){return t.clearAnimation()}).catch(function(){})}},{key:"clearAnimation",value:function(){this.animation=this.generator=void 0}}]),e}(),Me=new WeakMap;function Ue(e){return Me.has(e)||Me.set(e,{transforms:[],values:new Map}),Me.get(e)}var De=["","X","Y","Z"],ze={x:"translateX",y:"translateY",z:"translateZ"},t={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:function(e){return e+"deg"}},Ge={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:function(e){return e+"px"}},rotate:t,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:pe},skew:t},We=new Map,Be=function(e){return"--motion-".concat(e)},He=["x","y","z"];["translate","scale","rotate","skew"].forEach(function(t){De.forEach(function(e){He.push(t+e),We.set(Be(t+e),Ge[t])})});function qe(e,t){return He.indexOf(e)-He.indexOf(t)}function Ve(e,t){return document.createElement("div").animate(e,t)}var Fe,Ke=new Set(He),$e=function(e){return Ke.has(e)},Ye=function(e){return e.sort(qe).reduce(Ze,"").trim()},Ze=function(e,t){return"".concat(e," ").concat(t,"(var(").concat(Be(t),"))")},Qe=function(e){return e.startsWith("--")},Je=new Set,Xe={cssRegisterProperty:function(){return"undefined"!=typeof CSS&&Object.hasOwnProperty.call(CSS,"registerProperty")},waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")},partialKeyframes:function(){try{Ve({opacity:[1]})}catch(e){return!1}return!0},finished:function(){return Boolean(Ve({opacity:[0,1]},{duration:.001}).finished)},linearEasing:function(){try{Ve({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}},et={},tt={};for(Fe in Xe)!function(e){tt[e]=function(){return void 0===et[e]&&(et[e]=Xe[e]()),et[e]}}(Fe);var rt=function(e,i){return Te(e)?tt.linearEasing()?"linear(".concat(function(e){for(var t="",r=Math.round(i/.015),n=0;n<r;n++)t+=e(xe(0,r-1,n))+", ";return t.substring(0,t.length-2)}(e),")"):ue.easing:Ie(e)?nt(e):e},nt=function(e){var t=_slicedToArray(e,4),r=t[0],n=t[1],e=t[2],t=t[3];return"cubic-bezier(".concat(r,", ").concat(n,", ").concat(e,", ").concat(t,")")};function it(e){return ze[e]&&(e=ze[e]),$e(e)?Be(e):e}var ot=function(e,t){t=it(t);e=Qe(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];return e||0===e||(t=We.get(t))&&(e=t.initialValue),e},at=function(e,t,r){t=it(t),Qe(t)?e.style.setProperty(t,r):e.style[t]=r};function st(c,u,l,e,t){var f,p=3<arguments.length&&void 0!==e?e:{},h=4<arguments.length?t:void 0,d=window.__MOTION_DEV_TOOLS_RECORD,g=!1!==p.record&&d,e=p.duration,m=void 0===e?ue.duration:e,t=p.delay,v=void 0===t?ue.delay:t,e=p.endDelay,y=void 0===e?ue.endDelay:e,t=p.repeat,b=void 0===t?ue.repeat:t,e=p.easing,w=void 0===e?ue.easing:e,t=p.persist,_=void 0!==t&&t,x=p.direction,k=p.offset,e=p.allowWebkitAcceleration,E=void 0!==e&&e,t=Ue(c),O=$e(u),C=tt.waapi();O&&function(e,t){ze[t]&&(t=ze[t]);var r=Ue(e).transforms,n=t;-1===(t=r).indexOf(n)&&t.push(n),e.style.transform=Ye(r)}(c,u);var R=it(u),S=(e=t.values,t=R,e.has(t)||e.set(t,new Ne),e.get(t)),T=We.get(R);return he(S.animation,!(ye(w)&&S.generator)&&!1!==p.record),function(){var t,e,r,n,i,o=function(){var e;return null!==(e=null!==(e=ot(c,R))&&void 0!==e?e:null==T?void 0:T.initialValue)&&void 0!==e?e:0},a=function(e,t){for(var r=0;r<e.length;r++)null===e[r]&&(e[r]=r?e[r-1]:t());return e}((e=l,Array.isArray(e)?e:[e]),o),s=(n=(null==T?void 0:T.toDefaultUnit)||pe,"string"!=typeof(e=a[a.length-1])||(t=(null===(e=e.match(/(-?[\d.]+)([a-z%]*)/))||void 0===e?void 0:e[2])||"")&&(n=function(e){return e+t}),n);return ye(w)&&(w=(r=w.createAnimation(a,"opacity"!==u,o,R,S)).easing,a=r.keyframes||a,m=r.duration||m),Qe(R)&&(tt.cssRegisterProperty()?function(e){if(!Je.has(e)){Je.add(e);try{var t=We.has(e)?We.get(e):{},r=t.syntax,t=t.initialValue;CSS.registerProperty({name:e,inherits:!1,syntax:r,initialValue:t})}catch(e){}}}(R):C=!1),O&&!tt.linearEasing()&&(Te(w)||we(w)&&w.some(Te))&&(C=!1),C?(T&&(a=a.map(function(e){return be(e)?T.toDefaultUnit(e):e})),1!==a.length||tt.partialKeyframes()&&!g||a.unshift(o()),n={delay:le(v),duration:le(m),endDelay:le(y),easing:we(w)?void 0:rt(w,m),direction:x,iterations:b+1,fill:"both"},(f=c.animate((_defineProperty(r={},R,a),_defineProperty(r,"offset",k),_defineProperty(r,"easing",we(w)?w.map(function(e){return rt(e,m)}):void 0),r),n)).finished||(f.finished=new Promise(function(e,t){f.onfinish=e,f.oncancel=t})),i=a[a.length-1],f.finished.then(function(){_||(at(c,R,i),f.cancel())}).catch(fe),E||(f.playbackRate=1.000001)):h&&O?(1===(a=a.map(function(e){return"string"==typeof e?parseFloat(e):e})).length&&a.unshift(parseFloat(o())),f=new h(function(e){at(c,R,s?s(e):e)},a,Object.assign(Object.assign({},p),{duration:m,easing:w}))):(o=a[a.length-1],at(c,R,T&&be(o)?T.toDefaultUnit(o):o)),g&&d(c,u,a,{duration:m,delay:v,easing:w,repeat:b,offset:k},"motion-one"),S.setAnimation(f),f}}var ct,ut=(ct=Le,function(e,t){var r,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=("string"==typeof(r=e)?r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),(e=Array.from(r||[])).length);Boolean(i),Boolean(t);for(var o,a,s,c=[],u=0;u<i;u++){var l,f=e[u];for(l in t){var p=(a=n)[s=l]?Object.assign(Object.assign({},a),a[s]):Object.assign({},a);p.delay=(o=p.delay,s=u,a=i,Te(o)?o(s,a):o);p=st(f,l,t[l],p,ct);c.push(p)}}return ge(c,n,n.duration)});function lt(e,t,r){return(Te(e)?function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ge([function(){var e=new Le(t,[0,1],r);return e.finished.catch(function(){}),e}],r,r.duration)}:ut)(e,t,r)}function ft(e){return null!=e?e:z}function pt(e,t,r){return t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function ht(e,t){for(var r in t=t||{})vt.call(t,r)&&pt(e,r,t[r]);if(mt){var n,i=_createForOfIteratorHelper(mt(t));try{for(i.s();!(n=i.n()).done;){r=n.value;yt.call(t,r)&&pt(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}var dt=r(2558),gt=Object.defineProperty,mt=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable,bt={getPreset:function(e){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}[e]},setTheme:function(){var e,r=document.querySelector(":root"),t=ce.ThemeCtrl.state.themeVariables;r&&(t=ht(ht(ht({},{"--wcm-color-fg-1":(e={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[null!=(e=ce.ThemeCtrl.state.themeMode)?e:"dark"]).foreground[1],"--wcm-color-fg-2":e.foreground[2],"--wcm-color-fg-3":e.foreground[3],"--wcm-color-bg-1":e.background[1],"--wcm-color-bg-2":e.background[2],"--wcm-color-bg-3":e.background[3],"--wcm-color-overlay":e.overlay}),{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}),t),Object.entries(t).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];return r.style.setProperty(e,t)}))},globalCss:n(_templateObject())},f=n(_templateObject2()),wt=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?_t(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&wt(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).disabled=!1,e.iconLeft=void 0,e.iconRight=void 0,e.onClick=function(){return null},e.variant="default",e}return _createClass(r,[{key:"render",value:function(){var e={"wcm-icon-left":void 0!==this.iconLeft,"wcm-icon-right":void 0!==this.iconRight,"wcm-ghost":"ghost"===this.variant,"wcm-outline":"outline"===this.variant},t="inverse";return"ghost"===this.variant&&(t="secondary"),"outline"===this.variant&&(t="accent"),M(_templateObject3(),se(e),this.disabled,this.onClick,this.iconLeft,t,this.iconRight)}}]),r}();r.styles=[bt.globalCss,f],t([ne({type:Boolean})],r.prototype,"disabled",2),t([ne()],r.prototype,"iconLeft",2),t([ne()],r.prototype,"iconRight",2),t([ne()],r.prototype,"onClick",2),t([ne()],r.prototype,"variant",2),r=t([p("wcm-button")],r);var f=n(_templateObject4()),xt=Object.defineProperty,kt=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?kt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&xt(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).disabled=!1,e.variant="primary",e}return _createClass(r,[{key:"render",value:function(){var e={"wcm-secondary":"secondary"===this.variant};return M(_templateObject5(),this.disabled,se(e))}}]),r}();r.styles=[bt.globalCss,f],t([ne({type:Boolean})],r.prototype,"disabled",2),t([ne()],r.prototype,"variant",2),r=t([p("wcm-button-big")],r);f=n(_templateObject6());Object.defineProperty,Object.getOwnPropertyDescriptor;var Et=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject7())}}]),t}();Et.styles=[bt.globalCss,f],Et=function(e){for(var t,r=Et,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-info-footer")]);var Ot={CROSS_ICON:U(_templateObject8()),WALLET_CONNECT_LOGO:U(_templateObject9()),WALLET_CONNECT_ICON:U(_templateObject10()),WALLET_CONNECT_ICON_COLORED:U(_templateObject11()),BACK_ICON:U(_templateObject12()),COPY_ICON:U(_templateObject13()),RETRY_ICON:U(_templateObject14()),DESKTOP_ICON:U(_templateObject15()),MOBILE_ICON:U(_templateObject16()),ARROW_DOWN_ICON:U(_templateObject17()),ARROW_UP_RIGHT_ICON:U(_templateObject18()),ARROW_RIGHT_ICON:U(_templateObject19()),QRCODE_ICON:U(_templateObject20()),SCAN_ICON:U(_templateObject21()),CHECKMARK_ICON:U(_templateObject22()),SEARCH_ICON:U(_templateObject23()),WALLET_PLACEHOLDER:U(_templateObject24()),GLOBE_ICON:U(_templateObject25())},t=n(_templateObject26());Object.defineProperty,Object.getOwnPropertyDescriptor;var Ct=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject27(),Ot.WALLET_CONNECT_LOGO,ce.jb.close,Ot.CROSS_ICON)}}]),t}();Ct.styles=[bt.globalCss,t],Ct=function(e){for(var t,r=Ct,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-modal-backcard")]);r=n(_templateObject28());Object.defineProperty,Object.getOwnPropertyDescriptor;var Rt=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject29())}}]),t}();Rt.styles=[bt.globalCss,r],Rt=function(e){for(var t,r=Rt,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-modal-content")]);f=n(_templateObject30());Object.defineProperty,Object.getOwnPropertyDescriptor;var St=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject31())}}]),t}();St.styles=[bt.globalCss,f],St=function(e){for(var t,r=St,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-modal-footer")]);var t=n(_templateObject32()),Tt=Object.defineProperty,It=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?It(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Tt(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).title="",e.onAction=void 0,e.actionIcon=void 0,e.border=!1,e}return _createClass(r,[{key:"backBtnTemplate",value:function(){return M(_templateObject33(),ce.AV.goBack,Ot.BACK_ICON)}},{key:"actionBtnTemplate",value:function(){return M(_templateObject34(),this.onAction,this.actionIcon)}},{key:"render",value:function(){var e={"wcm-border":this.border},t=1<ce.AV.state.history.length,r=this.title?M(_templateObject35(),this.title):M(_templateObject36());return M(_templateObject37(),se(e),t?this.backBtnTemplate():null,r,this.onAction?this.actionBtnTemplate():null)}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"title",2),r([ne()],f.prototype,"onAction",2),r([ne()],f.prototype,"actionIcon",2),r([ne({type:Boolean})],f.prototype,"border",2),f=r([p("wcm-modal-header")],f);var At={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement:function(e,t){e=e.renderRoot.querySelector(t);if(!e)throw new Error("".concat(t," not found"));return e},getWalletIcon:function(e){var t=e.id,r=e.image_id,e=ce.ConfigCtrl.state.walletImages;return null!=e&&e[t]?e[t]:r?ce.ExplorerCtrl.getWalletImageUrl(r):""},getWalletName:function(e,t){return 1<arguments.length&&void 0!==t&&t&&8<e.length?"".concat(e.substring(0,8),".."):e},isMobileAnimation:function(){return window.innerWidth<=At.MOBILE_BREAKPOINT},preloadImage:function(n){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise(function(e,t){var r=new Image;r.onload=e,r.onerror=t,r.crossOrigin="anonymous",r.src=n}),e.abrupt("return",Promise.race([t,ce.zv.wait(3e3)]));case 2:case"end":return e.stop()}},e)}))()},getErrorMessage:function(e){return e instanceof Error?e.message:"Unknown Error"},debounce:function(n,e){var i,o=1<arguments.length&&void 0!==e?e:500;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i&&clearTimeout(i),i=setTimeout(function(){n.apply(void 0,t)},o)}},handleMobileLinking:function(e){var t=ce.OptionsCtrl.state.walletConnectUri,r=e.mobile,n=e.name,i=null==r?void 0:r.native,r=null==r?void 0:r.universal;At.setRecentWallet(e),t&&(e=t,t="",i?t=ce.zv.formatUniversalUrl(i,e,n):r&&(t=ce.zv.formatNativeUrl(r,e,n)),ce.zv.openHref(t,"_self"))},handleAndroidLinking:function(){var e=ce.OptionsCtrl.state.walletConnectUri;e&&(ce.zv.setWalletConnectAndroidDeepLink(e),ce.zv.openHref(e,"_self"))},handleUriCopy:function(){return _asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ce.OptionsCtrl.state.walletConnectUri)return e.prev=2,e.next=5,navigator.clipboard.writeText(t);e.next=11;break;case 5:ce.ToastCtrl.openToast("Link copied","success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),ce.ToastCtrl.openToast("Failed to copy","error");case 11:case"end":return e.stop()}},e,null,[[2,8]])}))()},getCustomImageUrls:function(){var e=ce.ConfigCtrl.state.walletImages,e=Object.values(null!=e?e:{});return Object.values(e)},truncate:function(e,t){t=1<arguments.length&&void 0!==t?t:8;return e.length<=t?e:"".concat(e.substring(0,4),"...").concat(e.substring(e.length-4))},setRecentWallet:function(e){try{localStorage.setItem(At.WCM_RECENT_WALLET_DATA,JSON.stringify(e))}catch(e){console.info("Unable to set recent wallet")}},getRecentWallet:function(){try{var e=localStorage.getItem(At.WCM_RECENT_WALLET_DATA);return e?JSON.parse(e):void 0}catch(e){console.info("Unable to get recent wallet")}},caseSafeIncludes:function(e,t){return e.toUpperCase().includes(t.toUpperCase())},openWalletExplorerUrl:function(){ce.zv.openHref(At.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms:function(){var e=ce.zv.getWalletRouterData(),t=e.desktop,r=e.mobile,e=Boolean(null==t?void 0:t.native),t=Boolean(null==t?void 0:t.universal);return{isDesktop:e,isMobile:Boolean(null==r?void 0:r.native)||Boolean(null==r?void 0:r.universal),isWeb:t}},goToConnectingView:function(e){ce.AV.setData({Wallet:e});var t=ce.zv.isMobile(),r=At.getCachedRouterWalletPlatforms(),n=r.isDesktop,e=r.isWeb,r=r.isMobile;t?r?ce.AV.push("MobileConnecting"):e?ce.AV.push("WebConnecting"):ce.AV.push("InstallWallet"):n?ce.AV.push("DesktopConnecting"):e?ce.AV.push("WebConnecting"):r?ce.AV.push("MobileQrcodeConnecting"):ce.AV.push("InstallWallet")}},t=n(_templateObject38()),jt=Object.defineProperty,Pt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Pt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&jt(t,r,o),o},f=function(){_inherits(n,ee);var e,r=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=r.call(this)).view=ce.AV.state.view,t.prevView=ce.AV.state.view,t.unsubscribe=void 0,t.oldHeight="0px",t.resizeObserver=void 0,t.unsubscribe=ce.AV.subscribe(function(e){t.view!==e.view&&t.onChangeRoute()}),t}return _createClass(n,[{key:"firstUpdated",value:function(){var t=this;this.resizeObserver=new ResizeObserver(function(e){e=_slicedToArray(e,1)[0],e="".concat(e.contentRect.height,"px");"0px"!==t.oldHeight&&lt(t.routerEl,{height:[t.oldHeight,e]},{duration:.2}),t.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}},{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribe)||e.call(this),null==(e=this.resizeObserver)||e.disconnect()}},{key:"viewTemplate",value:function(){switch(this.view){case"ConnectWallet":return M(_templateObject39());case"DesktopConnecting":return M(_templateObject40());case"MobileConnecting":return M(_templateObject41());case"WebConnecting":return M(_templateObject42());case"MobileQrcodeConnecting":return M(_templateObject43());case"WalletExplorer":return M(_templateObject44());case"Qrcode":return M(_templateObject45());case"InstallWallet":return M(_templateObject46());default:return M(_templateObject47())}}},{key:"onChangeRoute",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished;case 2:this.view=ce.AV.state.view,lt(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05});case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"render",value:function(){return M(_templateObject48(),this.viewTemplate())}},{key:"routerEl",get:function(){return At.getShadowRootElement(this,".wcm-router")}},{key:"contentEl",get:function(){return At.getShadowRootElement(this,".wcm-content")}}]),n}();f.styles=[bt.globalCss,t],r([ie()],f.prototype,"view",2),r([ie()],f.prototype,"prevView",2),f=r([p("wcm-modal-router")],f);var t=n(_templateObject49()),Lt=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Nt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Lt(t,r,o),o},f=function(){_inherits(r,ee);var e=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=e.call(this)).open=!1,t.unsubscribe=void 0,t.timeout=void 0,t.unsubscribe=ce.ToastCtrl.subscribe(function(e){e.open?(t.open=!0,t.timeout=setTimeout(function(){return ce.ToastCtrl.closeToast()},2200)):(t.open=!1,clearTimeout(t.timeout))}),t}return _createClass(r,[{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribe)||e.call(this),clearTimeout(this.timeout),ce.ToastCtrl.closeToast()}},{key:"render",value:function(){var e=ce.ToastCtrl.state,t=e.message,r=e.variant,e={"wcm-success":"success"===r,"wcm-error":"error"===r};return this.open?M(_templateObject50(),se(e),"success"===r?Ot.CHECKMARK_ICON:null,"error"===r?Ot.CROSS_ICON:null,t):null}}]),r}();function Mt(e,t,r){return e!==t&&(e-t<0?t-e:e-t)<=r+.1}f.styles=[bt.globalCss,t],r([ie()],f.prototype,"open",2),f=r([p("wcm-modal-toast")],f);var Ut=function(e,t,r){var n,a="#141414",s=[],c=(e=Array.prototype.slice.call(dt.create(e,{errorCorrectionLevel:"Q"}).modules.data,0),n=Math.sqrt(e.length),e.reduce(function(e,t,r){return(r%n==0?e.push([t]):e[e.length-1].push(t))&&e},[])),u=t/c.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(function(e){for(var t=e.x,e=e.y,r=(c.length-7)*u*t,n=(c.length-7)*u*e,i=0;i<l.length;i+=1){var o=u*(7-2*i);s.push(U(_templateObject51(),i%2==0?a:"#ffffff",o,.45*o,.45*o,o,r+u*i,n+u*i))}});var r=Math.floor((r+25)/u),i=c.length/2-r/2,o=c.length/2+r/2-1,f=[];c.forEach(function(e,n){e.forEach(function(e,t){var r;!c[n][t]||n<7&&t<7||n>c.length-8&&t<7||n<7&&t>c.length-8||i<n&&n<o&&i<t&&t<o||(r=n*u+u/2,t=t*u+u/2,f.push([r,t]))})});var p={};return f.forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];p[e]?p[e].push(t):p[e]=[t]}),Object.entries(p).map(function(e){var t=_slicedToArray(e,2),e=t[0],r=t[1],t=r.filter(function(t){return r.every(function(e){return!Mt(t,e,u)})});return[Number(e),t]}).forEach(function(e){var e=_slicedToArray(e,2),t=e[0];e[1].forEach(function(e){s.push(U(_templateObject52(),t,e,a,u/2.5))})}),Object.entries(p).filter(function(e){e=_slicedToArray(e,2),e[0];return 1<e[1].length}).map(function(e){var t=_slicedToArray(e,2),e=t[0],r=t[1],t=r.filter(function(t){return r.some(function(e){return Mt(t,e,u)})});return[Number(e),t]}).map(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];t.sort(function(e,t){return e<t?-1:1});var r,n=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;)!function(){var t=r.value,e=n.find(function(e){return e.some(function(e){return Mt(t,e,u)})});e?e.push(t):n.push([t])}()}catch(e){i.e(e)}finally{i.f()}return[e,n.map(function(e){return[e[0],e[e.length-1]]})]}).forEach(function(e){var e=_slicedToArray(e,2),r=e[0];e[1].forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];s.push(U(_templateObject53(),r,r,e,t,a,u/1.25))})}),s},t=n(_templateObject54()),Dt=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?zt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Dt(t,r,o),o},Gt=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).uri="",e.size=0,e.imageId=void 0,e.walletId=void 0,e.imageUrl=void 0,e}return _createClass(r,[{key:"svgTemplate",value:function(){var e="light"===ce.ThemeCtrl.state.themeMode?this.size:this.size-36;return U(_templateObject55(),e,e,Ut(this.uri,e,e/4))}},{key:"render",value:function(){var e={"wcm-dark":"dark"===ce.ThemeCtrl.state.themeMode};return M(_templateObject56(),"width: ".concat(this.size,"px"),se(e),this.walletId||this.imageUrl?M(_templateObject57(),ft(this.walletId),ft(this.imageId),ft(this.imageUrl)):Ot.WALLET_CONNECT_ICON_COLORED,this.svgTemplate())}}]),r}();Gt.styles=[bt.globalCss,t],r([ne()],Gt.prototype,"uri",2),r([ne({type:Number})],Gt.prototype,"size",2),r([ne()],Gt.prototype,"imageId",2),r([ne()],Gt.prototype,"walletId",2),r([ne()],Gt.prototype,"imageUrl",2),Gt=r([p("wcm-qrcode")],Gt);var f=n(_templateObject58()),Wt=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?Bt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Wt(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).onChange=function(){return null},e}return _createClass(r,[{key:"render",value:function(){return M(_templateObject59(),this.onChange,Ot.SEARCH_ICON)}}]),r}();r.styles=[bt.globalCss,f],t([ne()],r.prototype,"onChange",2),r=t([p("wcm-search-input")],r);f=n(_templateObject60());Object.defineProperty,Object.getOwnPropertyDescriptor;var Ht=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject61())}}]),t}();Ht.styles=[bt.globalCss,f],Ht=function(e){for(var t,r=Ht,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-spinner")]);var t=n(_templateObject62()),qt=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Vt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&qt(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).variant="medium-regular",e.color="primary",e}return _createClass(r,[{key:"render",value:function(){var e={"wcm-big-bold":"big-bold"===this.variant,"wcm-medium-regular":"medium-regular"===this.variant,"wcm-small-regular":"small-regular"===this.variant,"wcm-small-thin":"small-thin"===this.variant,"wcm-xsmall-regular":"xsmall-regular"===this.variant,"wcm-xsmall-bold":"xsmall-bold"===this.variant,"wcm-color-primary":"primary"===this.color,"wcm-color-secondary":"secondary"===this.color,"wcm-color-tertiary":"tertiary"===this.color,"wcm-color-inverse":"inverse"===this.color,"wcm-color-accnt":"accent"===this.color,"wcm-color-error":"error"===this.color};return M(_templateObject63(),se(e))}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"variant",2),r([ne()],f.prototype,"color",2),f=r([p("wcm-text")],f);var t=n(_templateObject64()),Ft=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Kt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Ft(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).onClick=function(){return null},e.name="",e.walletId="",e.label=void 0,e.imageId=void 0,e.installed=!1,e.recent=!1,e}return _createClass(r,[{key:"sublabelTemplate",value:function(){return this.recent?M(_templateObject65()):this.installed?M(_templateObject66()):null}},{key:"handleClick",value:function(){ce.uA.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}},{key:"render",value:function(){var e;return M(_templateObject67(),this.handleClick.bind(this),this.walletId,ft(this.imageId),null!=(e=this.label)?e:At.getWalletName(this.name,!0),this.sublabelTemplate())}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"onClick",2),r([ne()],f.prototype,"name",2),r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"label",2),r([ne()],f.prototype,"imageId",2),r([ne({type:Boolean})],f.prototype,"installed",2),r([ne({type:Boolean})],f.prototype,"recent",2),f=r([p("wcm-wallet-button")],f);var t=n(_templateObject68()),$t=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Yt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&$t(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).walletId="",e.imageId=void 0,e.imageUrl=void 0,e}return _createClass(r,[{key:"render",value:function(){var e=null!=(e=this.imageUrl)&&e.length?this.imageUrl:At.getWalletIcon({id:this.walletId,image_id:this.imageId});return M(_templateObject69(),e.length?M(_templateObject70(),e,this.id):Ot.WALLET_PLACEHOLDER)}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"imageId",2),r([ne()],f.prototype,"imageUrl",2),f=r([p("wcm-wallet-image")],f);var Zt=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?Qt(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Zt(t,r,o),o},r=function(){_inherits(o,ee);var e,t,r,n,i=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=i.call(this)).preload=!0,e.preloadData(),e}return _createClass(o,[{key:"loadImages",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=null!=t&&t.length,e.t0)return e.next=5,Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",At.preloadImage(t));case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));e.next=5;break;case 5:e.next=10;break;case 7:e.prev=7,e.t1=e.catch(0),console.info("Unsuccessful attempt at preloading some images",t);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(e){return n.apply(this,arguments)})},{key:"preloadListings",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.ConfigCtrl.state.enableExplorer)return e.next=3,ce.ExplorerCtrl.getRecomendedWallets();e.next=9;break;case 3:return ce.OptionsCtrl.setIsDataLoaded(!0),t=ce.ExplorerCtrl.state.recomendedWallets,t=t.map(function(e){return At.getWalletIcon(e)}),e.next=7,this.loadImages(t);case 7:e.next=10;break;case 9:ce.OptionsCtrl.setIsDataLoaded(!0);case 10:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"preloadCustomImages",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=At.getCustomImageUrls(),e.next=3,this.loadImages(t);case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"preloadData",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=this.preload,e.t0)return this.preload=!1,e.next=6,Promise.all([this.preloadListings(),this.preloadCustomImages()]);e.next=6;break;case 6:e.next=11;break;case 8:e.prev=8,e.t1=e.catch(0),console.error(e.t1),ce.ToastCtrl.openToast("Failed preloading","error");case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return e.apply(this,arguments)})}]),o}();t([ie()],r.prototype,"preload",2),r=t([p("wcm-explorer-context")],r),Object.defineProperty,Object.getOwnPropertyDescriptor;var Jt=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).unsubscribeTheme=void 0,bt.setTheme(),e.unsubscribeTheme=ce.ThemeCtrl.subscribe(bt.setTheme),e}return _createClass(r,[{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribeTheme)||e.call(this)}}]),r}(),Jt=(function(e){for(var t,r=Jt,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r)}([p("wcm-theme-context")]),0),f=n(_templateObject71());Object.defineProperty,Object.getOwnPropertyDescriptor;var Xt=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onGoToQrcode",value:function(){ce.AV.push("Qrcode")}},{key:"render",value:function(){var e=ce.ExplorerCtrl.state.recomendedWallets,r=[].concat(_toConsumableArray(e),_toConsumableArray(e)),e=2*ce.zv.RECOMMENDED_WALLET_AMOUNT;return M(_templateObject72(),this.onGoToQrcode,Ot.QRCODE_ICON,Ot.MOBILE_ICON,_toConsumableArray(Array(e)).map(function(e,t){t=r[t%r.length];return t?M(_templateObject73(),t.id,t.image_id):Ot.WALLET_PLACEHOLDER}),At.handleAndroidLinking)}}]),t}();Xt.styles=[bt.globalCss,f],Xt=function(e){for(var t,r=Xt,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-android-wallet-selection")]);var t=n(_templateObject74()),er=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?tr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&er(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).walletId=void 0,e.imageId=void 0,e.isError=!1,e.isStale=!1,e.label="",e}return _createClass(r,[{key:"svgLoaderTemplate",value:function(){var e=null!=(t=null==(e=ce.ThemeCtrl.state.themeVariables)?void 0:e["--wcm-wallet-icon-large-border-radius"])?t:bt.getPreset("--wcm-wallet-icon-large-border-radius"),t=e.includes("%")?.88*parseInt(e,10):parseInt(e,10);return t*=1.17,M(_templateObject75(),t,317-1.57*t,425-1.8*t)}},{key:"render",value:function(){var e={"wcm-error":this.isError,"wcm-stale":this.isStale};return M(_templateObject76(),se(e),this.svgLoaderTemplate(),ft(this.walletId),ft(this.imageId),this.isError?"error":"primary",this.isError?"Connection declined":this.label)}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"imageId",2),r([ne({type:Boolean})],f.prototype,"isError",2),r([ne({type:Boolean})],f.prototype,"isStale",2),r([ne()],f.prototype,"label",2),f=r([p("wcm-connector-waiting")],f);var rr={manualWallets:function(){var e=ce.ConfigCtrl.state,t=e.mobileWallets,r=e.desktopWallets,n=null==(e=rr.recentWallet())?void 0:e.id,r=ce.zv.isMobile()?t:r,r=null==r?void 0:r.filter(function(e){return n!==e.id});return null!=(r=ce.zv.isMobile()?null==r?void 0:r.map(function(e){var t=e.id,r=e.name,e=e.links;return{id:t,name:r,mobile:e,links:e}}):null==r?void 0:r.map(function(e){var t=e.id,r=e.name,e=e.links;return{id:t,name:r,desktop:e,links:e}}))?r:[]},recentWallet:function(){return At.getRecentWallet()},recomendedWallets:function(e){var t,r=0<arguments.length&&void 0!==e&&e||null==(t=rr.recentWallet())?void 0:t.id;return ce.ExplorerCtrl.state.recomendedWallets.filter(function(e){return r!==e.id})}},nr={onConnecting:function(e){At.goToConnectingView(e)},manualWalletsTemplate:function(){var t=this;return rr.manualWallets().map(function(e){return M(_templateObject77(),e.id,e.name,function(){return t.onConnecting(e)})})},recomendedWalletsTemplate:function(e){var t=this,e=0<arguments.length&&void 0!==e&&e;return rr.recomendedWallets(e).map(function(e){return M(_templateObject78(),e.name,e.id,e.image_id,function(){return t.onConnecting(e)})})},recentWalletTemplate:function(){var e=this,t=rr.recentWallet();if(t)return M(_templateObject79(),t.name,t.id,ft(t.image_id),!0,function(){return e.onConnecting(t)})}},t=n(_templateObject80());Object.defineProperty,Object.getOwnPropertyDescriptor;var ir=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=ce.ConfigCtrl.state,t=e.explorerExcludedWalletIds,r=e.enableExplorer,e="ALL"!==t&&r,t=nr.manualWalletsTemplate(),r=nr.recomendedWalletsTemplate(),t=[nr.recentWalletTemplate()].concat(_toConsumableArray(t),_toConsumableArray(r)),r=4<(t=t.filter(Boolean)).length||e,e=r?t.slice(0,3):t,t=Boolean(e.length);return M(_templateObject81(),!0,At.handleUriCopy,Ot.COPY_ICON,Ot.MOBILE_ICON,Ot.SCAN_ICON,t?M(_templateObject82(),Ot.DESKTOP_ICON,e,r?M(_templateObject83()):null):null)}}]),t}();ir.styles=[bt.globalCss,t],ir=function(e){for(var t,r=ir,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-desktop-wallet-selection")]);r=n(_templateObject84());Object.defineProperty,Object.getOwnPropertyDescriptor;var or=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=ce.ConfigCtrl.state,t=e.termsOfServiceUrl,e=e.privacyPolicyUrl;return(null!=t?t:e)?M(_templateObject85(),t?M(_templateObject86(),t):null,t&&e?"and":null,e?M(_templateObject87(),e):null):null}}]),t}();or.styles=[bt.globalCss,r],or=function(e){for(var t,r=or,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-legal-notice")]);f=n(_templateObject88());Object.defineProperty,Object.getOwnPropertyDescriptor;var ar=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onQrcode",value:function(){ce.AV.push("Qrcode")}},{key:"render",value:function(){var e=ce.ConfigCtrl.state,t=e.explorerExcludedWalletIds,r=e.enableExplorer,e="ALL"!==t&&r,t=nr.manualWalletsTemplate(),r=nr.recomendedWalletsTemplate(),t=[nr.recentWalletTemplate()].concat(_toConsumableArray(t),_toConsumableArray(r)),r=8<(t=t.filter(Boolean)).length||e,e=r?t.slice(0,7):t,t=Boolean(e.length);return M(_templateObject89(),this.onQrcode,Ot.QRCODE_ICON,t?M(_templateObject90(),e,r?M(_templateObject91()):null):null)}}]),t}();ar.styles=[bt.globalCss,f],ar=function(e){for(var t,r=ar,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-mobile-wallet-selection")]);var t=n(_templateObject92()),sr=Object.defineProperty,cr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?cr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&sr(t,r,o),o},ur=function(){_inherits(n,ee);var e,r=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=r.call(this)).open=!1,t.active=!1,t.unsubscribeModal=void 0,t.abortController=void 0,t.unsubscribeModal=ce.jb.subscribe(function(e){e.open?t.onOpenModalEvent():t.onCloseModalEvent()}),t}return _createClass(n,[{key:"disconnectedCallback",value:function(){var e;null==(e=this.unsubscribeModal)||e.call(this)}},{key:"toggleBodyScroll",value:function(e){document.querySelector("body")&&(e?null!=(e=document.getElementById("wcm-styles"))&&e.remove():document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}},{key:"onCloseModal",value:function(e){e.target===e.currentTarget&&ce.jb.close()}},{key:"onOpenModalEvent",value:function(){var r=this;this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=At.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e.next=3,Promise.all([lt(r.overlayEl,{opacity:[0,1]},{delay:.1,duration:.2}).finished,lt(r.containerEl,t,{delay:.1,duration:.2}).finished]);case 3:r.active=!0;case 4:case"end":return e.stop()}},e)})),0)}},{key:"onCloseModalEvent",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.toggleBodyScroll(!0),this.removeKeyboardEvents(),t=At.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e.next=4,Promise.all([lt(this.overlayEl,{opacity:[1,0]},{duration:.2}).finished,lt(this.containerEl,t,{duration:.2}).finished]);case 4:this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1;case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"addKeyboardEvents",value:function(){var t=this;this.abortController=new AbortController,window.addEventListener("keydown",function(e){"Escape"===e.key?ce.jb.close():"Tab"===e.key&&(null!=(e=e.target)&&e.tagName.includes("wcm-")||t.containerEl.focus())},this.abortController),this.containerEl.focus()}},{key:"removeKeyboardEvents",value:function(){var e;null==(e=this.abortController)||e.abort(),this.abortController=void 0}},{key:"render",value:function(){var e={"wcm-overlay":!0,"wcm-active":this.active};return M(_templateObject93(),se(e),this.onCloseModal,this.open?M(_templateObject94()):null)}},{key:"overlayEl",get:function(){return At.getShadowRootElement(this,".wcm-overlay")}},{key:"containerEl",get:function(){return At.getShadowRootElement(this,".wcm-container")}}]),n}();ur.styles=[bt.globalCss,t],r([ie()],ur.prototype,"open",2),r([ie()],ur.prototype,"active",2),ur=r([p("wcm-modal")],ur);var f=n(_templateObject95()),lr=Object.defineProperty,fr=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?fr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&lr(t,r,o),o},r=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.apply(this,arguments)).isMobile=!1,e.isDesktop=!1,e.isWeb=!1,e.isRetry=!1,e}return _createClass(r,[{key:"onMobile",value:function(){ce.zv.isMobile()?ce.AV.replace("MobileConnecting"):ce.AV.replace("MobileQrcodeConnecting")}},{key:"onDesktop",value:function(){ce.AV.replace("DesktopConnecting")}},{key:"onWeb",value:function(){ce.AV.replace("WebConnecting")}},{key:"render",value:function(){return M(_templateObject96(),this.isRetry?M(_templateObject97()):null,this.isMobile?M(_templateObject98(),this.onMobile,Ot.MOBILE_ICON):null,this.isDesktop?M(_templateObject99(),this.onDesktop,Ot.DESKTOP_ICON):null,this.isWeb?M(_templateObject100(),this.onWeb,Ot.GLOBE_ICON):null)}}]),r}();r.styles=[bt.globalCss,f],t([ne({type:Boolean})],r.prototype,"isMobile",2),t([ne({type:Boolean})],r.prototype,"isDesktop",2),t([ne({type:Boolean})],r.prototype,"isWeb",2),t([ne({type:Boolean})],r.prototype,"isRetry",2),r=t([p("wcm-platform-selection")],r);f=n(_templateObject101());Object.defineProperty,Object.getOwnPropertyDescriptor;var pr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onClick",value:function(){ce.AV.push("WalletExplorer")}},{key:"render",value:function(){var e=ce.ExplorerCtrl.state.recomendedWallets,e=[].concat(_toConsumableArray(e),_toConsumableArray(rr.manualWallets())).reverse().slice(0,4);return M(_templateObject102(),this.onClick,e.map(function(e){var t=At.getWalletIcon(e);if(t)return M(_templateObject103(),t);e=At.getWalletIcon({id:e.id});return e?M(_templateObject104(),e):Ot.WALLET_PLACEHOLDER}),_toConsumableArray(Array(4-e.length)).map(function(){return Ot.WALLET_PLACEHOLDER}))}}]),t}();pr.styles=[bt.globalCss,f],pr=function(e){for(var t,r=pr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-view-all-wallets-button")]);var t=n(_templateObject105()),hr=Object.defineProperty,dr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?dr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&hr(t,r,o),o},f=function(){_inherits(r,ee);var e=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=e.call(this)).walletId="",t.imageId="",t.uri="",setTimeout(function(){var e=ce.OptionsCtrl.state.walletConnectUri;t.uri=e},0),t}return _createClass(r,[{key:"render",value:function(){return M(_templateObject106(),this.uri?M(_templateObject107(),this.overlayEl.offsetWidth,this.uri,ft(this.walletId),ft(this.imageId)):M(_templateObject108()))}},{key:"overlayEl",get:function(){return At.getShadowRootElement(this,".wcm-qr-container")}}]),r}();f.styles=[bt.globalCss,t],r([ne()],f.prototype,"walletId",2),r([ne()],f.prototype,"imageId",2),r([ie()],f.prototype,"uri",2),f=r([p("wcm-walletconnect-qr")],f),Object.defineProperty,Object.getOwnPropertyDescriptor;var gr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"viewTemplate",value:function(){return ce.zv.isAndroid()?M(_templateObject109()):ce.zv.isMobile()?M(_templateObject110()):M(_templateObject111())}},{key:"render",value:function(){return M(_templateObject112(),this.viewTemplate())}}]),t}();gr.styles=[bt.globalCss],gr=function(e){for(var t,r=gr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-connect-wallet-view")]);var t=n(_templateObject113()),mr=Object.defineProperty,vr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?vr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&mr(t,r,o),o},f=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).isError=!1,e.openDesktopApp(),e}return _createClass(r,[{key:"onFormatAndRedirect",value:function(e){var t=ce.zv.getWalletRouterData(),r=t.desktop,t=t.name,r=null==r?void 0:r.native;r&&(t=ce.zv.formatNativeUrl(r,e,t),ce.zv.openHref(t,"_self"))}},{key:"openDesktopApp",value:function(){var e=ce.OptionsCtrl.state.walletConnectUri,t=ce.zv.getWalletRouterData();At.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}},{key:"render",value:function(){var e=ce.zv.getWalletRouterData(),t=e.name,r=e.id,n=e.image_id,i=At.getCachedRouterWalletPlatforms(),e=i.isMobile,i=i.isWeb;return M(_templateObject114(),t,At.handleUriCopy,Ot.COPY_ICON,r,ft(n),"Continue in ".concat(t,"..."),this.isError,"Connection can continue loading if ".concat(t," is not installed on your device"),e,i,!0,this.openDesktopApp.bind(this),Ot.RETRY_ICON)}}]),r}();f.styles=[bt.globalCss,t],r([ie()],f.prototype,"isError",2),f=r([p("wcm-desktop-connecting-view")],f);t=n(_templateObject115());Object.defineProperty,Object.getOwnPropertyDescriptor;var yr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onInstall",value:function(e){e&&ce.zv.openHref(e,"_blank")}},{key:"render",value:function(){var e=this,t=ce.zv.getWalletRouterData(),r=t.name,n=t.id,i=t.image_id,o=t.homepage;return M(_templateObject116(),r,n,ft(i),!0,"Download ".concat(r," to continue. If multiple browser extensions are installed, disable non ").concat(r," ones and try again"),function(){return e.onInstall(o)},Ot.ARROW_DOWN_ICON)}}]),t}();yr.styles=[bt.globalCss,t],yr=function(e){for(var t,r=yr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-install-wallet-view")]);var r=n(_templateObject117()),br=Object.defineProperty,wr=Object.getOwnPropertyDescriptor,f=function(e,t,r,n){for(var i,o=1<n?void 0:n?wr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&br(t,r,o),o},t=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).isError=!1,e.openMobileApp(),e}return _createClass(r,[{key:"onFormatAndRedirect",value:function(e,t){var r=1<arguments.length&&void 0!==t&&t,n=ce.zv.getWalletRouterData(),i=n.mobile,t=n.name,n=null==i?void 0:i.native,i=null==i?void 0:i.universal;n&&!r?(n=ce.zv.formatNativeUrl(n,e,t),ce.zv.openHref(n,"_self")):i&&(t=ce.zv.formatUniversalUrl(i,e,t),ce.zv.openHref(t,"_self"))}},{key:"openMobileApp",value:function(e){var t=0<arguments.length&&void 0!==e&&e,r=ce.OptionsCtrl.state.walletConnectUri,e=ce.zv.getWalletRouterData();At.setRecentWallet(e),r&&this.onFormatAndRedirect(r,t)}},{key:"onGoToAppStore",value:function(e){e&&ce.zv.openHref(e,"_blank")}},{key:"render",value:function(){var e=this,t=ce.zv.getWalletRouterData(),r=t.name,n=t.id,i=t.image_id,o=t.app,a=t.mobile,t=At.getCachedRouterWalletPlatforms().isWeb,s=null==o?void 0:o.ios,a=null==a?void 0:a.universal;return M(_templateObject118(),r,n,ft(i),this.isError,t,!0,function(){return e.openMobileApp(!1)},Ot.RETRY_ICON,a?M(_templateObject119(),function(){return e.openMobileApp(!0)}):null,n,ft(i),"Get ".concat(r),Ot.ARROW_RIGHT_ICON,function(){return e.onGoToAppStore(s)})}}]),r}();t.styles=[bt.globalCss,r],f([ie()],t.prototype,"isError",2),t=f([p("wcm-mobile-connecting-view")],t);r=n(_templateObject120());Object.defineProperty,Object.getOwnPropertyDescriptor;var _r=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=ce.zv.getWalletRouterData(),t=e.name,r=e.id,n=e.image_id,i=At.getCachedRouterWalletPlatforms(),e=i.isDesktop,i=i.isWeb;return M(_templateObject121(),t,At.handleUriCopy,Ot.COPY_ICON,r,ft(n),"Scan this QR Code with your phone's camera or inside ".concat(t," app"),e,i)}}]),t}();_r.styles=[bt.globalCss,r],_r=function(e){for(var t,r=_r,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-mobile-qr-connecting-view")]),Object.defineProperty,Object.getOwnPropertyDescriptor;var xr=function(){_inherits(t,ee);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return M(_templateObject122(),At.handleUriCopy,Ot.COPY_ICON)}}]),t}();xr.styles=[bt.globalCss],xr=function(e){for(var t,r=xr,n=e.length-1;0<=n;n--)(t=e[n])&&(r=t(r)||r);return r}([p("wcm-qrcode-view")]);var f=n(_templateObject123()),kr=Object.defineProperty,Er=Object.getOwnPropertyDescriptor,t=function(e,t,r,n){for(var i,o=1<n?void 0:n?Er(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&kr(t,r,o),o},r=function(){_inherits(n,ee);var e,r=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=r.apply(this,arguments)).loading=!ce.ExplorerCtrl.state.wallets.listings.length,t.firstFetch=!ce.ExplorerCtrl.state.wallets.listings.length,t.search="",t.endReached=!1,t.intersectionObserver=void 0,t.searchDebounce=At.debounce(function(e){1<=e.length?(t.firstFetch=!0,t.endReached=!1,t.search=e,ce.ExplorerCtrl.resetSearch(),t.fetchWallets()):t.search&&(t.search="",t.endReached=t.isLastPage(),ce.ExplorerCtrl.resetSearch())}),t}return _createClass(n,[{key:"firstUpdated",value:function(){this.createPaginationObserver()}},{key:"disconnectedCallback",value:function(){var e;null==(e=this.intersectionObserver)||e.disconnect()}},{key:"createPaginationObserver",value:function(){var t=this;this.intersectionObserver=new IntersectionObserver(function(e){!_slicedToArray(e,1)[0].isIntersecting||t.search&&t.firstFetch||t.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}},{key:"isLastPage",value:function(){var e=ce.ExplorerCtrl.state,t=e.wallets,e=e.search,e=this.search?e:t,t=e.listings,e=e.total;return e<=40||t.length>=e}},{key:"fetchWallets",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ce.ExplorerCtrl.state,r=n.wallets,t=n.search,n=this.search?t:r,t=n.listings,r=n.total,n=n.page,!this.endReached&&(this.firstFetch||40<r&&t.length<r))return e.prev=2,this.loading=!0,i=null==(i=ce.OptionsCtrl.state.chains)?void 0:i.join(","),e.next=7,ce.ExplorerCtrl.getWallets({page:this.firstFetch?1:n+1,entries:40,search:this.search,version:2,chains:i});e.next=21;break;case 7:return i=e.sent,i=i.listings,i=i.map(function(e){return At.getWalletIcon(e)}),e.next=12,Promise.all([].concat(_toConsumableArray(i.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",At.preloadImage(t));case 1:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())),[ce.zv.wait(300)]));case 12:this.endReached=this.isLastPage(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0),ce.ToastCtrl.openToast(At.getErrorMessage(e.t0),"error");case 18:return e.prev=18,this.loading=!1,this.firstFetch=!1,e.finish(18);case 21:case"end":return e.stop()}},e,this,[[2,15,18,21]])})),function(){return e.apply(this,arguments)})},{key:"onConnect",value:function(e){ce.zv.isAndroid()?At.handleMobileLinking(e):At.goToConnectingView(e)}},{key:"onSearchChange",value:function(e){e=e.target.value;this.searchDebounce(e)}},{key:"render",value:function(){var t=this,e=ce.ExplorerCtrl.state,r=e.wallets,n=e.search,i=(this.search?n:r).listings,o=this.loading&&!i.length,a=3<=this.search.length,e=nr.manualWalletsTemplate(),n=nr.recomendedWalletsTemplate(!0);a&&(e=e.filter(function(e){e=e.values;return At.caseSafeIncludes(e[0],t.search)}),n=n.filter(function(e){e=e.values;return At.caseSafeIncludes(e[0],t.search)}));r=!this.loading&&!i.length&&!n.length,a={"wcm-loading":o,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":r};return M(_templateObject124(),this.onSearchChange.bind(this),se(a),o?null:e,o?null:n,o?null:i.map(function(e){return M(_templateObject125(),e?M(_templateObject126(),e.image_id,e.name,e.id,function(){return t.onConnect(e)}):null)}),r?M(_templateObject127()):null,!r&&this.loading?M(_templateObject128()):null)}},{key:"placeholderEl",get:function(){return At.getShadowRootElement(this,".wcm-placeholder-block")}}]),n}();r.styles=[bt.globalCss,f],t([ie()],r.prototype,"loading",2),t([ie()],r.prototype,"firstFetch",2),t([ie()],r.prototype,"search",2),t([ie()],r.prototype,"endReached",2),r=t([p("wcm-wallet-explorer-view")],r);var t=n(_templateObject129()),Or=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,r=function(e,t,r,n){for(var i,o=1<n?void 0:n?Cr(t,r):t,a=e.length-1;0<=a;a--)(i=e[a])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Or(t,r,o),o},n=function(){_inherits(r,ee);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).isError=!1,e.openWebWallet(),e}return _createClass(r,[{key:"onFormatAndRedirect",value:function(e){var t=ce.zv.getWalletRouterData(),r=t.desktop,t=t.name,r=null==r?void 0:r.universal;r&&(t=ce.zv.formatUniversalUrl(r,e,t),ce.zv.openHref(t,"_blank"))}},{key:"openWebWallet",value:function(){var e=ce.OptionsCtrl.state.walletConnectUri,t=ce.zv.getWalletRouterData();At.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}},{key:"render",value:function(){var e=ce.zv.getWalletRouterData(),t=e.name,r=e.id,n=e.image_id,i=At.getCachedRouterWalletPlatforms(),o=i.isMobile,e=i.isDesktop,i=ce.zv.isMobile();return M(_templateObject130(),t,At.handleUriCopy,Ot.COPY_ICON,r,ft(n),"Continue in ".concat(t,"..."),this.isError,"".concat(t," web app has opened in a new tab. Go there, accept the connection, and come back"),o,!i&&e,!0,this.openWebWallet.bind(this),Ot.RETRY_ICON)}}]),r}();n.styles=[bt.globalCss,t],r([ie()],n.prototype,"isError",2),n=r([p("wcm-web-connecting-view")],n)}},n={};function Ao(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,loaded:!1,exports:{}};return r[e](t,t.exports,Ao),t.loaded=!0,t.exports}Ao.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Ao.d(t,{a:t}),t},Ao.d=function(e,t){for(var r in t)Ao.o(t,r)&&!Ao.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},Ao.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":_typeof(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":_typeof(window)))return window}}(),Ao.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ao.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},Ao.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={};Ao.r(e),Ao.d(e,{identity:function(){return se}});var t={};Ao.r(t),Ao.d(t,{base2:function(){return ce}});var r={};Ao.r(r),Ao.d(r,{base8:function(){return ue}});var n={};Ao.r(n),Ao.d(n,{base10:function(){return le}});var i={};Ao.r(i),Ao.d(i,{base16:function(){return fe},base16upper:function(){return pe}});var o={};Ao.r(o),Ao.d(o,{base32:function(){return he},base32hex:function(){return ve},base32hexpad:function(){return be},base32hexpadupper:function(){return we},base32hexupper:function(){return ye},base32pad:function(){return ge},base32padupper:function(){return me},base32upper:function(){return de},base32z:function(){return _e}});var a={};Ao.r(a),Ao.d(a,{base36:function(){return xe},base36upper:function(){return ke}});var s={};Ao.r(s),Ao.d(s,{base58btc:function(){return Ee},base58flickr:function(){return Oe}});var c={};Ao.r(c),Ao.d(c,{base64:function(){return Ce},base64pad:function(){return Re},base64url:function(){return Se},base64urlpad:function(){return Te}});var u={};Ao.r(u),Ao.d(u,{base256emoji:function(){return je}});var l={};Ao.r(l),Ao.d(l,{sha256:function(){return Ve},sha512:function(){return Fe}});var f={};Ao.r(f),Ao.d(f,{identity:function(){return $e}});var p={};Ao.r(p),Ao.d(p,{code:function(){return Ze},decode:function(){return Je},encode:function(){return Qe},name:function(){return Ye}});var h={};Ao.r(h),Ao.d(h,{code:function(){return rt},decode:function(){return it},encode:function(){return nt},name:function(){return tt}});function d(e,t){_classCallCheck(this,d),this.logger=e,this.core=t}function g(e,t,r,n){_classCallCheck(this,g),this.core=e,this.logger=t,this.name=r}function m(e,t){_classCallCheck(this,m),this.projectId=e,this.logger=t}function v(e){_classCallCheck(this,v),this.opts=e,this.protocol="wc",this.version=2}function y(e){_classCallCheck(this,y),this.client=e}var b=Ao(7358),w=Ao.n(b),_=Ao(3542),x=Ao(5738),k=Ao(2326),E=Ao(6446),O=function(){_inherits(n,E.q);var r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this)).opts=e,t.protocol="wc",t.version=2,t}return n}(),C=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).core=e,r.logger=t,r.records=new Map,r}return i}(),R=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).relayer=e,r.logger=t,r}return i}(),S=function(){_inherits(r,E.q);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this)}return r}(),T=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).relayer=e,r.logger=t,r}return i}(),I=function(){_inherits(i,E.q);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this)).core=e,r.logger=t,r}return i}(),A=function(e){return JSON.stringify(e,function(e,t){return"bigint"==typeof t?t.toString()+"n":t})};function j(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+_typeof(t));try{return e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),JSON.parse(e,function(e,t){return"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t})}catch(e){return t}var e}function P(e){return"string"==typeof e?e:A(e)||""}var L=Ao(4972),N=Ao(4022),M=Ao(7657),U="base64url",D="utf8",z=":",G="did",W="key",B="base58btc",H="z",q="K36";function V(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function F(e){e=0<arguments.length&&void 0!==e?e:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?V(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function K(e,t){var r=F(t=t||e.reduce(function(e,t){return e+t.length},0)),n=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(o=i.n()).done;){var o=o.value;r.set(o,n),n+=o.length}}catch(e){i.e(e)}finally{i.f()}return V(r)}function $(e){var t=e.name,r=e.prefix,n=e.encode,e=e.decode;return new ie(t,r,n,e)}function Y(e,t,r){t=t||[];for(var n=r=r||0;Pe<=e;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,Y.bytes=r-n+1,t}function Z(e,t,r){return Y(e,t,2<arguments.length&&void 0!==r?r:0),t}function Q(e){return(e=e)<Le?1:e<Ne?2:e<Me?3:e<Ue?4:e<De?5:e<ze?6:e<Ge?7:e<We?8:e<Be?9:10}function J(e,t){var r=t.byteLength,n=Q(e),i=n+Q(r),o=new Uint8Array(i+r);return Z(e,o,0),Z(r,o,n),o.set(t,i),new He(e,r,t,o)}var X=(new Uint8Array(0),function(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),ee=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.prefix=t,this.baseEncode=r}return _createClass(n,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),n}(),te=function(){function n(e,t,r){if(_classCallCheck(this,n),this.name=e,void 0===(this.prefix=t).codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}return _createClass(n,[{key:"decode",value:function(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}},{key:"or",value:function(e){return ne(this,e)}}]),n}(),re=function(){function t(e){_classCallCheck(this,t),this.decoders=e}return _createClass(t,[{key:"or",value:function(e){return ne(this,e)}},{key:"decode",value:function(e){var t=e[0],t=this.decoders[t];if(t)return t.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),t}(),ne=function(e,t){return new re(_objectSpread(_objectSpread({},e.decoders||_defineProperty({},e.prefix,e)),t.decoders||_defineProperty({},t.prefix,t)))},ie=function(){function i(e,t,r,n){_classCallCheck(this,i),this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ee(e,t,r),this.decoder=new te(e,t,n)}return _createClass(i,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),i}(),oe=function(e){var t=e.prefix,r=e.name,n=function(p,t){if(255<=p.length)throw new TypeError("Alphabet too long");for(var h=new Uint8Array(256),e=0;e<h.length;e++)h[e]=255;for(var r=0;r<p.length;r++){var n=p.charAt(r),i=n.charCodeAt(0);if(255!==h[i])throw new TypeError(n+" is ambiguous");h[i]=r}var d=p.length,g=p.charAt(0),m=Math.log(d)/Math.log(256),v=Math.log(256)/Math.log(d);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,n=0;e[t]===g;)r++,t++;for(var i=(e.length-t)*m+1>>>0,o=new Uint8Array(i);e[t];){var a=h[e.charCodeAt(t)];if(255===a)return;for(var s=0,c=i-1;(0!==a||s<n)&&-1!==c;c--,s++)a+=d*o[c]>>>0,o[c]=a%256>>>0,a=a/256>>>0;if(0!==a)throw new Error("Non-zero carry");n=s,t++}if(" "!==e[t]){for(var u=i-n;u!==i&&0===o[u];)u++;for(var l=new Uint8Array(r+(i-u)),f=r;u!==i;)l[f++]=o[u++];return l}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var t=0,r=0,n=0,i=e.length;n!==i&&0===e[n];)n++,t++;for(var o=(i-n)*v+1>>>0,a=new Uint8Array(o);n!==i;){for(var s=e[n],c=0,u=o-1;(0!==s||c<r)&&-1!==u;u--,c++)s+=256*a[u]>>>0,a[u]=s%d>>>0,s=s/d>>>0;if(0!==s)throw new Error("Non-zero carry");r=c,n++}for(var l=o-r;l!==o&&0===a[l];)l++;for(var f=g.repeat(t);l<o;++l)f+=p.charAt(a[l]);return f},decodeUnsafe:o,decode:function(e){e=o(e);if(e)return e;throw new Error("Non-".concat(t," character"))}}}(e.alphabet,r),e=n.encode,i=n.decode;return $({prefix:t,name:r,encode:e,decode:function(e){return X(i(e))}})},ae=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return $({prefix:r,name:t,encode:function(e){return function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;r<a;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o}(e,i,n)},decode:function(e){return function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),c=0,u=0,l=0,f=0;f<a;++f){var p=i[e[f]];if(void 0===p)throw new SyntaxError("Non-".concat(n," character"));u=u<<r|p,8<=(c+=r)&&(c-=8,s[l++]=255&u>>c)}if(r<=c||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s}(e,i,n,t)}})},se=$({prefix:"\0",name:"identity",encode:function(e){return e=e,(new TextDecoder).decode(e)},decode:function(e){return e=e,(new TextEncoder).encode(e)}}),ce=ae({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ue=ae({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),le=oe({prefix:"9",name:"base10",alphabet:"0123456789"}),fe=ae({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pe=ae({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),he=ae({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),de=ae({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ge=ae({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),me=ae({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ve=ae({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ye=ae({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),be=ae({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),we=ae({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_e=ae({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xe=oe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ke=oe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ee=oe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Oe=oe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ce=ae({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Re=ae({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Se=ae({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Te=ae({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),l=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),Ie=l.reduce(function(e,t,r){return e[r]=t,e},[]),Ae=l.reduce(function(e,t,r){return e[t.codePointAt(0)]=r,e},[]),je=$({prefix:"ðŸš€",name:"base256emoji",encode:function(e){return e.reduce(function(e,t){return e+Ie[t]},"")},decode:function(e){var t=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var n=i.value,i=Ae[n.codePointAt(0)];if(void 0===i)throw new Error("Non-base256emoji character: ".concat(n));t.push(i)}}catch(e){r.e(e)}finally{r.f()}return new Uint8Array(t)}}),Pe=Math.pow(2,31),Le=Math.pow(2,7),Ne=Math.pow(2,14),Me=Math.pow(2,21),Ue=Math.pow(2,28),De=Math.pow(2,35),ze=Math.pow(2,42),Ge=Math.pow(2,49),We=Math.pow(2,56),Be=Math.pow(2,63),He=function e(t,r,n,i){_classCallCheck(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i},f=function(e){var t=e.name,r=e.code,e=e.encode;return new qe(t,r,e)},qe=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.code=t,this.encode=r}return _createClass(n,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){e=this.encode(e);return e instanceof Uint8Array?J(this.code,e):e.then(function(e){return J(t.code,e)})}throw Error("Unknown type, must be binary type")}}]),n}(),p=function(r){return function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest(r,t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()},Ve=f({name:"sha2-256",code:18,encode:p("SHA-256")}),Fe=f({name:"sha2-512",code:19,encode:p("SHA-512")}),Ke=X,$e={code:0,name:"identity",encode:Ke,digest:function(e){return J(0,Ke(e))}},Ye="raw",Ze=85,Qe=function(e){return X(e)},Je=function(e){return X(e)},Xe=new TextEncoder,et=new TextDecoder,tt="json",rt=512,nt=function(e){return Xe.encode(JSON.stringify(e))},it=function(e){return JSON.parse(et.decode(e))};Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");h=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},e),t),r),n),i),o),a),s),c),u);function ot(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var oe=ot("utf8","u",function(e){return"u"+new TextDecoder("utf8").decode(e)},function(e){return(new TextEncoder).encode(e.substring(1))}),ae=ot("ascii","a",function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},function(e){for(var t=F((e=e.substring(1)).length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),at=_objectSpread({utf8:oe,"utf-8":oe,hex:h.base16,latin1:ae,ascii:ae,binary:ae},h);function st(e,t){var r=1<arguments.length&&void 0!==t?t:"utf8",t=at[r];if(!t)throw new Error('Unsupported encoding "'.concat(r,'"'));return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function ct(e,t){var r=1<arguments.length&&void 0!==t?t:"utf8",t=at[r];if(!t)throw new Error('Unsupported encoding "'.concat(r,'"'));return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode("".concat(t.prefix).concat(e)):V(globalThis.Buffer.from(e,"utf-8"))}function ut(e){return st(ct(P(e),D),U)}function lt(e){var t=ct(q,B),e=H+st(K([t,e]),B);return[G,W,e].join(z)}function ft(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(0,N.randomBytes)(32);return L._w(e)}Ao(9611);var pt=Ao(8842),ht=Ao(5393),dt=Ao(1548),gt=Ao(5492),mt=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},vt=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},yt=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},bt=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},wt=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},_t=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},xt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,kt=3,Et=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],Ot=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ct(e){var n,t=""!==(n=e)&&Et.reduce(function(e,t){var r=t[0],t=t[1];if(e)return e;t=t.exec(n);return!!t&&[r,t]},!1);if(!t)return null;var r=t[0],i=t[1];if("searchbot"===r)return new wt;t=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);t?t.length<kt&&(t=mt(mt([],t,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(kt-t.length),!0)):t=[];i=t.join("."),t=function(e){for(var t=0,r=Ot.length;t<r;t++){var n=Ot[t],i=n[0];if(n[1].exec(e))return i}return null}(e),e=xt.exec(e);return e&&e[1]?new bt(r,i,t,e[1]):new vt(r,i,t)}var Rt=Ao(9153),St=Ao(747),Tt=Ao(9545);Ao(4585);var It={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};function At(e,t){return e.includes(":")?[e]:t.chains||[]}var jt="base10",Pt="base16",Lt="base64pad",Nt="utf8";function Mt(){return st((0,N.randomBytes)(32),Pt)}function Ut(e){return st((0,dt.vp)(ct(e,Nt)),Pt)}function Dt(e){return Number(st(e,jt))}function zt(e){var t=ct(e,Lt),r=t.slice(0,1);if(1===Dt(r)){var n=t.slice(1,33),e=t.slice(33,45);return{type:r,sealed:t.slice(45),iv:e,senderPublicKey:n}}n=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:n}}function Gt(e){var t=(null==e?void 0:e.type)||0;if(1===t){if("u"<_typeof(null==e?void 0:e.senderPublicKey))throw new Error("missing sender public key");if("u"<_typeof(null==e?void 0:e.receiverPublicKey))throw new Error("missing receiver public key")}return{type:t,senderPublicKey:null==e?void 0:e.senderPublicKey,receiverPublicKey:null==e?void 0:e.receiverPublicKey}}function Wt(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function Bt(e,t,r){return t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Ht(e,t){for(var r in t=t||{})Ft.call(t,r)&&Bt(e,r,t[r]);if(Vt){var n,i=_createForOfIteratorHelper(Vt(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Kt.call(t,r)&&Bt(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}var qt=Object.defineProperty,Vt=Object.getOwnPropertySymbols,Ft=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,$t="ReactNative",Yt={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Zt="js";function Qt(){return("undefined"==typeof process?"undefined":_typeof(process))<"u"&&_typeof(process.versions)<"u"&&_typeof(process.versions.node)<"u"}function Jt(){return!(0,Rt.getDocument)()&&(0,Rt.getNavigator)()&&navigator.product===$t}function Xt(){return!Qt()&&!!(0,Rt.getNavigator)()}function er(){return Jt()?Yt.reactNative:Qt()?Yt.node:Xt()?Yt.browser:Yt.unknown}function tr(e,t){return e.filter(function(e){return t.includes(e)}).length===e.length}function rr(e){return Object.fromEntries(e.entries())}function nr(e){return new Map(Object.entries(e))}function ir(e,t){var r,n,i,e=0<arguments.length&&void 0!==e?e:M.FIVE_MINUTES,o=1<arguments.length?t:void 0,a=(0,M.toMiliseconds)(e||M.FIVE_MINUTES);return{resolve:function(e){i&&r&&(clearTimeout(i),r(e))},reject:function(e){i&&n&&(clearTimeout(i),n(e))},done:function(){return new Promise(function(e,t){i=setTimeout(function(){t(new Error(o))},a),r=e,n=t})}}}function or(i,o,a){return new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=setTimeout(function(){return r(new Error(a))},o),e.prev=1,e.t0=t,e.next=5,i;case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),r(e.t2);case 12:clearTimeout(n);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(e,t){return r.apply(this,arguments)}}())}function ar(e,t){if("string"==typeof t&&t.startsWith("".concat(e,":")))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return"topic:".concat(t)}if("id"!==e.toLowerCase())throw new Error("Unknown expirer target type: ".concat(e));if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return"id:".concat(t)}function sr(e){var t=_slicedToArray(e.split(":"),2),r=t[0],e=t[1],t={id:void 0,topic:void 0};if("topic"===r&&"string"==typeof e)t.topic=e;else{if("id"!==r||!Number.isInteger(Number(e)))throw new Error("Invalid target, expected id:number or topic:string, got ".concat(r,":").concat(e));t.id=Number(e)}return t}function cr(e,t){return(0,M.fromMiliseconds)((t||Date.now())+(0,M.toMiliseconds)(e))}function ur(e){return Date.now()>=(0,M.toMiliseconds)(e)}function lr(e,t){return"".concat(e).concat(t?":".concat(t):"")}function fr(e){return(null==e?void 0:e.relay)||{protocol:"irn"}}function pr(e){var t=It[e];if("u"<_typeof(t))throw new Error("Relay Protocol not supported: ".concat(e));return t}var hr=Object.defineProperty,dr=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,vr=function(e,t,r){return t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};function yr(e){var r=[];return e.forEach(function(e){var t=_slicedToArray(e.split(":"),2),e=t[0],t=t[1];r.push("".concat(e,":").concat(t))}),r}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var br={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},wr={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function _r(e,t){var r=wr[e],e=r.message,r=r.code;return{message:t?"".concat(e," ").concat(t):e,code:r}}function xr(e,t){var r=br[e],e=r.message,r=r.code;return{message:t?"".concat(e," ").concat(t):e,code:r}}function kr(e,t){return Array.isArray(e)&&(!(_typeof(t)<"u"&&e.length)||e.every(t))}function Er(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Or(e){return"u"<_typeof(e)}function Cr(e,t){return!(!t||!Or(e))||"string"==typeof e&&!!e.trim().length}function Rr(e,t){return t&&Or(e)||"number"==typeof e&&!isNaN(e)}function Sr(e){return Cr(e,!1)&&e.includes(":")&&2===e.split(":").length}function Tr(e){var t=!0;return kr(e)?e.length&&(t=e.every(function(e){return Cr(e,!1)})):t=!1,t}function Ir(e,n){var i=null;return Object.values(e).forEach(function(e){var t,r;i||(t=e,r="".concat(n,", namespace"),Tr((e=null)==t?void 0:t.methods)?Tr(null==t?void 0:t.events)||(e=xr("UNSUPPORTED_EVENTS","".concat(r,", events should be an array of strings or empty array for no events"))):e=xr("UNSUPPORTED_METHODS","".concat(r,", methods should be an array of strings or empty array for no methods")),(e=e)&&(i=e))}),i}function Ar(e,t){var r,n,i,o=null;return e&&Er(e)?((r=Ir(e,t))&&(o=r),(e=(n=t,i=null,Object.values(e).forEach(function(e){var t,r;i||(e=null==e?void 0:e.accounts,t="".concat(n," namespace"),r=null,kr(e)?e.forEach(function(e){r||function(e){if(Cr(e,!1)&&e.includes(":")){var t=e.split(":");if(3===t.length){e=t[0]+":"+t[1];return t[2]&&Sr(e)}}}(e)||(r=xr("UNSUPPORTED_ACCOUNTS","".concat(t,", account ").concat(e,' should be a string and conform to "namespace:chainId:address" format')))}):r=xr("UNSUPPORTED_ACCOUNTS","".concat(t,', accounts should be an array of strings conforming to "namespace:chainId:address" format')),(e=r)&&(i=e))}),i))&&(o=e)):o=_r("MISSING_OR_INVALID","".concat(t,", namespaces should be an object with data")),o}function jr(e){return Cr(e.protocol,!0)}function Pr(e){return _typeof(e)<"u"&&null!==typeof e}function Lr(e,t){return Sr(t)&&(r=[],Object.values(e).forEach(function(e){r.push.apply(r,_toConsumableArray(yr(e.accounts)))}),r.includes(t));var r}function Nr(e,r,n){var i,o,a,s,c=null,t=(a=e,s={},Object.keys(a).forEach(function(t){var e;t.includes(":")?s[t]=a[t]:null==(e=a[t].chains)||e.forEach(function(e){s[e]={methods:a[t].methods,events:a[t].events}})}),s),u=(i=r,o={},Object.keys(i).forEach(function(e){var t;e.includes(":")?o[e]=i[e]:null!=(t=yr(i[e].accounts))&&t.forEach(function(t){o[t]={accounts:i[e].accounts.filter(function(e){return e.includes("".concat(t,":"))}),methods:i[e].methods,events:i[e].events}})}),o),l=Object.keys(t),f=Object.keys(u),e=Mr(Object.keys(e)),p=Mr(Object.keys(r)),e=e.filter(function(e){return!p.includes(e)});return e.length&&(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces keys don't satisfy requiredNamespaces.\n      Required: ").concat(e.toString(),"\n      Received: ").concat(Object.keys(r).toString()))),tr(l,f)||(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces chains don't satisfy required namespaces.\n      Required: ").concat(l.toString(),"\n      Approved: ").concat(f.toString()))),Object.keys(r).forEach(function(e){var t;e.includes(":")&&!c&&((t=yr(r[e].accounts)).includes(e)||(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces accounts don't satisfy namespace accounts for ").concat(e,"\n        Required: ").concat(e,"\n        Approved: ").concat(t.toString()))))}),l.forEach(function(e){c||(tr(t[e].methods,u[e].methods)?tr(t[e].events,u[e].events)||(c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces events don't satisfy namespace events for ").concat(e))):c=_r("NON_CONFORMING_NAMESPACES","".concat(n," namespaces methods don't satisfy namespace methods for ").concat(e)))}),c}function Mr(e){return _toConsumableArray(new Set(e.map(function(e){return e.includes(":")?e.split(":")[0]:e})))}function Ur(){var r=er();return new Promise(function(e){var t;switch(r){case Yt.browser:e(Xt()&&(null===(t=navigator)||void 0===t?void 0:t.onLine));break;case Yt.reactNative:e(_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Jt()&&_typeof(Ao.g)<"u"&&null!=Ao.g&&Ao.g.NetInfo)return e.next=3,null==Ao.g?void 0:Ao.g.NetInfo.fetch();e.next=5;break;case 3:return t=e.sent,e.abrupt("return",null==t?void 0:t.isConnected);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e)}))());break;case Yt.node:default:e(!0)}})}var Dr={},zr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"get",value:function(e){return Dr[e]}},{key:"set",value:function(e,t){Dr[e]=t}},{key:"delete",value:function(e){delete Dr[e]}}]),e}(),Gr="INTERNAL_ERROR",Wr="SERVER_ERROR",Br=[-32700,-32600,-32601,-32602,-32603],Hr=(_defineProperty(l={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"}},Gr,{code:-32603,message:"Internal error"}),_defineProperty(l,Wr,{code:-32e3,message:"Server error"}),l),qr=Wr;function Vr(e){return Object.keys(Hr).includes(e)?Hr[e]:Hr[qr]}var Fr=Ao(2549);function Kr(e){e=0<arguments.length&&void 0!==e?e:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function $r(e){return BigInt(Kr(0<arguments.length&&void 0!==e?e:6))}function Yr(e,t,r){return{id:r||Kr(),jsonrpc:"2.0",method:e,params:t}}function Zr(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Qr(e,t,r){return{id:e,jsonrpc:"2.0",error:(r=r,void 0===(t=t)?Vr(Gr):("string"==typeof t&&(t=Object.assign(Object.assign({},Vr(Wr)),{message:t})),void 0!==r&&(t.data=r),r=t.code,Br.includes(r)&&(t=function(t){return Object.values(Hr).find(function(e){return e.code===t})||Hr[qr]}(t.code)),t))}}function Jr(){_classCallCheck(this,Jr)}var Xr=function(){_inherits(t,Jr);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.call(this)}return t}(),en=function(){_inherits(r,Xr);var t=_createSuper(r);function r(e){return _classCallCheck(this,r),t.call(this)}return r}();function tn(e){return t=e,void 0!==(e=function(){var e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}())&&new RegExp("^wss?:").test(e);var t}function rn(e){return"object"==_typeof(e)&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function nn(e){return rn(e)&&"method"in e}function on(e){return rn(e)&&(an(e)||sn(e))}function an(e){return"result"in e}function sn(e){return"error"in e}function cn(e){return e.split("?")[0]}function un(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function ln(e){var t=e.name,r=e.prefix,n=e.encode,e=e.decode;return new kn(t,r,n,e)}function fn(e,t,r){t=t||[];for(var n=r=r||0;Cn<=e;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,fn.bytes=r-n+1,t}function pn(e,t,r){return fn(e,t,2<arguments.length&&void 0!==r?r:0),t}function hn(e){return(e=e)<Rn?1:e<Sn?2:e<Tn?3:e<In?4:e<An?5:e<jn?6:e<Pn?7:e<Ln?8:e<Nn?9:10}function dn(e,t){var r=t.byteLength,n=hn(e),i=n+hn(r),o=new Uint8Array(i+r);return pn(e,o,0),pn(r,o,n),o.set(t,i),new Mn(e,r,t,o)}var gn=function(){_inherits(s,en);var e,t,r,n,i,o,a=_createSuper(s);function s(e){var t;return _classCallCheck(this,s),(t=a.call(this,e)).events=new b.EventEmitter,t.hasRegisteredEventListeners=!1,t.connection=t.setConnection(e),t.connection.connected&&t.registerEventListeners(),t}return _createClass(s,[{key:"connect",value:(o=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:this.connection,e.next=3,this.open(t);case 3:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"disconnect",value:(i=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"request",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.requestStrict(Yr(t.method,t.params||[],t.id||$r().toString()),r));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"requestStrict",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(n,i){var o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.connection.connected){e.next=9;break}return e.prev=1,e.next=4,o.open();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),r(e.t0);case 9:return o.events.on("".concat(n.id),function(e){sn(e)?r(e.error):t(e.result)}),e.prev=10,e.next=13,o.connection.send(n,i);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),r(e.t1);case 18:case"end":return e.stop()}},e,null,[[1,6],[10,15]])}));return function(e,t){return r.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})},{key:"setConnection",value:function(e){return 0<arguments.length&&void 0!==e?e:this.connection}},{key:"onPayload",value:function(e){this.events.emit("payload",e),on(e)?this.events.emit("".concat(e.id),e):this.events.emit("message",{type:e.method,data:e.params})}},{key:"onClose",value:function(e){e&&3e3===e.code&&this.events.emit("error",new Error("WebSocket connection closed abnormally with code: ".concat(e.code," ").concat(e.reason?"(".concat(e.reason,")"):""))),this.events.emit("disconnect")}},{key:"open",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<r.length&&void 0!==r[0]?r[0]:this.connection,e.t0=this.connection===t&&this.connection.connected,e.t0){e.next=14;break}if(this.connection.connected&&this.close(),e.t1="string"==typeof t,e.t1)return e.next=8,this.connection.open(t);e.next=9;break;case 8:t=this.connection;case 9:return this.connection=this.setConnection(t),e.next=12,this.connection.open();case 12:this.registerEventListeners(),this.events.emit("connect");case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"close",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.close();case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var t=this;this.hasRegisteredEventListeners||(this.connection.on("payload",function(e){return t.onPayload(e)}),this.connection.on("close",function(e){return t.onClose(e)}),this.connection.on("error",function(e){return t.events.emit("error",e)}),this.connection.on("register_error",function(e){return t.onClose()}),this.hasRegisteredEventListeners=!0)}}]),s}(),mn="undefined"!=typeof WebSocket?WebSocket:void 0!==Ao.g&&void 0!==Ao.g.WebSocket?Ao.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:"undefined"!=typeof self&&void 0!==self.WebSocket?self.WebSocket:Ao(6664),vn=function(){function t(e){if(_classCallCheck(this,t),this.url=e,this.events=new b.EventEmitter,this.registering=!1,!tn(e))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(e));this.url=e}var r,e,n;return _createClass(t,[{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"open",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:this.url,e.next=3,this.register(t);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"close",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,e){void 0!==r.socket?(r.socket.onclose=function(e){r.onClose(e),t()},r.socket.close()):e(new Error("Connection already closed"))}));case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})},{key:"send",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=void 0===this.socket,e.t0)return e.next=4,this.register();e.next=5;break;case 4:this.socket=e.sent;case 5:try{this.socket.send(P(t))}catch(e){this.onError(t.id,e)}case 6:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"register",value:function(e){var i=this,o=0<arguments.length&&void 0!==e?e:this.url;if(!tn(o))throw new Error("Provided URL is not compatible with WebSocket connection: ".concat(o));if(this.registering){e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(function(e,t){i.events.once("register_error",function(e){i.resetMaxListeners(),t(e)}),i.events.once("open",function(){return i.resetMaxListeners(),void 0===i.socket?t(new Error("WebSocket connection is missing or invalid")):void e(i.socket)})})}return this.url=o,this.registering=!0,new Promise(function(e,t){var r,r=(0,Fr.isReactNative)()?void 0:{rejectUnauthorized:(r=o,!new RegExp("wss?://localhost(:d{2,5})?").test(r))},n=new mn(o,[],r);"undefined"!=typeof WebSocket||void 0!==Ao.g&&void 0!==Ao.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket?n.onerror=function(e){t(i.emitError(e.error))}:n.on("error",function(e){t(i.emitError(e))}),n.onopen=function(){i.onOpen(n),e(n)}})}},{key:"onOpen",value:function(e){var t=this;e.onmessage=function(e){return t.onPayload(e)},e.onclose=function(e){return t.onClose(e)},this.socket=e,this.registering=!1,this.events.emit("open")}},{key:"onClose",value:function(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}},{key:"onPayload",value:function(e){void 0!==e.data&&(e="string"==typeof e.data?j(e.data):e.data,this.events.emit("payload",e))}},{key:"onError",value:function(e,t){t=this.parseError(t),t=Qr(e,t.message||t.toString());this.events.emit("payload",t)}},{key:"parseError",value:function(e,t){t=1<arguments.length&&void 0!==t?t:this.url;return e=e,t=cn(t),e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error("Unavailable WS RPC url at ".concat(t)):e}},{key:"resetMaxListeners",value:function(){10<this.events.getMaxListeners()&&this.events.setMaxListeners(10)}},{key:"emitError",value:function(e){e=this.parseError(new Error((null==e?void 0:e.message)||"WebSocket connection failed for host: ".concat(cn(this.url))));return this.events.emit("register_error",e),e}},{key:"connected",get:function(){return void 0!==this.socket}},{key:"connecting",get:function(){return this.registering}}]),t}(),f=Ao(3918),yn=Ao.n(f),bn=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.prefix=t,this.baseEncode=r}return _createClass(n,[{key:"encode",value:function(e){if(e instanceof Uint8Array)return"".concat(this.prefix).concat(this.baseEncode(e));throw Error("Unknown type, must be binary type")}}]),n}(),wn=function(){function n(e,t,r){if(_classCallCheck(this,n),this.name=e,void 0===(this.prefix=t).codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}return _createClass(n,[{key:"decode",value:function(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");if(e.codePointAt(0)!==this.prefixCodePoint)throw Error("Unable to decode multibase string ".concat(JSON.stringify(e),", ").concat(this.name," decoder only supports inputs prefixed with ").concat(this.prefix));return this.baseDecode(e.slice(this.prefix.length))}},{key:"or",value:function(e){return xn(this,e)}}]),n}(),_n=function(){function t(e){_classCallCheck(this,t),this.decoders=e}return _createClass(t,[{key:"or",value:function(e){return xn(this,e)}},{key:"decode",value:function(e){var t=e[0],t=this.decoders[t];if(t)return t.decode(e);throw RangeError("Unable to decode multibase string ".concat(JSON.stringify(e),", only inputs prefixed with ").concat(Object.keys(this.decoders)," are supported"))}}]),t}(),xn=function(e,t){return new _n(_objectSpread(_objectSpread({},e.decoders||_defineProperty({},e.prefix,e)),t.decoders||_defineProperty({},t.prefix,t)))},kn=function(){function i(e,t,r,n){_classCallCheck(this,i),this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new bn(e,t,r),this.decoder=new wn(e,t,n)}return _createClass(i,[{key:"encode",value:function(e){return this.encoder.encode(e)}},{key:"decode",value:function(e){return this.decoder.decode(e)}}]),i}(),p=function(e){var t=e.prefix,r=e.name,n=function(p,t){if(255<=p.length)throw new TypeError("Alphabet too long");for(var h=new Uint8Array(256),e=0;e<h.length;e++)h[e]=255;for(var r=0;r<p.length;r++){var n=p.charAt(r),i=n.charCodeAt(0);if(255!==h[i])throw new TypeError(n+" is ambiguous");h[i]=r}var d=p.length,g=p.charAt(0),m=Math.log(d)/Math.log(256),v=Math.log(256)/Math.log(d);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,n=0;e[t]===g;)r++,t++;for(var i=(e.length-t)*m+1>>>0,o=new Uint8Array(i);e[t];){var a=h[e.charCodeAt(t)];if(255===a)return;for(var s=0,c=i-1;(0!==a||s<n)&&-1!==c;c--,s++)a+=d*o[c]>>>0,o[c]=a%256>>>0,a=a/256>>>0;if(0!==a)throw new Error("Non-zero carry");n=s,t++}if(" "!==e[t]){for(var u=i-n;u!==i&&0===o[u];)u++;for(var l=new Uint8Array(r+(i-u)),f=r;u!==i;)l[f++]=o[u++];return l}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var t=0,r=0,n=0,i=e.length;n!==i&&0===e[n];)n++,t++;for(var o=(i-n)*v+1>>>0,a=new Uint8Array(o);n!==i;){for(var s=e[n],c=0,u=o-1;(0!==s||c<r)&&-1!==u;u--,c++)s+=256*a[u]>>>0,a[u]=s%d>>>0,s=s/d>>>0;if(0!==s)throw new Error("Non-zero carry");r=c,n++}for(var l=o-r;l!==o&&0===a[l];)l++;for(var f=g.repeat(t);l<o;++l)f+=p.charAt(a[l]);return f},decodeUnsafe:o,decode:function(e){e=o(e);if(e)return e;throw new Error("Non-".concat(t," character"))}}}(e.alphabet,r),e=n.encode,i=n.decode;return ln({prefix:t,name:r,encode:e,decode:function(e){return un(i(e))}})},e=function(e){var t=e.name,r=e.prefix,n=e.bitsPerChar,i=e.alphabet;return ln({prefix:r,name:t,encode:function(e){return function(e,t,r){for(var n="="===t[t.length-1],i=(1<<r)-1,o="",a=0,s=0,c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;r<a;)o+=t[i&s>>(a-=r)];if(a&&(o+=t[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o}(e,i,n)},decode:function(e){return function(e,t,r,n){for(var i={},o=0;o<t.length;++o)i[t[o]]=o;for(var a=e.length;"="===e[a-1];)--a;for(var s=new Uint8Array(a*r/8|0),c=0,u=0,l=0,f=0;f<a;++f){var p=i[e[f]];if(void 0===p)throw new SyntaxError("Non-".concat(n," character"));u=u<<r|p,8<=(c+=r)&&(c-=8,s[l++]=255&u>>c)}if(r<=c||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return s}(e,i,n,t)}})},t=ln({prefix:"\0",name:"identity",encode:function(e){return e=e,(new TextDecoder).decode(e)},decode:function(e){return e=e,(new TextEncoder).encode(e)}}),r=Object.freeze({__proto__:null,identity:t}),n=e({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),i=Object.freeze({__proto__:null,base2:n}),o=e({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),a=Object.freeze({__proto__:null,base8:o}),s=p({prefix:"9",name:"base10",alphabet:"0123456789"}),c=Object.freeze({__proto__:null,base10:s}),u=e({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oe=e({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ae=Object.freeze({__proto__:null,base16:u,base16upper:oe}),h=e({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),l=e({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),f=e({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),t=e({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),n=e({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),o=e({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),s=e({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),u=e({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oe=e({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),t=Object.freeze({__proto__:null,base32:h,base32upper:l,base32pad:f,base32padupper:t,base32hex:n,base32hexupper:o,base32hexpad:s,base32hexpadupper:u,base32z:oe}),n=p({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),o=p({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),s=Object.freeze({__proto__:null,base36:n,base36upper:o}),u=p({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oe=p({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),n=Object.freeze({__proto__:null,base58btc:u,base58flickr:oe}),o=e({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),p=e({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),u=e({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),oe=e({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),e=Object.freeze({__proto__:null,base64:o,base64pad:p,base64url:u,base64urlpad:oe}),o=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),En=o.reduce(function(e,t,r){return e[r]=t,e},[]),On=o.reduce(function(e,t,r){return e[t.codePointAt(0)]=r,e},[]),p=ln({prefix:"ðŸš€",name:"base256emoji",encode:function(e){return e.reduce(function(e,t){return e+En[t]},"")},decode:function(e){var t=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var n=i.value,i=On[n.codePointAt(0)];if(void 0===i)throw new Error("Non-base256emoji character: ".concat(n));t.push(i)}}catch(e){r.e(e)}finally{r.f()}return new Uint8Array(t)}}),u=Object.freeze({__proto__:null,base256emoji:p}),Cn=Math.pow(2,31),Rn=Math.pow(2,7),Sn=Math.pow(2,14),Tn=Math.pow(2,21),In=Math.pow(2,28),An=Math.pow(2,35),jn=Math.pow(2,42),Pn=Math.pow(2,49),Ln=Math.pow(2,56),Nn=Math.pow(2,63),Mn=function e(t,r,n,i){_classCallCheck(this,e),this.code=t,this.size=r,this.digest=n,this.bytes=i},oe=function(e){var t=e.name,r=e.code,e=e.encode;return new Un(t,r,e)},Un=function(){function n(e,t,r){_classCallCheck(this,n),this.name=e,this.code=t,this.encode=r}return _createClass(n,[{key:"digest",value:function(e){var t=this;if(e instanceof Uint8Array){e=this.encode(e);return e instanceof Uint8Array?dn(this.code,e):e.then(function(e){return dn(t.code,e)})}throw Error("Unknown type, must be binary type")}}]),n}(),o=function(r){return function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest(r,t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()},p=oe({name:"sha2-256",code:18,encode:o("SHA-256")}),o=oe({name:"sha2-512",code:19,encode:o("SHA-512")});Object.freeze({__proto__:null,sha256:p,sha512:o});var Dn=un,o={code:0,name:"identity",encode:Dn,digest:function(e){return dn(0,Dn(e))}};Object.freeze({__proto__:null,identity:o}),new TextEncoder,new TextDecoder;n=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},r),i),a),c),ae),t),s),n),e),u);function zn(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Gn(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}function Wn(e,t,r){return t in e?Li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Bn(e,t){for(var r in t=t||{})Di.call(t,r)&&Wn(e,r,t[r]);if(Ui){var n,i=_createForOfIteratorHelper(Ui(t));try{for(i.s();!(n=i.n()).done;){r=n.value;zi.call(t,r)&&Wn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}function Hn(e,t){return Ni(e,Mi(t))}function qn(e,t,r){return t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Vn(e,t,r){return t in e?Fi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Fn(e,t,r){return t in e?ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}function Kn(e,t,r){return t in e?yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}var e=Gn("utf8","u",function(e){return"u"+new TextDecoder("utf8").decode(e)},function(e){return(new TextEncoder).encode(e.substring(1))}),u=Gn("ascii","a",function(e){for(var t="a",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},function(e){for(var t=function(e){e=0<arguments.length&&void 0!==e?e:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?zn(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),$n=_objectSpread({utf8:e,"utf-8":e,hex:n.base16,latin1:u,ascii:u,binary:u},n),Yn="core",Zn="wc@2:".concat(Yn,":"),Qn={database:":memory:"},Jn="client_ed25519_seed",Xn=M.ONE_DAY,ei=M.SIX_HOURS,ti="wss://relay.walletconnect.com",ri="wss://relay.walletconnect.org",ni="relayer_message",ii="relayer_message_ack",oi="relayer_connect",ai="relayer_disconnect",si="relayer_connection_stalled",ci="relayer_publish",ui="payload",li="connect",fi="disconnect",pi="error",hi=M.ONE_SECOND,di="subscription_created",gi="subscription_deleted",mi="subscription_resubscribed",vi=1e3*M.FIVE_SECONDS,yi={wc_pairingDelete:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:M.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:M.ONE_DAY,prompt:!1,tag:0},res:{ttl:M.ONE_DAY,prompt:!1,tag:0}}},bi="pairing_create",wi="history_created",_i="history_updated",xi="history_deleted",ki="expirer_created",Ei="expirer_deleted",Oi="expirer_expired",Ci="verify-api",Ri="https://verify.walletconnect.com",Si="https://verify.walletconnect.org",Ti=function(){function r(e,t){var n=this;_classCallCheck(this,r),this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Zn,this.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.initialized){e.next=5;break}return e.next=3,n.getKeyChain();case 3:_typeof(t=e.sent)<"u"&&(n.keychain=t),n.initialized=!0;case 5:case"end":return e.stop()}},e)})),this.has=function(e){return n.isInitialized(),n.keychain.has(e)},this.set=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.keychain.set(t,r),e.next=4,n.persist();case 4:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),this.get=function(e){n.isInitialized();var t=n.keychain.get(e);if("u"<_typeof(t)){e=_r("NO_MATCHING_KEY","".concat(n.name,": ").concat(e)).message;throw new Error(e)}return t},this.del=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.keychain.delete(t),e.next=4,n.persist();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.core=e,this.logger=(0,k.generateChildLogger)(t,this.name)}var e,t,n;return _createClass(r,[{key:"setKeyChain",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,rr(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getKeyChain",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",_typeof(t)<"u"?nr(t):void 0);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"persist",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setKeyChain(this.keychain);case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}}]),r}(),Ii=function(){function n(e,t,r){var u=this;_classCallCheck(this,n),this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=u.initialized,e.t0){e.next=5;break}return e.next=4,u.keychain.init();case 4:u.initialized=!0;case 5:case"end":return e.stop()}},e)})),this.hasKeys=function(e){return u.isInitialized(),u.keychain.has(e)},this.getClientId=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.t0=lt,e.t1=ft,e.next=5,u.getClientSeed();case 5:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2).publicKey,e.abrupt("return",(0,e.t0)(e.t3));case 8:case"end":return e.stop()}},e)})),this.generateKeyPair=function(){u.isInitialized();var e,e={privateKey:st((e=gt.Au()).secretKey,Pt),publicKey:st(e.publicKey,Pt)};return u.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.t0=ft,e.next=4,u.getClientSeed();case 4:return e.t1=e.sent,r=(0,e.t0)(e.t1),n=Mt(),i=Xn,e.next=10,function(){var i=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n,i,o){var a,s,c,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=4<u.length&&void 0!==u[4]?u[4]:(0,M.fromMiliseconds)(Date.now()),a={alg:"EdDSA",typ:"JWT"},s={iss:lt(o.publicKey),sub:r,aud:n,iat:c,exp:c+i},c=ct([ut((c={header:a,payload:s}).header),ut(c.payload)].join("."),"utf8"),e.abrupt("return",[ut((t={header:a,payload:s,signature:L.Xx(o.secretKey,c)}).header),ut(t.payload),st(t.signature,U)].join("."));case 3:case"end":return e.stop()}var t},e)}));return function(e,t,r,n){return i.apply(this,arguments)}}()(n,t,i,r);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.generateSharedKey=function(e,t,r){u.isInitialized();t=function(e,t){t=gt.gi(ct(e,Pt),ct(t,Pt),!0);return st(new ht.t(dt.mE,t).expand(32),Pt)}(u.getPrivateKey(e),t);return u.setSymKey(t,r)},this.setSymKey=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),n=r||st((0,dt.vp)(ct(t,Pt)),Pt),e.next=4,u.keychain.set(n,t);case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),this.deleteKeyPair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.next=3,u.keychain.del(t);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.deleteSymKey=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.isInitialized(),e.next=3,u.keychain.del(t);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.encode=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.isInitialized(),i=Gt(n),o=P(r),Wt(i))return s=i.senderPublicKey,c=i.receiverPublicKey,e.next=6,u.generateSharedKey(s,c);e.next=7;break;case 6:t=e.sent;case 7:return a=u.getSymKey(t),s=i.type,c=i.senderPublicKey,e.abrupt("return",function(e){var t=(n=_typeof(e.type)<"u"?e.type:0,ct("".concat(n),jt));if(1===Dt(t)&&"u"<_typeof(e.senderPublicKey))throw new Error("Missing sender public key for type 1 envelope");var r=_typeof(e.senderPublicKey)<"u"?ct(e.senderPublicKey,Pt):void 0,n=_typeof(e.iv)<"u"?ct(e.iv,Pt):(0,N.randomBytes)(12);return function(e){if(1!==Dt(e.type))return st(K([e.type,e.iv,e.sealed]),Lt);if("u"<_typeof(e.senderPublicKey))throw new Error("Missing sender public key for type 1 envelope");return st(K([e.type,e.senderPublicKey,e.iv,e.sealed]),Lt)}({type:t,sealed:new pt.OK(ct(e.symKey,Pt)).seal(n,ct(e.message,Nt)),iv:n,senderPublicKey:r})}({type:s,symKey:a,message:o,senderPublicKey:c}));case 9:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.decode=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(n,i,o){var a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.isInitialized(),t=o,r=void 0,r=zt(i),Wt(a=Gt({type:Dt(r.type),senderPublicKey:_typeof(r.senderPublicKey)<"u"?st(r.senderPublicKey,Pt):void 0,receiverPublicKey:null==t?void 0:t.receiverPublicKey})))return s=a.receiverPublicKey,c=a.senderPublicKey,e.next=6,u.generateSharedKey(s,c);e.next=7;break;case 6:n=e.sent;case 7:return e.prev=7,c=function(e){var t=new pt.OK(ct(e.symKey,Pt)),r=zt(e.encoded),e=r.sealed,r=r.iv,e=t.open(r,e);if(null===e)throw new Error("Failed to decrypt");return st(e,Nt)}({symKey:u.getSymKey(n),encoded:i}),e.abrupt("return",j(c));case 12:return e.prev=12,e.t0=e.catch(7),e.t1=u.logger,e.t2="Failed to decode message from topic: '".concat(n,"', clientId: '"),e.next=18,u.getClientId();case 18:e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3,"'"),e.t1.error.call(e.t1,e.t4),u.logger.error(e.t0);case 22:case"end":return e.stop()}var t,r},e,null,[[7,12]])}));return function(e,t,r){return n.apply(this,arguments)}}(),this.getPayloadType=function(e){return Dt(zt(e).type)},this.getPayloadSenderPublicKey=function(e){e=zt(e);return e.senderPublicKey?st(e.senderPublicKey,Pt):void 0},this.core=e,this.logger=(0,k.generateChildLogger)(t,this.name),this.keychain=r||new Ti(this.core,this.logger)}var e,r;return _createClass(n,[{key:"setPrivateKey",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.keychain.set(t,r);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"getPrivateKey",value:function(e){return this.keychain.get(e)}},{key:"getClientSeed",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t="",e.prev=1,t=this.keychain.get(Jn),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(1),t=Mt(),e.next=10,this.keychain.set(Jn,t);case 10:return e.abrupt("return",function(e,t){var r=1<arguments.length&&void 0!==t?t:"utf8",t=$n[r];if(!t)throw new Error('Unsupported encoding "'.concat(r,'"'));return"utf8"!==r&&"utf-8"!==r||null==globalThis.Buffer||null==globalThis.Buffer.from?t.decoder.decode("".concat(t.prefix).concat(e)):zn(globalThis.Buffer.from(e,"utf-8"))}(t,"base16"));case 11:case"end":return e.stop()}},e,this,[[1,5]])})),function(){return e.apply(this,arguments)})},{key:"getSymKey",value:function(e){return this.keychain.get(e)}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),n}(),Ai=function(){_inherits(i,d);var e,t,r,n=_createSuper(i);function i(e,t){var o;return _classCallCheck(this,i),(o=n.call(this,e,t)).logger=e,o.core=t,o.messages=new Map,o.name="messages",o.version="0.3",o.initialized=!1,o.storagePrefix=Zn,o.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.initialized){e.next=15;break}return o.logger.trace("Initialized"),e.prev=2,e.next=5,o.getRelayerMessages();case 5:_typeof(t=e.sent)<"u"&&(o.messages=t),o.logger.debug("Successfully Restored records for ".concat(o.name)),o.logger.trace({type:"method",method:"restore",size:o.messages.size}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o.logger.debug("Failed to Restore records for ".concat(o.name)),o.logger.error(e.t0);case 12:return e.prev=12,o.initialized=!0,e.finish(12);case 15:case"end":return e.stop()}},e,null,[[2,9,12,15]])})),o.set=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isInitialized(),n=Ut(r),"u"<_typeof(i=o.messages.get(t))&&(i={}),e.t0=_typeof(i[n])<"u",e.t0){e.next=10;break}return i[n]=r,o.messages.set(t,i),e.next=10,o.persist();case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),o.get=function(e){o.isInitialized();e=o.messages.get(e);return"u"<_typeof(e)&&(e={}),e},o.has=function(e,t){return o.isInitialized(),_typeof(o.get(e)[Ut(t)])<"u"},o.del=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.isInitialized(),o.messages.delete(t),e.next=4,o.persist();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),o.logger=(0,k.generateChildLogger)(e,o.name),o.core=t,o}return _createClass(i,[{key:"setRelayerMessages",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,rr(t));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getRelayerMessages",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return t=e.sent,e.abrupt("return",_typeof(t)<"u"?nr(t):void 0);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"persist",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerMessages(this.messages);case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}}]),i}(),ji=function(){_inherits(n,R);var r=_createSuper(n);function n(e,t){var f;return _classCallCheck(this,n),(f=r.call(this,e,t)).relayer=e,f.logger=t,f.events=new b.EventEmitter,f.name="publisher",f.queue=new Map,f.publishTimeout=(0,M.toMiliseconds)(M.TEN_SECONDS),f.needsTransportRestart=!1,f.publish=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.logger.debug("Publishing Payload"),f.logger.trace({type:"method",method:"publish",params:{topic:t,message:r,opts:n}}),e.prev=1,i=(null==n?void 0:n.ttl)||ei,o=fr(n),a=(null==n?void 0:n.prompt)||!1,s=(null==n?void 0:n.tag)||0,c=(null==n?void 0:n.id)||$r().toString(),u={topic:t,message:r,opts:{ttl:i,relay:o,prompt:a,tag:s,id:c}},l=setTimeout(function(){return f.queue.set(c,u)},f.publishTimeout),e.prev=3,e.next=6,or(f.rpcPublish(t,r,i,o,a,s,c),f.publishTimeout,"Failed to publish payload, please try again.");case 6:f.removeRequestFromQueue(c),f.relayer.events.emit(ci,u),e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(3),f.logger.debug("Publishing Payload stalled"),f.needsTransportRestart=!0,null!=(s=null==n?void 0:n.internal)&&s.throwOnFailedPublish)throw f.removeRequestFromQueue(c),e.t0;e.next=14;break;case 14:return e.abrupt("return");case 15:return e.prev=15,clearTimeout(l),e.finish(15);case 18:f.logger.debug("Successfully Published Payload"),f.logger.trace({type:"method",method:"publish",params:{topic:t,message:r,opts:n}}),e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(1),f.logger.debug("Failed to Publish Payload"),f.logger.error(e.t1),e.t1;case 24:case"end":return e.stop()}},e,null,[[1,21],[3,10,15,18]])}));return function(e,t,r){return n.apply(this,arguments)}}(),f.on=function(e,t){f.events.on(e,t)},f.once=function(e,t){f.events.once(e,t)},f.off=function(e,t){f.events.off(e,t)},f.removeListener=function(e,t){f.events.removeListener(e,t)},f.relayer=e,f.logger=(0,k.generateChildLogger)(t,f.name),f.registerEventListeners(),f}return _createClass(n,[{key:"rpcPublish",value:function(e,t,r,n,i,o,a){var s,o={method:pr(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:o},id:a};return Or(null==(a=o.params)?void 0:a.prompt)&&(null==(s=o.params)||delete s.prompt),Or(null==(s=o.params)?void 0:s.tag)&&(null==(s=o.params)||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:o}),this.relayer.request(o)}},{key:"removeRequestFromQueue",value:function(e){this.queue.delete(e)}},{key:"checkQueue",value:function(){var o=this;this.queue.forEach(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.message,i=t.opts,e.next=3,o.publish(r,n,i);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerEventListeners",value:function(){var t=this;this.relayer.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,function(){return t.needsTransportRestart?(t.needsTransportRestart=!1,void t.relayer.events.emit(si)):void t.checkQueue()}),this.relayer.on(ii,function(e){t.removeRequestFromQueue(e.id.toString())})}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),n}(),Pi=function(){function e(){var n=this;_classCallCheck(this,e),this.map=new Map,this.set=function(e,t){var r=n.get(e);n.exists(e,t)||n.map.set(e,[].concat(_toConsumableArray(r),[t]))},this.get=function(e){return n.map.get(e)||[]},this.exists=function(e,t){return n.get(e).includes(t)},this.delete=function(e,t){var r;"u"<_typeof(t)?n.map.delete(e):n.map.has(e)&&(r=n.get(e),n.exists(e,t)&&((r=r.filter(function(e){return e!==t})).length?n.map.set(e,r):n.map.delete(e)))},this.clear=function(){n.map.clear()}}return _createClass(e,[{key:"topics",get:function(){return Array.from(this.map.keys())}}]),e}(),Li=Object.defineProperty,Ni=Object.defineProperties,Mi=Object.getOwnPropertyDescriptors,Ui=Object.getOwnPropertySymbols,Di=Object.prototype.hasOwnProperty,zi=Object.prototype.propertyIsEnumerable,Gi=function(){_inherits(g,T);var e,t,r,n,i,o,a,s,c,u,l,f,p,h,d=_createSuper(g);function g(e,t){var o;return _classCallCheck(this,g),(o=d.call(this,e,t)).relayer=e,o.logger=t,o.subscriptions=new Map,o.topicMap=new Pi,o.events=new b.EventEmitter,o.name="subscription",o.version="0.3",o.pending=new Map,o.cached=[],o.initialized=!1,o.pendingSubscriptionWatchLabel="pending_sub_watch_label",o.pollingInterval=20,o.storagePrefix=Zn,o.subscribeTimeout=1e4,o.restartInProgress=!1,o.batchSubscribeTopicsLimit=500,o.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o.initialized,e.t0){e.next=7;break}return o.logger.trace("Initialized"),o.registerEventListeners(),e.next=6,o.relayer.core.crypto.getClientId();case 6:o.clientId=e.sent;case 7:case"end":return e.stop()}},e)})),o.subscribe=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.restartToComplete();case 2:return o.isInitialized(),o.logger.debug("Subscribing Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:r}}),e.prev=5,i=fr(r),n={topic:t,relay:i},o.pending.set(t,n),e.next=10,o.rpcSubscribe(t,i);case 10:return i=e.sent,e.abrupt("return",(o.onSubscribe(i,n),o.logger.debug("Successfully Subscribed Topic"),o.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:r}}),i));case 14:throw e.prev=14,e.t0=e.catch(5),o.logger.debug("Failed to Subscribe Topic"),o.logger.error(e.t0),e.t0;case 17:case"end":return e.stop()}},e,null,[[5,14]])}));return function(e,t){return r.apply(this,arguments)}}(),o.unsubscribe=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.restartToComplete();case 2:if(o.isInitialized(),_typeof(null==r?void 0:r.id)<"u")return e.next=6,o.unsubscribeById(t,r.id,r);e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,o.unsubscribeByTopic(t,r);case 10:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),o.isSubscribed=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!!o.topics.includes(i),e.t0){e.next=5;break}return e.next=4,new Promise(function(e,t){var r=new M.Watch;r.start(o.pendingSubscriptionWatchLabel);var n=setInterval(function(){!o.pending.has(i)&&o.topics.includes(i)&&(clearInterval(n),r.stop(o.pendingSubscriptionWatchLabel),e(!0)),r.elapsed(o.pendingSubscriptionWatchLabel)>=vi&&(clearInterval(n),r.stop(o.pendingSubscriptionWatchLabel),t(new Error("Subscription resolution timeout")))},o.pollingInterval)}).catch(function(){return!1});case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),o.on=function(e,t){o.events.on(e,t)},o.once=function(e,t){o.events.once(e,t)},o.off=function(e,t){o.events.off(e,t)},o.removeListener=function(e,t){o.events.removeListener(e,t)},o.restart=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.restartInProgress=!0,e.next=3,o.restore();case 3:return e.next=5,o.reset();case 5:o.restartInProgress=!1;case 6:case"end":return e.stop()}},e)})),o.relayer=e,o.logger=(0,k.generateChildLogger)(t,o.name),o.clientId="",o}return _createClass(g,[{key:"hasSubscription",value:function(e,t){var r=!1;try{r=this.getSubscription(e).topic===t}catch(e){}return r}},{key:"onEnable",value:function(){this.cached=[],this.initialized=!0}},{key:"onDisable",value:function(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}},{key:"unsubscribeByTopic",value:(h=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.topicMap.get(r),e.next=3,Promise.all(t.map(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.unsubscribeById(r,t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"unsubscribeById",value:(p=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}}),e.prev=1,i=fr(n),e.next=5,this.rpcUnsubscribe(t,r,i);case 5:return i=xr("USER_DISCONNECTED","".concat(this.name,", ").concat(t)),e.next=8,this.onUnsubscribe(t,r,i);case 8:this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e.t0),e.t0;case 15:case"end":return e.stop()}},e,this,[[1,12]])})),function(e,t,r){return p.apply(this,arguments)})},{key:"rpcSubscribe",value:(f=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:pr(r.protocol).subscribe,params:{topic:t}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),e.prev=2,e.next=5,or(this.relayer.request(n),this.subscribeTimeout);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(si);case 10:return e.abrupt("return",Ut(t+this.clientId));case 11:case"end":return e.stop()}},e,this,[[2,7]])})),function(e,t){return f.apply(this,arguments)})},{key:"rpcBatchSubscribe",value:(l=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return r={method:pr(t[0].relay.protocol).batchSubscribe,params:{topics:t.map(function(e){return e.topic})}},this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),e.prev=4,e.next=7,or(this.relayer.request(r),this.subscribeTimeout);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(4),this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(si);case 13:case"end":return e.stop()}},e,this,[[4,10]])})),function(e){return l.apply(this,arguments)})},{key:"rpcUnsubscribe",value:function(e,t,r){t={method:pr(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t}),this.relayer.request(t)}},{key:"onSubscribe",value:function(e,t){this.setSubscription(e,Hn(Bn({},t),{id:e})),this.pending.delete(t.topic)}},{key:"onBatchSubscribe",value:function(e){var t=this;e.length&&e.forEach(function(e){t.setSubscription(e.id,Bn({},e)),t.pending.delete(e.topic)})}},{key:"onUnsubscribe",value:(u=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),e.next=4,this.relayer.messages.del(t);case 4:case"end":return e.stop()}},e,this)})),function(e,t,r){return u.apply(this,arguments)})},{key:"setRelayerSubscriptions",value:(c=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"getRelayerSubscriptions",value:(s=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.relayer.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"setSubscription",value:function(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}},{key:"addSubscription",value:function(e,t){this.subscriptions.set(e,Bn({},t)),this.topicMap.set(t.topic,e),this.events.emit(di,t)}},{key:"getSubscription",value:function(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});var t=this.subscriptions.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(e)}},{key:"deleteSubscription",value:function(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});var r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(gi,Hn(Bn({},r),{reason:t}))}},{key:"persist",value:(a=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRelayerSubscriptions(this.values);case 2:this.events.emit("subscription_sync");case 3:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"reset",value:(o=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cached.length){e.next=10;break}t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit),r=0;case 3:if(r<t)return n=this.cached.splice(0,this.batchSubscribeTopicsLimit),e.next=7,this.batchSubscribe(n);e.next=10;break;case 7:r++,e.next=3;break;case 10:this.events.emit(mi);case 11:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"restore",value:(i=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRelayerSubscriptions();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.subscriptions.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),this.logger.error("".concat(this.name,": ").concat(JSON.stringify(this.values))),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored subscriptions for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",subscriptions:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore subscriptions for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return i.apply(this,arguments)})},{key:"batchSubscribe",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.rpcBatchSubscribe(r);case 4:kr(t=e.sent)&&this.onBatchSubscribe(t.map(function(e,t){return Hn(Bn({},r[t]),{id:e})}));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onConnect",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,e.t0){e.next=5;break}return e.next=4,this.restart();case 4:this.onEnable();case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"onDisconnect",value:function(){this.onDisable()}},{key:"checkPending",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initialized||this.relayer.transportExplicitlyClosed)return e.abrupt("return");e.next=2;break;case 2:return t=[],this.pending.forEach(function(e){t.push(e)}),e.next=6,this.batchSubscribe(t);case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var n=this;this.relayer.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.checkPending();case 2:case"end":return e.stop()}},e)}))),this.relayer.on(oi,_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onConnect();case 2:case"end":return e.stop()}},e)}))),this.relayer.on(ai,function(){n.onDisconnect()}),this.events.on(di,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=di,n.logger.info("Emitting ".concat(r)),n.logger.debug({type:"event",event:r,data:t}),e.next=5,n.persist();case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),this.events.on(gi,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=gi,n.logger.info("Emitting ".concat(r)),n.logger.debug({type:"event",event:r,data:t}),e.next=5,n.persist();case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"restartToComplete",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.restartInProgress,e.t0)return e.next=4,new Promise(function(e){var t=setInterval(function(){r.restartInProgress||(clearInterval(t),e())},r.pollingInterval)});e.next=4;break;case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.subscriptions.size}},{key:"ids",get:function(){return Array.from(this.subscriptions.keys())}},{key:"values",get:function(){return Array.from(this.subscriptions.values())}},{key:"topics",get:function(){return this.topicMap.topics}}]),g}(),Wi=Object.defineProperty,Bi=Object.getOwnPropertySymbols,Hi=Object.prototype.hasOwnProperty,qi=Object.prototype.propertyIsEnumerable,Vi=function(){_inherits(v,S);var e,t,r,n,i,o,a,s,c,u,l,f,p,h,d,g,m=_createSuper(v);function v(e){var r;return _classCallCheck(this,v),(r=m.call(this,e)).protocol="wc",r.version=2,r.events=new b.EventEmitter,r.name="relayer",r.transportExplicitlyClosed=!1,r.initialized=!1,r.connectionAttemptInProgress=!1,r.connectionStatusPollingInterval=20,r.staleConnectionErrors=["socket hang up","socket stalled"],r.hasExperiencedNetworkDisruption=!1,r.request=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.logger.debug("Publishing Request Payload"),e.prev=1,e.next=4,r.toEstablishConnection();case 4:return e.next=6,r.provider.request(t);case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(1),r.logger.debug("Failed to Publish Request"),r.logger.error(e.t0),e.t0;case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}(),r.onPayloadHandler=function(e){r.onProviderPayload(e)},r.onConnectHandler=function(){r.events.emit(oi)},r.onDisconnectHandler=function(){r.onProviderDisconnect()},r.onProviderErrorHandler=function(e){r.logger.error(e),r.events.emit("relayer_error",e),r.logger.info("Fatal socket error received, closing transport"),r.transportClose()},r.registerProviderListeners=function(){r.provider.on(ui,r.onPayloadHandler),r.provider.on(li,r.onConnectHandler),r.provider.on(fi,r.onDisconnectHandler),r.provider.on(pi,r.onProviderErrorHandler)},r.core=e.core,r.logger=_typeof(e.logger)<"u"&&"string"!=typeof e.logger?(0,k.generateChildLogger)(e.logger,r.name):(0,k.pino)((0,k.getDefaultLoggerOptions)({level:e.logger||"error"})),r.messages=new Ai(r.logger,e.core),r.subscriber=new Gi(_assertThisInitialized(r),r.logger),r.publisher=new ji(_assertThisInitialized(r),r.logger),r.relayUrl=(null==e?void 0:e.relayUrl)||ti,r.projectId=e.projectId,r.provider={},r}return _createClass(v,[{key:"init",value:(g=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),this.registerEventListeners(),e.next=4,this.createProvider();case 4:return e.next=6,Promise.all([this.messages.init(),this.subscriber.init()]);case 6:return e.prev=6,e.next=9,this.transportOpen();case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(6),this.logger.warn("Connection via ".concat(this.relayUrl," failed, attempting to connect via failover domain ").concat(ri,"...")),e.next=16,this.restartTransport(ri);case 16:this.initialized=!0,setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=0===t.subscriber.topics.length,e.t0)return t.logger.info("No topics subscribed to after init, closing transport"),e.next=5,t.transportClose();e.next=6;break;case 5:t.transportExplicitlyClosed=!1;case 6:case"end":return e.stop()}},e)})),1e4);case 17:case"end":return e.stop()}},e,this,[[6,11]])})),function(){return g.apply(this,arguments)})},{key:"publish",value:(d=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.publisher.publish(t,r,n);case 3:return e.next=5,this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()});case 5:case"end":return e.stop()}},e,this)})),function(e,t,r){return d.apply(this,arguments)})},{key:"subscribe",value:(h=_asyncToGenerator(regeneratorRuntime.mark(function e(r,n){var t,i,o,a,s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized(),o=(null==(t=this.subscriber.topicMap.get(r))?void 0:t[0])||"")return e.abrupt("return",o);e.next=4;break;case 4:return a=function e(t){t.topic===r&&(s.subscriber.off(di,e),i())},e.next=7,Promise.all([new Promise(function(e){i=e,s.subscriber.on(di,a)}),new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.subscriber.subscribe(r,n);case 2:o=e.sent,t();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())]);case 7:return e.abrupt("return",o);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"unsubscribe",value:(p=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isInitialized(),e.next=3,this.subscriber.unsubscribe(t,r);case 3:case"end":return e.stop()}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"once",value:function(e,t){this.events.once(e,t)}},{key:"off",value:function(e,t){this.events.off(e,t)}},{key:"removeListener",value:function(e,t){this.events.removeListener(e,t)}},{key:"transportClose",value:(f=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected)return e.next=4,or(this.provider.disconnect(),1e3,"provider.disconnect()").catch(function(){return t.onProviderDisconnect()});e.next=6;break;case 4:e.next=10;break;case 6:if(e.t0=this.connected,e.t0)return e.next=10,this.provider.disconnect();e.next=10;break;case 10:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"transportOpen",value:(l=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.transportExplicitlyClosed=!1,e.next=3,this.confirmOnlineStateOrThrow();case 3:if(this.connectionAttemptInProgress){e.next=27;break}if(e.t0=t&&t!==this.relayUrl,e.t0)return this.relayUrl=t,e.next=9,this.transportClose();e.next=11;break;case 9:return e.next=11,this.createProvider();case 11:return this.connectionAttemptInProgress=!0,e.prev=12,e.next=15,Promise.all([new Promise(function(e){if(!n.initialized)return e();n.subscriber.once(mi,function(){e()})}),new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,or(n.provider.connect(),1e4,"Socket stalled when trying to connect to ".concat(n.relayUrl));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",void r(e.t0));case 8:t();case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(e,t){return r.apply(this,arguments)}}())]);case 15:e.next=24;break;case 17:if(e.prev=17,e.t1=e.catch(12),this.logger.error(e.t1),r=e.t1,this.isConnectionStalled(r.message)){e.next=23;break}throw e.t1;case 23:this.provider.events.emit(fi);case 24:return e.prev=24,this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1,e.finish(24);case 27:case"end":return e.stop()}},e,this,[[12,17,24,27]])})),function(e){return l.apply(this,arguments)})},{key:"restartTransport",value:(u=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(e.t0=!this.connectionAttemptInProgress,e.t0)return this.relayUrl=t||this.relayUrl,e.next=7,this.transportClose();e.next=11;break;case 7:return e.next=9,this.createProvider();case 9:return e.next=11,this.transportOpen();case 11:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"confirmOnlineStateOrThrow",value:(c=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur();case 2:if(e.sent){e.next=4;break}throw new Error("No internet connection detected. Please restart your network and try again.");case 4:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)})},{key:"isConnectionStalled",value:function(t){return this.staleConnectionErrors.some(function(e){return t.includes(e)})}},{key:"createProvider",value:(s=_asyncToGenerator(regeneratorRuntime.mark(function e(){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.provider.connection&&this.unregisterProviderListeners(),e.next=3,this.core.crypto.signJWT(this.relayUrl);case 3:l=e.sent,this.provider=new gn(new vn((t={sdkVersion:"2.10.2",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:l,useOnCloseEvent:!0},c=c=u=c=s=a=o=i=n=r=void 0,n=t.protocol,i=t.version,o=t.sdkVersion,a=t.auth,s=t.projectId,c=t.useOnCloseEvent,u=t.relayUrl.split("?"),c={auth:a,ua:(r=n,t=i,a=o,n=function(){if(er()===Yt.reactNative&&_typeof(Ao.g)<"u"&&_typeof(null==Ao.g?void 0:Ao.g.Platform)<"u"){var e=Ao.g.Platform;return[e.OS,e.Version].join("-")}var t="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new _t:"undefined"!=typeof navigator?Ct(navigator.userAgent):"undefined"!=typeof process&&process.version?new yt(process.version.slice(1)):null;if(null===t)return"unknown";e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return("browser"===t.type?[e,t.name,t.version]:[e,t.version]).join("-")}(),i=(i=er())===Yt.browser?[i,(null==(o=(0,Rt.getLocation)())?void 0:o.host)||"unknown"].join(":"):i,[[r,t].join("-"),[Zt,a].join("-"),n,i].join("/")),projectId:s,useOnCloseEvent:c||void 0},c=function(e,t){e=Tt.parse(e),e=Ht(Ht({},e),t);return Tt.stringify(e)}(u[1]||"",c),u[0]+"?"+c))),this.registerProviderListeners();case 5:case"end":return e.stop()}var t,r,n,i,o,a,s,c,u},e,this)})),function(){return s.apply(this,arguments)})},{key:"recordMessageEvent",value:(a=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.message,e.next=3,this.messages.set(r,n);case 3:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"shouldIgnoreMessageEvent",value:(o=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,(n=t.message)&&0!==n.length){e.next=3;break}return e.abrupt("return",(this.logger.debug("Ignoring invalid/empty message: ".concat(n)),!0));case 3:return e.next=5,this.subscriber.isSubscribed(r);case 5:if(e.sent){e.next=7;break}return e.abrupt("return",(this.logger.debug("Ignoring message for non-subscribed topic ".concat(r)),!0));case 7:return i=this.messages.has(r,n),e.abrupt("return",(i&&this.logger.debug("Ignoring duplicate message: ".concat(n)),i));case 9:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"onProviderPayload",value:(i=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),!nn(t)){e.next=13;break}if(t.method.endsWith("_subscription")){e.next=3;break}return e.abrupt("return");case 3:return r=t.params,o=r.data,n=o.topic,i=o.message,o=o.publishedAt,o={topic:n,message:i,publishedAt:o},this.logger.debug("Emitting Relayer Payload"),this.logger.trace(function(e,t){for(var r in t=t||{})Hi.call(t,r)&&qn(e,r,t[r]);if(Bi){var n,i=_createForOfIteratorHelper(Bi(t));try{for(i.s();!(n=i.n()).done;){r=n.value;qi.call(t,r)&&qn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({type:"event",event:r.id},o)),this.events.emit(r.id,o),e.next=9,this.acknowledgePayload(t);case 9:return e.next=11,this.onMessageEvent(o);case 11:e.next=14;break;case 13:on(t)&&this.events.emit(ii,t);case 14:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"onMessageEvent",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.shouldIgnoreMessageEvent(t);case 2:if(e.t0=e.sent,e.t0){e.next=7;break}return this.events.emit(ni,t),e.next=7,this.recordMessageEvent(t);case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"acknowledgePayload",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zr(t.id,!0),e.next=3,this.provider.connection.send(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"unregisterProviderListeners",value:function(){this.provider.off(ui,this.onPayloadHandler),this.provider.off(li,this.onConnectHandler),this.provider.off(fi,this.onDisconnectHandler),this.provider.off(pi,this.onProviderErrorHandler)}},{key:"registerEventListeners",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.events.on(si,function(){n.restartTransport().catch(function(e){return n.logger.error(e)})}),e.next=3,Ur();case 3:r=e.sent,function(e){switch(er()){case Yt.browser:n=e,!Jt()&&Xt()&&(window.addEventListener("online",function(){return n(!0)}),window.addEventListener("offline",function(){return n(!1)}));break;case Yt.reactNative:t=e,Jt()&&_typeof(Ao.g)<"u"&&null!=Ao.g&&Ao.g.NetInfo&&null!==(r=Ao.g)&&void 0!==r&&r.NetInfo.addEventListener(function(e){return t(null==e?void 0:e.isConnected)});case Yt.node:}var t,r,n}(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized&&r!==t,!e.t0){e.next=11;break}if(r=t)return e.next=6,n.restartTransport().catch(function(e){return n.logger.error(e)});e.next=8;break;case 6:e.next=11;break;case 8:return n.hasExperiencedNetworkDisruption=!0,e.next=11,n.transportClose().catch(function(e){return n.logger.error(e)});case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"onProviderDisconnect",value:function(){this.events.emit(ai),this.attemptToReconnect()}},{key:"attemptToReconnect",value:function(){var t=this;this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.restartTransport().catch(function(e){return t.logger.error(e)});case 2:case"end":return e.stop()}},e)})),(0,M.toMiliseconds)(hi)))}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"toEstablishConnection",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.confirmOnlineStateOrThrow();case 2:if(this.connected){e.next=9;break}if(this.connectionAttemptInProgress)return e.next=6,new Promise(function(e){var t=setInterval(function(){r.connected&&(clearInterval(t),e())},r.connectionStatusPollingInterval)});e.next=7;break;case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,this.restartTransport();case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"connected",get:function(){return this.provider.connection.connected}},{key:"connecting",get:function(){return this.provider.connection.connecting}}]),v}(),Fi=Object.defineProperty,Ki=Object.getOwnPropertySymbols,$i=Object.prototype.hasOwnProperty,Yi=Object.prototype.propertyIsEnumerable,Zi=function(e,t){for(var r in t=t||{})$i.call(t,r)&&Vn(e,r,t[r]);if(Ki){var n,i=_createForOfIteratorHelper(Ki(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Yi.call(t,r)&&Vn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e},Qi=function(){_inherits(s,g);var e,t,r,n,a=_createSuper(s);function s(e,t,r){_classCallCheck(this,s);var i,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Zn,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:void 0;return(i=a.call(this,e,t,r,n)).core=e,i.logger=t,i.name=r,i.map=new Map,i.version="0.3",i.cached=[],i.initialized=!1,i.storagePrefix=Zn,i.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.initialized,e.t0){e.next=8;break}return i.logger.trace("Initialized"),e.next=5,i.restore();case 5:i.cached.forEach(function(e){var t;i.getKey&&null!==e&&!Or(e)?i.map.set(i.getKey(e),e):null!=(t=null==(t=e)?void 0:t.proposer)&&t.publicKey?i.map.set(e.id,e):null!=(t=e)&&t.topic&&i.map.set(e.topic,e)}),i.cached=[],i.initialized=!0;case 8:case"end":return e.stop()}},e)})),i.set=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),i.map.has(t))return e.next=4,i.update(t,r);e.next=6;break;case 4:e.next=11;break;case 6:return i.logger.debug("Setting value"),i.logger.trace({type:"method",method:"set",key:t,value:r}),i.map.set(t,r),e.next=11,i.persist();case 11:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),i.get=function(e){return i.isInitialized(),i.logger.debug("Getting value"),i.logger.trace({type:"method",method:"get",key:e}),i.getData(e)},i.getAll=function(r){return i.isInitialized(),r?i.values.filter(function(t){return Object.keys(r).every(function(e){return yn()(t[e],r[e])})}):i.values},i.update=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.isInitialized(),i.logger.debug("Updating value"),i.logger.trace({type:"method",method:"update",key:t,update:r}),n=Zi(Zi({},i.getData(t)),r),i.map.set(t,n),e.next=5,i.persist();case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),i.delete=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.isInitialized(),e.t0=i.map.has(t),e.t0)return i.logger.debug("Deleting value"),i.logger.trace({type:"method",method:"delete",key:t,reason:r}),i.map.delete(t),e.next=8,i.persist();e.next=8;break;case 8:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),i.logger=(0,k.generateChildLogger)(t,i.name),i.storagePrefix=n,i.getKey=o,i}return _createClass(s,[{key:"setDataStore",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getDataStore",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getData",value:function(e){var t=this.map.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(e),new Error(e)}},{key:"persist",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setDataStore(this.values);case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"restore",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDataStore();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.map.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored value for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",value:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore value for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return e.apply(this,arguments)})},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.map.size}},{key:"keys",get:function(){return Array.from(this.map.keys())}},{key:"values",get:function(){return Array.from(this.map.values())}}]),s}(),Ji=function(){function r(e,t){var f=this;_classCallCheck(this,r),this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(w()),this.initialized=!1,this.storagePrefix=Zn,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=f.initialized,e.t0){e.next=10;break}return e.next=4,f.pairings.init();case 4:return e.next=6,f.cleanup();case 6:f.registerRelayerEvents(),f.registerExpirerEvents(),f.initialized=!0,f.logger.trace("Initialized");case 10:case"end":return e.stop()}},e)})),this.register=function(e){e=e.methods;f.isInitialized(),f.registeredMethods=_toConsumableArray(new Set([].concat(_toConsumableArray(f.registeredMethods),_toConsumableArray(e))))},this.create=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.isInitialized(),r=Mt(),e.next=4,f.core.crypto.setSymKey(r);case 4:return n=e.sent,i=cr(M.FIVE_MINUTES),o={topic:n,expiry:i,relay:a={protocol:"irn"},active:!1},t={protocol:f.core.protocol,version:f.core.version,topic:n,symKey:r,relay:a},a="".concat(t.protocol,":").concat(t.topic,"@").concat(t.version,"?")+Tt.stringify(function(e,t){for(var r in t=t||{})gr.call(t,r)&&vr(e,r,t[r]);if(dr){var n,i=_createForOfIteratorHelper(dr(t));try{for(i.s();!(n=i.n()).done;){r=n.value;mr.call(t,r)&&vr(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e}({symKey:t.symKey},function(r,e){var n=1<arguments.length&&void 0!==e?e:"-",i={};return Object.keys(r).forEach(function(e){var t="relay"+n+e;r[e]&&(i[t]=r[e])}),i}(t.relay))),e.next=11,f.pairings.set(n,o);case 11:return e.next=13,f.core.relayer.subscribe(n);case 13:return f.core.expirer.set(n,i),e.abrupt("return",{topic:n,uri:a});case 15:case"end":return e.stop()}var t},e)})),this.pair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(o){var a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.isInitialized(),f.isValidPair(o),t=o.uri,n=n=r=i=n=r=void 0,r=t.indexOf(":"),n=-1!==t.indexOf("?")?t.indexOf("?"):void 0,i=t.substring(0,r),r=t.substring(r+1,n).split("@"),n=_typeof(n)<"u"?t.substring(n):"",n=Tt.parse(n),c={protocol:i,topic:(i=r[0]).startsWith("//")?i.substring(2):i,version:parseInt(r[1],10),symKey:n.symKey,relay:function(r,e){var n={},i="relay"+(1<arguments.length&&void 0!==e?e:"-");return Object.keys(r).forEach(function(e){var t;e.startsWith(i)&&(t=e.replace(i,""),e=r[e],n[t]=e)}),n}(n)},a=c.topic,s=c.symKey,c=c.relay,f.pairings.keys.includes(a)&&f.pairings.get(a).active)throw new Error("Pairing already exists: ".concat(a,". Please try again with a new connection URI."));e.next=4;break;case 4:if(e.t0=f.core.crypto.keychain.has(a),e.t0){e.next=10;break}return e.next=8,f.core.crypto.setSymKey(s,a);case 8:return e.next=10,f.core.relayer.subscribe(a,{relay:c});case 10:return u=cr(M.FIVE_MINUTES),l={topic:a,relay:c,expiry:u,active:!1},e.next=13,f.pairings.set(a,l);case 13:if(f.core.expirer.set(a,u),e.t1=o.activatePairing,e.t1)return e.next=18,f.activate({topic:a});e.next=18;break;case 18:return f.events.emit(bi,l),e.abrupt("return",l);case 20:case"end":return e.stop()}var t,r,n,i},e)}));return function(e){return t.apply(this,arguments)}}(),this.activate=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,f.isInitialized(),n=cr(M.THIRTY_DAYS),e.next=5,f.pairings.update(r,{active:!0,expiry:n});case 5:f.core.expirer.set(r,n);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.ping=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.isInitialized(),e.next=3,f.isValidPing(t);case 3:if(i=t.topic,f.pairings.keys.includes(i))return e.next=7,f.sendRequest(i,"wc_pairingPing",{});e.next=15;break;case 7:return r=e.sent,n=ir(),i=n.done,o=n.resolve,a=n.reject,f.events.once(lr("pairing_ping",r),function(e){e=e.error;e?a(e):o()}),e.next=15,i();case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.updateExpiry=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.expiry,f.isInitialized(),e.next=4,f.pairings.update(r,{expiry:n});case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.updateMetadata=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.metadata,f.isInitialized(),e.next=4,f.pairings.update(r,{peerMetadata:n});case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getPairings=function(){return f.isInitialized(),f.pairings.values},this.disconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.isInitialized(),e.next=3,f.isValidDisconnect(t);case 3:if(r=t.topic,e.t0=f.pairings.keys.includes(r),e.t0)return e.next=8,f.sendRequest(r,"wc_pairingDelete",xr("USER_DISCONNECTED"));e.next=10;break;case 8:return e.next=10,f.deletePairing(r);case 10:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.sendRequest=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yr(r,n),e.next=3,f.core.crypto.encode(t,i);case 3:return o=e.sent,a=yi[r].req,e.abrupt("return",(f.core.history.set(t,i),f.core.relayer.publish(t,o,a),i.id));case 6:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.sendResult=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zr(t,n),e.next=3,f.core.crypto.encode(r,i);case 3:return o=e.sent,e.next=6,f.core.history.get(r,t);case 6:return a=e.sent,a=yi[a.request.method].res,e.next=10,f.core.relayer.publish(r,o,a);case 10:return e.next=12,f.core.history.resolve(i);case 12:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.sendError=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qr(t,n),e.next=3,f.core.crypto.encode(r,i);case 3:return o=e.sent,e.next=6,f.core.history.get(r,t);case 6:return a=e.sent,a=(yi[a.request.method]||yi.unregistered_method).res,e.next=10,f.core.relayer.publish(r,o,a);case 10:return e.next=12,f.core.history.resolve(i);case 12:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),this.deletePairing=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.core.relayer.unsubscribe(t);case 2:return e.next=4,Promise.all([f.pairings.delete(t,xr("USER_DISCONNECTED")),f.core.crypto.deleteSymKey(t),r?Promise.resolve():f.core.expirer.del(t)]);case 4:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),this.cleanup=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.pairings.getAll().filter(function(e){return ur(e.expiry)}),e.next=3,Promise.all(t.map(function(e){return f.deletePairing(e.topic)}));case 3:case"end":return e.stop()}},e)})),this.onRelayEventRequest=function(e){var t=e.topic,r=e.payload;switch(r.method){case"wc_pairingPing":return f.onPairingPingRequest(t,r);case"wc_pairingDelete":return f.onPairingDeleteRequest(t,r);default:return f.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.payload,e.next=4,f.core.history.get(r,n.id);case 4:return i=e.sent.request.method,e.abrupt("return","wc_pairingPing"===i?f.onPairingPingResponse(r,n):f.onUnknownRpcMethodResponse(i));case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.onPairingPingRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,f.isValidPing({topic:t}),e.next=5,f.sendResult(n,t,!0);case 5:f.events.emit("pairing_ping",{id:n,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,f.sendError(n,t,e.t0);case 12:f.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),this.onPairingPingResponse=function(e,t){var r=t.id;setTimeout(function(){an(t)?f.events.emit(lr("pairing_ping",r),{}):sn(t)&&f.events.emit(lr("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,f.isValidDisconnect({topic:t}),e.next=5,f.deletePairing(t);case 5:f.events.emit("pairing_delete",{id:n,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,f.sendError(n,t,e.t0);case 12:f.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),this.onUnknownRpcMethodRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,i=r.method,e.prev=1,f.registeredMethods.includes(i))return e.abrupt("return");e.next=4;break;case 4:return o=xr("WC_METHOD_UNSUPPORTED",i),e.next=7,f.sendError(n,t,o);case 7:f.logger.error(o),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,f.sendError(n,t,e.t0);case 14:f.logger.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e,t){return r.apply(this,arguments)}}(),this.onUnknownRpcMethodResponse=function(e){f.registeredMethods.includes(e)||f.logger.error(xr("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=function(e){if(!Pr(e)){var t=_r("MISSING_OR_INVALID","pair() params: ".concat(e)).message;throw new Error(t)}if(!function(e){if(Cr(e,!1))try{return _typeof(new URL(e))<"u"}catch(e){return}}(e.uri)){e=_r("MISSING_OR_INVALID","pair() uri: ".concat(e.uri)).message;throw new Error(e)}},this.isValidPing=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","ping() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,f.isValidPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.isValidDisconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","disconnect() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,f.isValidPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.isValidPairingTopic=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Cr(t,!1)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","pairing topic should be a string: ".concat(t)),r=r.message,new Error(r);case 3:if(f.pairings.keys.includes(t)){e.next=6;break}throw n=_r("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(t)),n=n.message,new Error(n);case 6:if(ur(f.pairings.get(t).expiry))return e.next=9,f.deletePairing(t);e.next=11;break;case 9:throw n=_r("EXPIRED","pairing topic: ".concat(t)),n=n.message,new Error(n);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.core=e,this.logger=(0,k.generateChildLogger)(t,this.name),this.pairings=new Qi(this.core,this.logger,this.name,this.storagePrefix)}return _createClass(r,[{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"registerRelayerEvents",value:function(){var o=this;this.core.relayer.on(ni,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,n=t.message,!o.pairings.keys.includes(r)||o.ignoredPayloadTypes.includes(o.core.crypto.getPayloadType(n)))return e.abrupt("return");e.next=3;break;case 3:return e.next=5,o.core.crypto.decode(r,n);case 5:if(i=e.sent,e.prev=6,!nn(i)){e.next=11;break}o.core.history.set(r,i),o.onRelayEventRequest({topic:r,payload:i}),e.next=18;break;case 11:if(e.t0=on(i),e.t0)return e.next=15,o.core.history.resolve(i);e.next=18;break;case 15:return e.next=17,o.onRelayEventResponse({topic:r,payload:i});case 17:o.core.history.delete(r,i.id);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(6),o.logger.error(e.t1);case 23:case"end":return e.stop()}},e,null,[[6,20]])}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var n=this;this.core.expirer.on(Oi,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sr(t.target),r=r.topic,e.t0=r&&n.pairings.keys.includes(r),e.t0)return e.next=5,n.deletePairing(r,!0);e.next=6;break;case 5:n.events.emit("pairing_expire",{topic:r});case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),r}(),Xi=function(){_inherits(o,C);var e,t,r,n,i=_createSuper(o);function o(e,t){var n;return _classCallCheck(this,o),(n=i.call(this,e,t)).core=e,n.logger=t,n.records=new Map,n.events=new b.EventEmitter,n.name="history",n.version="0.3",n.cached=[],n.initialized=!1,n.storagePrefix=Zn,n.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.initialized,e.t0){e.next=9;break}return n.logger.trace("Initialized"),e.next=5,n.restore();case 5:n.cached.forEach(function(e){return n.records.set(e.id,e)}),n.cached=[],n.registerEventListeners(),n.initialized=!0;case 9:case"end":return e.stop()}},e)})),n.set=function(e,t,r){n.isInitialized(),n.logger.debug("Setting JSON-RPC request history record"),n.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),n.records.has(t.id)||(r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:cr(M.THIRTY_DAYS)},n.records.set(r.id,r),n.events.emit(wi,r))},n.resolve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),n.logger.debug("Updating JSON-RPC response history record"),n.logger.trace({type:"method",method:"update",response:t}),n.records.has(t.id)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.getRecord(t.id);case 4:"u"<_typeof((r=e.sent).response)&&(r.response=sn(t)?{error:t.error}:{result:t.result},n.records.set(r.id,r),n.events.emit(_i,r));case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),n.get=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.isInitialized(),n.logger.debug("Getting record"),n.logger.trace({type:"method",method:"get",topic:t,id:r}),e.next=5,n.getRecord(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),n.delete=function(t,r){n.isInitialized(),n.logger.debug("Deleting record"),n.logger.trace({type:"method",method:"delete",id:r}),n.values.forEach(function(e){e.topic===t&&(_typeof(r)<"u"&&e.id!==r||(n.records.delete(e.id),n.events.emit(xi,e)))})},n.exists=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isInitialized(),e.t0=!!n.records.has(r),e.t0)return e.next=5,n.getRecord(r);e.next=8;break;case 5:e.t1=e.sent.topic,e.t2=t,e.t0=e.t1===e.t2;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),n.on=function(e,t){n.events.on(e,t)},n.once=function(e,t){n.events.once(e,t)},n.off=function(e,t){n.events.off(e,t)},n.removeListener=function(e,t){n.events.removeListener(e,t)},n.logger=(0,k.generateChildLogger)(t,n.name),n}return _createClass(o,[{key:"setJsonRpcRecords",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getJsonRpcRecords",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"getRecord",value:function(e){this.isInitialized();var t=this.records.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw new Error(e)}},{key:"persist",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setJsonRpcRecords(this.values);case 2:this.events.emit("history_sync");case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"restore",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJsonRpcRecords();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.records.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored records for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",records:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore records for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return e.apply(this,arguments)})},{key:"registerEventListeners",value:function(){var r=this;this.events.on(wi,function(e){var t=wi;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,record:e}),r.persist()}),this.events.on(_i,function(e){var t=_i;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,record:e}),r.persist()}),this.events.on(xi,function(e){var t=xi;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,record:e}),r.persist()}),this.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,function(){r.cleanup()})}},{key:"cleanup",value:function(){var t=this;try{this.records.forEach(function(e){(0,M.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(t.logger.info("Deleting expired history log: ".concat(e.id)),t.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"size",get:function(){return this.records.size}},{key:"keys",get:function(){return Array.from(this.records.keys())}},{key:"values",get:function(){return Array.from(this.records.values())}},{key:"pending",get:function(){var t=[];return this.values.forEach(function(e){if(!(_typeof(e.response)<"u")){e={topic:e.topic,request:Yr(e.request.method,e.request.params,e.id),chainId:e.chainId};return t.push(e)}}),t}}]),o}(),eo=function(){_inherits(o,I);var e,t,r,n,i=_createSuper(o);function o(e,t){var r;return _classCallCheck(this,o),(r=i.call(this,e,t)).core=e,r.logger=t,r.expirations=new Map,r.events=new b.EventEmitter,r.name="expirer",r.version="0.3",r.cached=[],r.initialized=!1,r.storagePrefix=Zn,r.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.initialized,e.t0){e.next=9;break}return r.logger.trace("Initialized"),e.next=5,r.restore();case 5:r.cached.forEach(function(e){return r.expirations.set(e.target,e)}),r.cached=[],r.registerEventListeners(),r.initialized=!0;case 9:case"end":return e.stop()}},e)})),r.has=function(e){try{var t=r.formatTarget(e);return _typeof(r.getExpiration(t))<"u"}catch(e){return!1}},r.set=function(e,t){r.isInitialized();e=r.formatTarget(e),t={target:e,expiry:t};r.expirations.set(e,t),r.checkExpiry(e,t),r.events.emit(ki,{target:e,expiration:t})},r.get=function(e){r.isInitialized();e=r.formatTarget(e);return r.getExpiration(e)},r.del=function(e){var t;r.isInitialized(),r.has(e)&&(t=r.formatTarget(e),e=r.getExpiration(t),r.expirations.delete(t),r.events.emit(Ei,{target:t,expiration:e}))},r.on=function(e,t){r.events.on(e,t)},r.once=function(e,t){r.events.once(e,t)},r.off=function(e,t){r.events.off(e,t)},r.removeListener=function(e,t){r.events.removeListener(e,t)},r.logger=(0,k.generateChildLogger)(t,r.name),r}return _createClass(o,[{key:"formatTarget",value:function(e){if("string"==typeof e)return ar("topic",e);if("number"==typeof e)return ar("id",e);e=_r("UNKNOWN_TYPE","Target type: "+_typeof(e)).message;throw new Error(e)}},{key:"setExpirations",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.setItem(this.storageKey,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getExpirations",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.core.storage.getItem(this.storageKey);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"persist",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setExpirations(this.values);case 2:this.events.emit("expirer_sync");case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"restore",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getExpirations();case 3:if("u"<_typeof(t=e.sent)||!t.length)return e.abrupt("return");e.next=6;break;case 6:if(this.expirations.size)throw r=_r("RESTORE_WILL_OVERRIDE",this.name),r=r.message,this.logger.error(r),new Error(r);e.next=9;break;case 9:this.cached=t,this.logger.debug("Successfully Restored expirations for ".concat(this.name)),this.logger.trace({type:"method",method:"restore",expirations:this.values}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.logger.debug("Failed to Restore expirations for ".concat(this.name)),this.logger.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),function(){return e.apply(this,arguments)})},{key:"getExpiration",value:function(e){var t=this.expirations.get(e);if(t)return t;e=_r("NO_MATCHING_KEY","".concat(this.name,": ").concat(e)).message;throw this.logger.error(e),new Error(e)}},{key:"checkExpiry",value:function(e,t){var r=t.expiry;(0,M.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}},{key:"expire",value:function(e,t){this.expirations.delete(e),this.events.emit(Oi,{target:e,expiration:t})}},{key:"checkExpirations",value:function(){var r=this;this.core.relayer.connected&&this.expirations.forEach(function(e,t){return r.checkExpiry(t,e)})}},{key:"registerEventListeners",value:function(){var r=this;this.core.heartbeat.on(x.HEARTBEAT_EVENTS.pulse,function(){return r.checkExpirations()}),this.events.on(ki,function(e){var t=ki;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,data:e}),r.persist()}),this.events.on(Oi,function(e){var t=Oi;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,data:e}),r.persist()}),this.events.on(Ei,function(e){var t=Ei;r.logger.info("Emitting ".concat(t)),r.logger.debug({type:"event",event:t,data:e}),r.persist()})}},{key:"isInitialized",value:function(){if(!this.initialized){var e=_r("NOT_INITIALIZED",this.name).message;throw new Error(e)}}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"storageKey",get:function(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}},{key:"length",get:function(){return this.expirations.size}},{key:"keys",get:function(){return Array.from(this.expirations.keys())}},{key:"values",get:function(){return Array.from(this.expirations.values())}}]),o}(),to=function(){_inherits(n,m);var r=_createSuper(n);function n(e,t){var o;return _classCallCheck(this,n),(o=r.call(this,e,t)).projectId=e,o.logger=t,o.name=Ci,o.initialized=!1,o.queue=[],o.verifyDisabled=!1,o.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.verifyDisabled||Jt()||!Xt())return e.abrupt("return");e.next=2;break;case 2:return t=Ri,o.verifyUrl!==t&&o.removeIframe(),o.verifyUrl=t,e.prev=4,e.next=7,o.createIframe();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),o.logger.info("Verify iframe failed to load: ".concat(o.verifyUrl)),o.logger.info(e.t0);case 12:if(o.initialized){e.next=22;break}return o.removeIframe(),o.verifyUrl=Si,e.prev=14,e.next=17,o.createIframe();case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(14),o.logger.info("Verify iframe failed to load: ".concat(o.verifyUrl)),o.logger.info(e.t1),o.verifyDisabled=!0;case 22:case"end":return e.stop()}},e,null,[[4,9],[14,19]])})),o.register=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.initialized){e.next=4;break}o.sendPost(t.attestationId),e.next=7;break;case 4:return o.addToQueue(t.attestationId),e.next=7,o.init();case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),o.resolve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isDevEnv)return e.abrupt("return","");e.next=2;break;case 2:return r=(null==t?void 0:t.verifyUrl)||Ri,e.prev=3,e.next=6,o.fetchAttestation(t.attestationId,r);case 6:n=e.sent,e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(3),o.logger.info("failed to resolve attestation: ".concat(t.attestationId," from url: ").concat(r)),o.logger.info(e.t0),e.next=15,o.fetchAttestation(t.attestationId,Si);case 15:n=e.sent;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}(),o.fetchAttestation=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.logger.info("resolving attestation: ".concat(t," from url: ").concat(r)),n=o.startAbortTimer(2*M.ONE_SECOND),e.next=4,fetch("".concat(r,"/attestation/").concat(t),{signal:o.abortController.signal});case 4:if(i=e.sent,clearTimeout(n),200===i.status)return e.next=9,i.json();e.next=12;break;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=void 0;case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),o.addToQueue=function(e){o.queue.push(e)},o.processQueue=function(){0!==o.queue.length&&(o.queue.forEach(function(e){return o.sendPost(e)}),o.queue=[])},o.sendPost=function(e){var t;try{if(!o.iframe)return;null==(t=o.iframe.contentWindow)||t.postMessage(e,"*"),o.logger.info("postMessage sent: ".concat(e," ").concat(o.verifyUrl))}catch(e){}},o.createIframe=_asyncToGenerator(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function e(t){"verify_ready"===t.data&&(o.initialized=!0,o.processQueue(),window.removeEventListener("message",e),r())},e.next=3,Promise.race([new Promise(function(e){if(document.getElementById(Ci))return e();window.addEventListener("message",n);var t=document.createElement("iframe");t.id=Ci,t.src="".concat(o.verifyUrl,"/").concat(o.projectId),t.style.display="none",document.body.append(t),o.iframe=t,r=e}),new Promise(function(e,t){return setTimeout(function(){window.removeEventListener("message",n),t("verify iframe load timeout")},(0,M.toMiliseconds)(M.FIVE_SECONDS))})]);case 3:case"end":return e.stop()}},e)})),o.removeIframe=function(){o.iframe&&(o.iframe.remove(),o.iframe=void 0,o.initialized=!1)},o.logger=(0,k.generateChildLogger)(t,o.name),o.verifyUrl=Ri,o.abortController=new AbortController,o.isDevEnv=Qt()&&process.env.IS_VITEST,o}return _createClass(n,[{key:"startAbortTimer",value:function(e){var t=this;return this.abortController=new AbortController,setTimeout(function(){return t.abortController.abort()},(0,M.toMiliseconds)(e))}},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}]),n}(),ro=Object.defineProperty,no=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,ao=function(e,t){for(var r in t=t||{})io.call(t,r)&&Fn(e,r,t[r]);if(no){var n,i=_createForOfIteratorHelper(no(t));try{for(i.s();!(n=i.n()).done;){r=n.value;oo.call(t,r)&&Fn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e},so=function(){_inherits(i,O);var t,e,r,n=_createSuper(i);function i(e){var r;_classCallCheck(this,i),(r=n.call(this,e)).protocol="wc",r.version=2,r.name=Yn,r.events=new b.EventEmitter,r.initialized=!1,r.on=function(e,t){return r.events.on(e,t)},r.once=function(e,t){return r.events.once(e,t)},r.off=function(e,t){return r.events.off(e,t)},r.removeListener=function(e,t){return r.events.removeListener(e,t)},r.projectId=null==e?void 0:e.projectId,r.relayUrl=(null==e?void 0:e.relayUrl)||ti,r.customStoragePrefix=null!=e&&e.customStoragePrefix?":".concat(e.customStoragePrefix):"";var t=_typeof(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:(0,k.pino)((0,k.getDefaultLoggerOptions)({level:(null==e?void 0:e.logger)||"error"}));return r.logger=(0,k.generateChildLogger)(t,r.name),r.heartbeat=new x.HeartBeat,r.crypto=new Ii(_assertThisInitialized(r),r.logger,null==e?void 0:e.keychain),r.history=new Xi(_assertThisInitialized(r),r.logger),r.expirer=new eo(_assertThisInitialized(r),r.logger),r.storage=null!=e&&e.storage?e.storage:new _.ZP(ao(ao({},Qn),null==e?void 0:e.storageOptions)),r.relayer=new Vi({core:_assertThisInitialized(r),logger:r.logger,relayUrl:r.relayUrl,projectId:r.projectId}),r.pairing=new Ji(_assertThisInitialized(r),r.logger),r.verify=new to(r.projectId||"",r.logger),r}return _createClass(i,[{key:"start",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialized,e.t0){e.next=4;break}return e.next=4,this.initialize();case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"initialize",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.crypto.init();case 4:return e.next=6,this.history.init();case 6:return e.next=8,this.expirer.init();case 8:return e.next=10,this.relayer.init();case 10:return e.next=12,this.heartbeat.init();case 12:return e.next=14,this.pairing.init();case 14:this.initialized=!0,this.logger.info("Core Initialization Success"),e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(1),this.logger.warn("Core Initialization Failure at epoch ".concat(Date.now()),e.t0),this.logger.error(e.t0.message),e.t0;case 21:case"end":return e.stop()}},e,this,[[1,18]])})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}}],[{key:"init",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i(t),e.next=3,r.initialize();case 3:return e.next=5,r.crypto.getClientId();case 5:return n=e.sent,e.next=8,r.storage.setItem("WALLETCONNECT_CLIENT_ID",n);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),i}(),co="wc@2:".concat("client",":"),uo="client",lo="WALLETCONNECT_DEEPLINK_CHOICE",fo=M.SEVEN_DAYS,po={wc_sessionPropose:{req:{ttl:M.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1104},res:{ttl:M.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1106},res:{ttl:M.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:M.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:M.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:M.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:M.ONE_DAY,prompt:!1,tag:1112},res:{ttl:M.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:M.THIRTY_SECONDS,prompt:!1,tag:1115}}},ho={min:M.FIVE_MINUTES,max:M.SEVEN_DAYS},go="IDLE",mo="ACTIVE",vo=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],yo=Object.defineProperty,bo=Object.defineProperties,wo=Object.getOwnPropertyDescriptors,_o=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,Eo=function(e,t){for(var r in t=t||{})xo.call(t,r)&&Kn(e,r,t[r]);if(_o){var n,i=_createForOfIteratorHelper(_o(t));try{for(i.s();!(n=i.n()).done;){r=n.value;ko.call(t,r)&&Kn(e,r,t[r])}}catch(e){i.e(e)}finally{i.f()}}return e},Oo=function(e,t){return bo(e,wo(t))},Co=function(){_inherits(a,y);var t,r,n,e,i=_createSuper(a);function a(e){var y,o;return _classCallCheck(this,a),y=i.call(this,e),o=_assertThisInitialized(y),y.name="engine",y.events=new(w()),y.initialized=!1,y.ignoredPayloadTypes=[1],y.requestQueue={state:go,queue:[]},y.sessionRequestQueue={state:go,queue:[]},y.requestQueueDelay=M.ONE_SECOND,y.init=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=y.initialized,e.t0){e.next=10;break}return e.next=4,y.cleanup();case 4:y.registerRelayerEvents(),y.registerExpirerEvents(),y.registerPairingEvents(),y.client.core.pairing.register({methods:Object.keys(po)}),y.initialized=!0,setTimeout(function(){y.sessionRequestQueue.queue=y.getPendingSessionRequests(),y.processSessionRequestQueue()},(0,M.toMiliseconds)(y.requestQueueDelay));case 10:case"end":return e.stop()}},e)})),y.connect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l,f,p,h,d,g,m,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return r=Oo(Eo({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}}),e.next=5,y.isValidConnect(r);case 5:if(n=r.pairingTopic,i=r.requiredNamespaces,o=r.optionalNamespaces,a=r.sessionProperties,s=r.relays,u=!1,(c=n)&&(u=y.client.core.pairing.pairings.get(c).active),c&&u){e.next=14;break}return e.next=10,y.client.core.pairing.create();case 10:l=e.sent,u=l.topic,l=l.uri,c=u,l=l;case 14:return e.next=16,y.client.core.crypto.generateKeyPair();case 16:if(f=e.sent,p=Eo({requiredNamespaces:i,optionalNamespaces:o,relays:null!=s?s:[{protocol:"irn"}],proposer:{publicKey:f,metadata:y.client.metadata}},a&&{sessionProperties:a}),g=ir(M.FIVE_MINUTES,"Proposal expired"),h=g.reject,d=g.resolve,g=g.done,y.events.once(lr("session_connect"),function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.error,n=t.session,!r){e.next=5;break}h(r),e.next=17;break;case 5:if(n)return n.self.publicKey=f,i=Oo(Eo({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces}),e.next=10,y.client.session.set(n.topic,i);e.next=17;break;case 10:return e.next=12,y.setExpiry(n.topic,n.expiry);case 12:if(e.t0=c,e.t0)return e.next=16,y.client.core.pairing.updateMetadata({topic:c,metadata:n.peer.metadata});e.next=16;break;case 16:d(i);case 17:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),c){e.next=25;break}throw m=_r("NO_MATCHING_KEY","connect() pairing topic: ".concat(c)),v=m.message,new Error(v);case 25:return e.next=27,y.sendRequest({topic:c,method:"wc_sessionPropose",params:p});case 27:return m=e.sent,v=cr(M.FIVE_MINUTES),e.next=31,y.setProposal(m,Eo({id:m,expiry:v},p));case 31:return e.abrupt("return",{uri:l,approval:g});case 32:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.pair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.client.core.pairing.pair(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.approve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l,f,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidApprove(t);case 4:return r=t.id,n=t.relayProtocol,i=t.namespaces,o=t.sessionProperties,u=y.client.proposal.get(r),a=u.pairingTopic,s=u.proposer,c=u.requiredNamespaces,u=u.optionalNamespaces,a=a||"",Er(c)||(c=function(e){var t=Ar(e,"approve()");if(t)throw new Error(t.message);for(var r={},n=0,i=Object.entries(e);n<i.length;n++){var o=_slicedToArray(i[n],2),a=o[0],o=o[1];r[a]={methods:o.methods,events:o.events,chains:o.accounts.map(function(e){return"".concat(e.split(":")[0],":").concat(e.split(":")[1])})}}return r}(i)),e.next=9,y.client.core.crypto.generateKeyPair();case 9:return l=e.sent,h=s.publicKey,e.next=13,y.client.core.crypto.generateSharedKey(l,h);case 13:if(f=e.sent,e.t0=a&&r,e.t0)return e.next=18,y.client.core.pairing.updateMetadata({topic:a,metadata:s.metadata});e.next=24;break;case 18:return e.next=20,y.sendResult({id:r,topic:a,result:{relay:{protocol:null!=n?n:"irn"},responderPublicKey:l}});case 20:return e.next=22,y.client.proposal.delete(r,xr("USER_DISCONNECTED"));case 22:return e.next=24,y.client.core.pairing.activate({topic:a});case 24:return p=Eo({relay:{protocol:null!=n?n:"irn"},namespaces:i,requiredNamespaces:c,optionalNamespaces:u,pairingTopic:a,controller:{publicKey:l,metadata:y.client.metadata},expiry:cr(fo)},o&&{sessionProperties:o}),e.next=27,y.client.core.relayer.subscribe(f);case 27:return e.next=29,y.sendRequest({topic:f,method:"wc_sessionSettle",params:p,throwOnFailedPublish:!0});case 29:return h=Oo(Eo({},p),{topic:f,pairingTopic:a,acknowledged:!1,self:p.controller,peer:{publicKey:s.publicKey,metadata:s.metadata},controller:l}),e.next=32,y.client.session.set(f,h);case 32:return e.next=34,y.setExpiry(f,cr(fo));case 34:return e.abrupt("return",{topic:f,acknowledged:function(){return new Promise(function(e){return setTimeout(function(){return e(y.client.session.get(f))},500)})}});case 35:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.reject=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidReject(t);case 4:if(r=t.id,n=t.reason,i=y.client.proposal.get(r),i=i.pairingTopic,e.t0=i,e.t0)return e.next=9,y.sendError(r,i,n);e.next=11;break;case 9:return e.next=11,y.client.proposal.delete(r,xr("USER_DISCONNECTED"));case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.update=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidUpdate(t);case 4:return r=t.topic,n=t.namespaces,e.next=8,y.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:n}});case 8:return i=e.sent,o=ir(),a=o.done,s=o.resolve,c=o.reject,y.events.once(lr("session_update",i),function(e){e=e.error;e?c(e):s()}),e.next=16,y.client.session.update(r,{namespaces:n});case 16:return e.abrupt("return",{acknowledged:a});case 17:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.extend=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidExtend(t);case 4:return r=t.topic,e.next=7,y.sendRequest({topic:r,method:"wc_sessionExtend",params:{}});case 7:return n=e.sent,i=ir(),o=i.done,a=i.resolve,s=i.reject,y.events.once(lr("session_extend",n),function(e){e=e.error;e?s(e):a()}),e.next=15,y.setExpiry(r,cr(fo));case 15:return e.abrupt("return",{acknowledged:o});case 16:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.request=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidRequest(t);case 4:return r=t.chainId,n=t.request,i=t.topic,o=t.expiry,a=Kr(),s=ir(o,"Request expired. Please try again."),c=s.done,u=s.resolve,l=s.reject,y.events.once(lr("session_request",a),function(e){var t=e.error,e=e.result;t?l(t):u(e)}),e.next=8,Promise.all([new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.sendRequest({clientRpcId:a,topic:i,method:"wc_sessionRequest",params:{request:n,chainId:r},expiry:o,throwOnFailedPublish:!0}).catch(function(e){return l(e)});case 2:y.client.events.emit("session_request_sent",{topic:i,request:n,chainId:r,id:a}),t();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.client.core.storage.getItem(lo);case 2:r=e.sent,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.topic,i=t.wcDeepLink,e.prev=1,i){e.next=4;break}return e.abrupt("return");case 4:if(o="string"==typeof i?JSON.parse(i):i,"string"!=typeof(o=null==o?void 0:o.href))return e.abrupt("return");e.next=8;break;case 8:if(o.endsWith("/")&&(o=o.slice(0,-1)),a="".concat(o,"/wc?requestId=").concat(r,"&sessionTopic=").concat(n),(s=er())!==Yt.browser){e.next=14;break}a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"),e.next=18;break;case 14:if(e.t0=s===Yt.reactNative&&_typeof(null==Ao.g?void 0:Ao.g.Linking)<"u",e.t0)return e.next=18,Ao.g.Linking.openURL(a);e.next=18;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(1),console.error(e.t1);case 23:case"end":return e.stop()}},e,null,[[1,20]])}));return function(e){return t.apply(this,arguments)}}()({id:a,topic:i,wcDeepLink:r}),t();case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),c()]).then(function(e){return e[2]});case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.respond=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidRespond(t);case 4:if(r=t.topic,n=t.response,i=n.id,an(n))return e.next=8,y.sendResult({id:i,topic:r,result:n.result,throwOnFailedPublish:!0});e.next=10;break;case 8:e.next=14;break;case 10:if(e.t0=sn(n),e.t0)return e.next=14,y.sendError(i,r,n.error);e.next=14;break;case 14:y.cleanupAfterResponse(t);case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.ping=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidPing(t);case 4:if(r=t.topic,y.client.session.keys.includes(r))return e.next=8,y.sendRequest({topic:r,method:"wc_sessionPing",params:{}});e.next=18;break;case 8:return n=e.sent,i=ir(),o=i.done,a=i.resolve,s=i.reject,y.events.once(lr("session_ping",n),function(e){e=e.error;e?s(e):a()}),e.next=16,o();case 16:e.next=22;break;case 18:if(e.t0=y.client.core.pairing.pairings.keys.includes(r),e.t0)return e.next=22,y.client.core.pairing.ping({topic:r});e.next=22;break;case 22:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.emit=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidEmit(t);case 4:return r=t.topic,n=t.event,i=t.chainId,e.next=7,y.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:n,chainId:i}});case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.disconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.isInitialized();case 2:return e.next=4,y.isValidDisconnect(t);case 4:if(r=t.topic,y.client.session.keys.includes(r))return e.next=8,y.sendRequest({topic:r,method:"wc_sessionDelete",params:xr("USER_DISCONNECTED"),throwOnFailedPublish:!0});e.next=12;break;case 8:return e.next=10,y.deleteSession(r);case 10:e.next=14;break;case 12:return e.next=14,y.client.core.pairing.disconnect({topic:r});case 14:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.find=function(r){return y.isInitialized(),y.client.session.getAll().filter(function(e){return o=e,a=r.requiredNamespaces,t=Object.keys(o.namespaces),e=Object.keys(a),s=!0,!!tr(e,t)&&(t.forEach(function(e){var t=o.namespaces[e],r=t.accounts,n=t.methods,i=t.events,t=yr(r),r=a[e];tr(At(e,r),t)&&tr(r.methods,n)&&tr(r.events,i)||(s=!1)}),s);var o,a,t,s})},y.getPendingSessionRequests=function(){return y.isInitialized(),y.client.pendingRequest.getAll()},y.cleanupDuplicatePairings=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.pairingTopic){e.next=14;break}if(e.prev=1,n=y.client.core.pairing.pairings.get(r.pairingTopic),0===(t=y.client.core.pairing.pairings.getAll().filter(function(e){var t;return(null==(t=e.peerMetadata)?void 0:t.url)&&(null==(t=e.peerMetadata)?void 0:t.url)===r.peer.metadata.url&&e.topic&&e.topic!==n.topic})).length)return e.abrupt("return");e.next=5;break;case 5:return y.client.logger.info("Cleaning up ".concat(t.length," duplicate pairing(s)")),e.next=8,Promise.all(t.map(function(e){return y.client.core.pairing.disconnect({topic:e.topic})}));case 8:y.client.logger.info("Duplicate pairings clean up finished"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y.client.logger.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}(),y.deleteSession=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.client.session.get(t),n=n.self,e.next=3,y.client.core.relayer.unsubscribe(t);case 3:if(y.client.session.delete(t,xr("USER_DISCONNECTED")),e.t0=y.client.core.crypto.keychain.has(n.publicKey),e.t0)return e.next=8,y.client.core.crypto.deleteKeyPair(n.publicKey);e.next=8;break;case 8:if(e.t1=y.client.core.crypto.keychain.has(t),e.t1)return e.next=12,y.client.core.crypto.deleteSymKey(t);e.next=12;break;case 12:r||y.client.core.expirer.del(t),y.client.core.storage.removeItem(lo).catch(function(e){return y.client.logger.warn(e)});case 14:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.deleteProposal=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.client.proposal.delete(t,xr("USER_DISCONNECTED")),r?Promise.resolve():y.client.core.expirer.del(t)]);case 2:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.deletePendingSessionRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=2<i.length&&void 0!==i[2]&&i[2],e.next=3,Promise.all([o.client.pendingRequest.delete(t,r),n?Promise.resolve():o.client.core.expirer.del(t)]);case 3:o.sessionRequestQueue.queue=o.sessionRequestQueue.queue.filter(function(e){return e.id!==t}),n&&(o.sessionRequestQueue.state=go);case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.setExpiry=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=y.client.session.keys.includes(t),e.t0)return e.next=4,y.client.session.update(t,{expiry:r});e.next=4;break;case 4:y.client.core.expirer.set(t,r);case 5:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.setProposal=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.client.proposal.set(t,r);case 2:y.client.core.expirer.set(t,r.expiry);case 3:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.setPendingSessionRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=po.wc_sessionRequest.req.ttl,n=t.id,i=t.topic,o=t.params,a=t.verifyContext,e.next=3,y.client.pendingRequest.set(n,{id:n,topic:i,params:o,verifyContext:a});case 3:r&&y.client.core.expirer.set(n,cr(r));case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.sendRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.method,s=t.params,i=t.expiry,o=t.relayRpcId,c=t.clientRpcId,a=t.throwOnFailedPublish,s=Yr(n,s,c),Xt()&&vo.includes(n)&&(c=Ut(JSON.stringify(s)),y.client.core.verify.register({attestationId:c})),e.next=4,y.client.core.crypto.encode(r,s);case 4:if(u=e.sent,l=po[n].req,i&&(l.ttl=i),o&&(l.id=o),y.client.core.history.set(r,s),a)return l.internal=Oo(Eo({},l.internal),{throwOnFailedPublish:!0}),e.next=13,y.client.core.relayer.publish(r,u,l);e.next=15;break;case 13:e.next=16;break;case 15:y.client.core.relayer.publish(r,u,l).catch(function(e){return y.client.logger.error(e)});case 16:return e.abrupt("return",s.id);case 17:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.sendResult=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.topic,o=t.result,i=t.throwOnFailedPublish,o=Zr(r,o),e.next=7,y.client.core.crypto.encode(n,o);case 7:return a=e.sent,e.next=10,y.client.core.history.get(n,r);case 10:if(s=e.sent,s=po[s.request.method].res,i)return s.internal=Oo(Eo({},s.internal),{throwOnFailedPublish:!0}),e.next=16,y.client.core.relayer.publish(n,a,s);e.next=18;break;case 16:e.next=19;break;case 18:y.client.core.relayer.publish(n,a,s).catch(function(e){return y.client.logger.error(e)});case 19:return e.next=21,y.client.core.history.resolve(o);case 21:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.sendError=function(){var n=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qr(t,n),e.next=3,y.client.core.crypto.encode(r,i);case 3:return o=e.sent,e.next=6,y.client.core.history.get(r,t);case 6:return a=e.sent,a=po[a.request.method].res,y.client.core.relayer.publish(r,o,a),e.next=11,y.client.core.history.resolve(i);case 11:case"end":return e.stop()}},e)}));return function(e,t,r){return n.apply(this,arguments)}}(),y.cleanup=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=[],y.client.session.getAll().forEach(function(e){ur(e.expiry)&&t.push(e.topic)}),y.client.proposal.getAll().forEach(function(e){ur(e.expiry)&&r.push(e.id)}),e.next=5,Promise.all([].concat(_toConsumableArray(t.map(function(e){return y.deleteSession(e)})),_toConsumableArray(r.map(function(e){return y.deleteProposal(e)}))));case 5:case"end":return e.stop()}},e)})),y.onRelayEventRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.requestQueue.queue.push(t),e.next=3,y.processRequestsQueue();case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.processRequestsQueue=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y.requestQueue.state===mo){e.next=20;break}y.client.logger.info("Request queue starting with ".concat(y.requestQueue.queue.length," requests"));case 2:if(!(0<y.requestQueue.queue.length)){e.next=17;break}if(y.requestQueue.state=mo,t=y.requestQueue.queue.shift())return e.prev=6,y.processRequest(t),e.next=10,new Promise(function(e){return setTimeout(e,300)});e.next=15;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),y.client.logger.warn(e.t0);case 15:e.next=2;break;case 17:y.requestQueue.state=go,e.next=21;break;case 20:y.client.logger.info("Request queue already active, skipping...");case 21:case"end":return e.stop()}},e,null,[[6,12]])})),y.processRequest=function(e){var t=e.topic,r=e.payload,n=r.method;switch(n){case"wc_sessionPropose":return y.onSessionProposeRequest(t,r);case"wc_sessionSettle":return y.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return y.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return y.onSessionExtendRequest(t,r);case"wc_sessionPing":return y.onSessionPingRequest(t,r);case"wc_sessionDelete":return y.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return y.onSessionRequest(t,r);case"wc_sessionEvent":return y.onSessionEventRequest(t,r);default:return y.client.logger.info("Unsupported request method ".concat(n))}},y.onRelayEventResponse=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.topic,n=t.payload,e.next=4,y.client.core.history.get(r,n.id);case 4:i=e.sent.request.method,e.t0=i,e.next="wc_sessionPropose"===e.t0?8:"wc_sessionSettle"===e.t0?9:"wc_sessionUpdate"===e.t0?10:"wc_sessionExtend"===e.t0?11:"wc_sessionPing"===e.t0?12:"wc_sessionRequest"===e.t0?13:14;break;case 8:return e.abrupt("return",y.onSessionProposeResponse(r,n));case 9:return e.abrupt("return",y.onSessionSettleResponse(r,n));case 10:return e.abrupt("return",y.onSessionUpdateResponse(r,n));case 11:return e.abrupt("return",y.onSessionExtendResponse(r,n));case 12:return e.abrupt("return",y.onSessionPingResponse(r,n));case 13:return e.abrupt("return",y.onSessionRequestResponse(r,n));case 14:return e.abrupt("return",y.client.logger.info("Unsupported response method ".concat(i)));case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.onRelayEventUnknownPayload=function(e){e=e.topic,e=_r("MISSING_OR_INVALID","Decoded payload on topic ".concat(e," is not identifiable as a JSON-RPC request or a response.")).message;throw new Error(e)},y.onSessionProposeRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.params,n=r.id,e.prev=1,y.isValidConnect(Eo({},r.params)),i=cr(M.FIVE_MINUTES),o=Eo({id:n,pairingTopic:t,expiry:i},o),e.next=6,y.setProposal(n,o);case 6:return a=Ut(JSON.stringify(r)),e.next=9,y.getVerifyContext(a,o.proposer.metadata);case 9:a=e.sent,y.client.events.emit("session_proposal",{id:n,params:o,verifyContext:a}),e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(1),e.next=17,y.sendError(n,t,e.t0);case 17:y.client.logger.error(e.t0);case 18:case"end":return e.stop()}},e,null,[[1,13]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionProposeResponse=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,an(r))return o=r.result,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o}),i=y.client.proposal.get(n),y.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i}),i=i.proposer.publicKey,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:i}),o=o.responderPublicKey,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:o}),e.next=12,y.client.core.crypto.generateSharedKey(i,o);e.next=22;break;case 12:return a=e.sent,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a}),e.next=16,y.client.core.relayer.subscribe(a);case 16:return a=e.sent,y.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:a}),e.next=20,y.client.core.pairing.activate({topic:t});case 20:e.next=27;break;case 22:if(e.t0=sn(r),e.t0)return e.next=26,y.client.proposal.delete(n,xr("USER_DISCONNECTED"));e.next=27;break;case 26:y.events.emit(lr("session_connect"),{error:r.error});case 27:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionSettleRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,s,c,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,f=r.params,e.prev=1,y.isValidSessionSettleRequest(f),l=r.params,i=l.relay,o=l.controller,a=l.expiry,s=l.namespaces,c=l.requiredNamespaces,u=l.optionalNamespaces,f=l.sessionProperties,l=l.pairingTopic,f=Eo({topic:t,relay:i,expiry:a,namespaces:s,acknowledged:!0,pairingTopic:l,requiredNamespaces:c,optionalNamespaces:u,controller:o.publicKey,self:{publicKey:"",metadata:y.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},f&&{sessionProperties:f}),e.next=6,y.sendResult({id:r.id,topic:t,result:!0});case 6:y.events.emit(lr("session_connect"),{session:f}),y.cleanupDuplicatePairings(f),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,y.sendError(n,t,e.t0);case 14:y.client.logger.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionSettleResponse=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,an(r))return e.next=4,y.client.session.update(t,{acknowledged:!0});e.next=7;break;case 4:y.events.emit(lr("session_approve",n),{}),e.next=12;break;case 7:if(e.t0=sn(r),e.t0)return e.next=11,y.client.session.delete(t,xr("USER_DISCONNECTED"));e.next=12;break;case 11:y.events.emit(lr("session_approve",n),{error:r.error});case 12:case"end":return e.stop()}},e)}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionUpdateRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.params,i=r.id,e.prev=1,o="".concat(t,"_session_update"),(a=zr.get(o))&&y.isRequestOutOfSync(a,i))return e.abrupt("return",void y.client.logger.info("Discarding out of sync request - ".concat(i)));e.next=5;break;case 5:return y.isValidUpdate(Eo({topic:t},n)),e.next=8,y.client.session.update(t,{namespaces:n.namespaces});case 8:return e.next=10,y.sendResult({id:i,topic:t,result:!0});case 10:y.client.events.emit("session_update",{id:i,topic:t,params:n}),zr.set(o,i),e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(1),e.next=18,y.sendError(i,t,e.t0);case 18:y.client.logger.error(e.t0);case 19:case"end":return e.stop()}},e,null,[[1,14]])}));return function(e,t){return r.apply(this,arguments)}}(),y.isRequestOutOfSync=function(e,t){return parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3))},y.onSessionUpdateResponse=function(e,t){var r=t.id;an(t)?y.events.emit(lr("session_update",r),{}):sn(t)&&y.events.emit(lr("session_update",r),{error:t.error})},y.onSessionExtendRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,y.isValidExtend({topic:t}),e.next=5,y.setExpiry(t,cr(fo));case 5:return e.next=7,y.sendResult({id:n,topic:t,result:!0});case 7:y.client.events.emit("session_extend",{id:n,topic:t}),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,y.sendError(n,t,e.t0);case 14:y.client.logger.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,10]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionExtendResponse=function(e,t){var r=t.id;an(t)?y.events.emit(lr("session_extend",r),{}):sn(t)&&y.events.emit(lr("session_extend",r),{error:t.error})},y.onSessionPingRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,e.prev=1,y.isValidPing({topic:t}),e.next=5,y.sendResult({id:n,topic:t,result:!0});case 5:y.client.events.emit("session_ping",{id:n,topic:t}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,y.sendError(n,t,e.t0);case 12:y.client.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionPingResponse=function(e,t){var r=t.id;setTimeout(function(){an(t)?y.events.emit(lr("session_ping",r),{}):sn(t)&&y.events.emit(lr("session_ping",r),{error:t.error})},500)},y.onSessionDeleteRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.prev=1,y.isValidDisconnect({topic:r,reason:t.params}),e.next=5,Promise.all([new Promise(function(t){y.client.core.relayer.once(ci,_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,y.deleteSession(r);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)})))}),y.sendResult({id:n,topic:r,result:!0})]);case 5:y.client.events.emit("session_delete",{id:n,topic:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y.client.logger.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.id,i=r.params,e.prev=1,y.isValidRequest(Eo({topic:t},i)),o=Ut(JSON.stringify(Yr("wc_sessionRequest",i,n))),a=y.client.session.get(t),e.t0=n,e.t1=t,e.t2=i,e.next=10,y.getVerifyContext(o,a.peer.metadata);case 10:return e.t3=e.sent,s={id:e.t0,topic:e.t1,params:e.t2,verifyContext:e.t3},e.next=14,y.setPendingSessionRequest(s);case 14:y.addSessionRequestToSessionRequestQueue(s),y.processSessionRequestQueue(),e.next=23;break;case 18:return e.prev=18,e.t4=e.catch(1),e.next=22,y.sendError(n,t,e.t4);case 22:y.client.logger.error(e.t4);case 23:case"end":return e.stop()}},e,null,[[1,18]])}));return function(e,t){return r.apply(this,arguments)}}(),y.onSessionRequestResponse=function(e,t){var r=t.id;an(t)?y.events.emit(lr("session_request",r),{result:t.result}):sn(t)&&y.events.emit(lr("session_request",r),{error:t.error})},y.onSessionEventRequest=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.id,i=r.params,e.prev=1,o="".concat(t,"_session_event_").concat(i.event.name),(a=zr.get(o))&&y.isRequestOutOfSync(a,n))return e.abrupt("return",void y.client.logger.info("Discarding out of sync request - ".concat(n)));e.next=5;break;case 5:y.isValidEmit(Eo({topic:t},i)),y.client.events.emit("session_event",{id:n,topic:t,params:i}),zr.set(o,n),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,y.sendError(n,t,e.t0);case 12:y.client.logger.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.addSessionRequestToSessionRequestQueue=function(e){y.sessionRequestQueue.queue.push(e)},y.cleanupAfterResponse=function(e){y.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(function(){y.sessionRequestQueue.state=go,y.processSessionRequestQueue()},(0,M.toMiliseconds)(y.requestQueueDelay))},y.processSessionRequestQueue=function(){if(y.sessionRequestQueue.state!==mo){var e=y.sessionRequestQueue.queue[0];if(e)try{y.sessionRequestQueue.state=mo,y.client.events.emit("session_request",e)}catch(e){y.client.logger.error(e)}else y.client.logger.info("session request queue is empty.")}else y.client.logger.info("session request queue is already active.")},y.onPairingCreated=function(t){var e;t.active||(e=y.client.proposal.getAll().find(function(e){return e.pairingTopic===t.topic}))&&y.onSessionProposeRequest(t.topic,Yr("wc_sessionPropose",{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer},e.id))},y.isValidConnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","connect() params: ".concat(JSON.stringify(t))),r=r.message,new Error(r);case 3:if(s=t.pairingTopic,n=t.requiredNamespaces,i=t.optionalNamespaces,o=t.sessionProperties,a=t.relays,e.t0=Or(s),e.t0){e.next=8;break}return e.next=8,y.isValidPairingTopic(s);case 8:if(function(e){var t=!1;return e?e&&kr(e)&&e.length&&e.forEach(function(e){t=jr(e)}):t=!0,t}(a)){e.next=11;break}throw s=_r("MISSING_OR_INVALID","connect() relays: ".concat(a)),s=s.message,new Error(s);case 11:Or(n)||0===Er(n)||y.validateNamespaces(n,"requiredNamespaces"),Or(i)||0===Er(i)||y.validateNamespaces(i,"optionalNamespaces"),Or(o)||y.validateSessionProps(o,"sessionProperties");case 12:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.validateNamespaces=function(e,t){var r,n,i,o,a,a=(r="connect()",n=t,a=null,(t=e)&&Er(t)?((e=Ir(t,r))&&(a=e),(t=(i=n,o=null,Object.entries(t).forEach(function(e){var t,r,n=_slicedToArray(e,2),e=n[0],n=n[1];o||(n=At(e=e,n),t="".concat("connect()"," ").concat(i),r=null,kr(n)&&n.length?n.forEach(function(e){r||Sr(e)||(r=xr("UNSUPPORTED_CHAINS","".concat(t,", chain ").concat(e,' should be a string and conform to "namespace:chainId" format')))}):Sr(e)||(r=xr("UNSUPPORTED_CHAINS","".concat(t,', chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }'))),(e=r)&&(o=e))}),o))&&(a=t)):a=_r("MISSING_OR_INVALID","".concat(r,", ").concat(n," should be an object with data")),a);if(a)throw new Error(a.message)},y.isValidApprove=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=2;break}throw new Error(_r("MISSING_OR_INVALID","approve() params: ".concat(t)).message);case 2:return r=t.id,n=t.namespaces,i=t.relayProtocol,o=t.sessionProperties,e.next=5,y.isValidProposalId(r);case 5:if(a=y.client.proposal.get(r),s=Ar(n,"approve()"))throw new Error(s.message);e.next=8;break;case 8:if(c=Nr(a.requiredNamespaces,n,"approve()"))throw new Error(c.message);e.next=11;break;case 11:if(Cr(i,!0)){e.next=14;break}throw c=_r("MISSING_OR_INVALID","approve() relayProtocol: ".concat(i)),c=c.message,new Error(c);case 14:Or(o)||y.validateSessionProps(o,"sessionProperties");case 15:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidReject=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(r)){e.next=3;break}throw n=_r("MISSING_OR_INVALID","reject() params: ".concat(r)),n=n.message,new Error(n);case 3:return o=r.id,i=r.reason,e.next=6,y.isValidProposalId(o);case 6:if((t=i)&&"object"==_typeof(t)&&t.code&&Rr(t.code,!1)&&t.message&&Cr(t.message,!1)){e.next=9;break}throw o=_r("MISSING_OR_INVALID","reject() reason: ".concat(JSON.stringify(i))),o=o.message,new Error(o);case 9:case"end":return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidSessionSettleRequest=function(e){if(!Pr(e)){var t=_r("MISSING_OR_INVALID","onSessionSettleRequest() params: ".concat(e)).message;throw new Error(t)}var r=e.relay,n=e.controller,t=e.namespaces,e=e.expiry;if(!jr(r)){var i=_r("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string").message;throw new Error(i)}Cr((i=null)==(n=n)?void 0:n.publicKey,!1)||(i=_r("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string"));if(i)throw new Error(i.message);t=Ar(t,"onSessionSettleRequest()");if(t)throw new Error(t.message);if(ur(e)){e=_r("EXPIRED","onSessionSettleRequest()").message;throw new Error(e)}},y.isValidUpdate=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","update() params: ".concat(t)),r=r.message,new Error(r);case 3:return n=t.topic,i=t.namespaces,e.next=6,y.isValidSessionTopic(n);case 6:if(o=y.client.session.get(n),a=Ar(i,"update()"))throw new Error(a.message);e.next=9;break;case 9:if(a=Nr(o.requiredNamespaces,i,"update()"))throw new Error(a.message);e.next=12;break;case 12:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidExtend=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","extend() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,y.isValidSessionTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(n){var i,o,a,s,c,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(n)){e.next=3;break}throw i=_r("MISSING_OR_INVALID","request() params: ".concat(n)),i=i.message,new Error(i);case 3:return o=n.topic,a=n.request,s=n.chainId,c=n.expiry,e.next=6,y.isValidSessionTopic(o);case 6:if(u=y.client.session.get(o),Lr(u=u.namespaces,s)){e.next=10;break}throw l=_r("MISSING_OR_INVALID","request() chainId: ".concat(s)),l=l.message,new Error(l);case 10:if(Or(r=a)||!Cr(r.method,!1))throw l=_r("MISSING_OR_INVALID","request() ".concat(JSON.stringify(a))),l=l.message,new Error(l);e.next=13;break;case 13:if(function(e,t,r){return Cr(r,!1)&&(n=t,i=[],Object.values(e).forEach(function(e){yr(e.accounts).includes(n)&&i.push.apply(i,_toConsumableArray(e.methods))}),i.includes(r));var n,i}(u,s,a.method)){e.next=16;break}throw f=_r("MISSING_OR_INVALID","request() method: ".concat(a.method)),f=f.message,new Error(f);case 16:if(!c||(t=ho,Rr(r=c,!1)&&r<=t.max&&r>=t.min)){e.next=19;break}throw f=_r("MISSING_OR_INVALID","request() expiry: ".concat(c,". Expiry must be a number (in seconds) between ").concat(ho.min," and ").concat(ho.max)),f=f.message,new Error(f);case 19:case"end":return e.stop()}var t,r},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidRespond=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(r)){e.next=3;break}throw n=_r("MISSING_OR_INVALID","respond() params: ".concat(r)),n=n.message,new Error(n);case 3:return o=r.topic,i=r.response,e.next=6,y.isValidSessionTopic(o);case 6:if(Or(t=i)||Or(t.result)&&Or(t.error)||!Rr(t.id,!1)||!Cr(t.jsonrpc,!1))throw o=_r("MISSING_OR_INVALID","respond() response: ".concat(JSON.stringify(i))),o=o.message,new Error(o);e.next=9;break;case 9:case"end":return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidPing=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","ping() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,y.isValidSessionOrPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidEmit=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(r){var n,i,o,a,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(r)){e.next=3;break}throw s=_r("MISSING_OR_INVALID","emit() params: ".concat(r)),s=s.message,new Error(s);case 3:return n=r.topic,i=r.event,o=r.chainId,e.next=6,y.isValidSessionTopic(n);case 6:if(s=y.client.session.get(n),Lr(a=s.namespaces,o)){e.next=10;break}throw s=_r("MISSING_OR_INVALID","emit() chainId: ".concat(o)),s=s.message,new Error(s);case 10:if(Or(t=i)||!Cr(t.name,!1))throw c=_r("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(i))),c=c.message,new Error(c);e.next=13;break;case 13:if(function(e,t,r){return Cr(r,!1)&&(n=t,i=[],Object.values(e).forEach(function(e){yr(e.accounts).includes(n)&&i.push.apply(i,_toConsumableArray(e.events))}),i.includes(r));var n,i}(a,o,i.name)){e.next=16;break}throw c=_r("MISSING_OR_INVALID","emit() event: ".concat(JSON.stringify(i))),c=c.message,new Error(c);case 16:case"end":return e.stop()}var t},e)}));return function(e){return t.apply(this,arguments)}}(),y.isValidDisconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Pr(t)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","disconnect() params: ".concat(t)),r=r.message,new Error(r);case 3:return r=t.topic,e.next=6,y.isValidSessionOrPairingTopic(r);case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y.getVerifyContext=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={verified:{verifyUrl:r.verifyUrl||Ri,validation:"UNKNOWN",origin:r.url||""}},e.prev=1,e.next=4,y.client.core.verify.resolve({attestationId:t,verifyUrl:r.verifyUrl});case 4:(i=e.sent)&&(n.verified.origin=i.origin,n.verified.isScam=i.isScam,n.verified.validation=i.origin===new URL(r.url).origin?"VALID":"INVALID"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y.client.logger.info(e.t0);case 11:return e.abrupt("return",(y.client.logger.info("Verify context: ".concat(JSON.stringify(n))),n));case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t){return r.apply(this,arguments)}}(),y.validateSessionProps=function(e,t){Object.values(e).forEach(function(e){if(!Cr(e,!1)){e=_r("MISSING_OR_INVALID","".concat(t," must be in Record<string, string> format. Received: ").concat(JSON.stringify(e))).message;throw new Error(e)}})},y}return _createClass(a,[{key:"isInitialized",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initialized){e.next=3;break}throw t=_r("NOT_INITIALIZED",this.name),t=t.message,new Error(t);case 3:return e.next=5,this.client.core.relayer.confirmOnlineStateOrThrow();case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"registerRelayerEvents",value:function(){var o=this;this.client.core.relayer.on(ni,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.topic,n=t.message,o.ignoredPayloadTypes.includes(o.client.core.crypto.getPayloadType(n)))return e.abrupt("return");e.next=3;break;case 3:return e.next=5,o.client.core.crypto.decode(r,n);case 5:if(i=e.sent,e.prev=6,!nn(i)){e.next=11;break}o.client.core.history.set(r,i),o.onRelayEventRequest({topic:r,payload:i}),e.next=20;break;case 11:if(on(i))return e.next=14,o.client.core.history.resolve(i);e.next=19;break;case 14:return e.next=16,o.onRelayEventResponse({topic:r,payload:i});case 16:o.client.core.history.delete(r,i.id),e.next=20;break;case 19:o.onRelayEventUnknownPayload({topic:r,payload:i});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),o.client.logger.error(e.t0);case 25:case"end":return e.stop()}},e,null,[[6,22]])}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerExpirerEvents",value:function(){var i=this;this.client.core.expirer.on(Oi,function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=sr(t.target),r=n.topic,(n=n.id)&&i.client.pendingRequest.keys.includes(n))return e.next=4,i.deletePendingSessionRequest(n,_r("EXPIRED"),!0);e.next=5;break;case 4:return e.abrupt("return",e.sent);case 5:if(!r){e.next=13;break}if(e.t0=i.client.session.keys.includes(r),e.t0)return e.next=10,i.deleteSession(r,!0);e.next=11;break;case 10:i.client.events.emit("session_expire",{topic:r});case 11:e.next=18;break;case 13:if(e.t1=n,e.t1)return e.next=17,i.deleteProposal(n,!0);e.next=18;break;case 17:i.client.events.emit("proposal_expire",{id:n});case 18:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"registerPairingEvents",value:function(){var t=this;this.client.core.pairing.events.on(bi,function(e){return t.onPairingCreated(e)})}},{key:"isValidPairingTopic",value:function(e){if(!Cr(e,!1)){var t=_r("MISSING_OR_INVALID","pairing topic should be a string: ".concat(e)).message;throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){t=_r("NO_MATCHING_KEY","pairing topic doesn't exist: ".concat(e)).message;throw new Error(t)}if(ur(this.client.core.pairing.pairings.get(e).expiry)){e=_r("EXPIRED","pairing topic: ".concat(e)).message;throw new Error(e)}}},{key:"isValidSessionTopic",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Cr(t,!1)){e.next=3;break}throw r=_r("MISSING_OR_INVALID","session topic should be a string: ".concat(t)),r=r.message,new Error(r);case 3:if(this.client.session.keys.includes(t)){e.next=6;break}throw n=_r("NO_MATCHING_KEY","session topic doesn't exist: ".concat(t)),n=n.message,new Error(n);case 6:if(ur(this.client.session.get(t).expiry))return e.next=9,this.deleteSession(t);e.next=11;break;case 9:throw n=_r("EXPIRED","session topic: ".concat(t)),n=n.message,new Error(n);case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"isValidSessionOrPairingTopic",value:(r=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client.session.keys.includes(t))return e.next=3,this.isValidSessionTopic(t);e.next=5;break;case 3:e.next=12;break;case 5:if(this.client.core.pairing.pairings.keys.includes(t)){e.next=11;break}if(Cr(t,!1))throw r=_r("NO_MATCHING_KEY","session or pairing topic doesn't exist: ".concat(t)),r=r.message,new Error(r);e.next=9;break;case 9:throw r=_r("MISSING_OR_INVALID","session or pairing topic should be a string: ".concat(t)),r=r.message,new Error(r);case 11:this.isValidPairingTopic(t);case 12:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"isValidProposalId",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"!=typeof t)throw r=_r("MISSING_OR_INVALID","proposal id should be a number: ".concat(t)),r=r.message,new Error(r);e.next=3;break;case 3:if(this.client.proposal.keys.includes(t)){e.next=6;break}throw n=_r("NO_MATCHING_KEY","proposal id doesn't exist: ".concat(t)),n=n.message,new Error(n);case 6:if(ur(this.client.proposal.get(t).expiry))return e.next=9,this.deleteProposal(t);e.next=11;break;case 9:throw n=_r("EXPIRED","proposal id: ".concat(t)),n=n.message,new Error(n);case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),a}(),Ro=function(){_inherits(i,Qi);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this,e,t,"proposal",co)).core=e,r.logger=t,r}return i}(),So=function(){_inherits(i,Qi);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this,e,t,"session",co)).core=e,r.logger=t,r}return i}(),To=function(){_inherits(i,Qi);var n=_createSuper(i);function i(e,t){var r;return _classCallCheck(this,i),(r=n.call(this,e,t,"request",co,function(e){return e.id})).core=e,r.logger=t,r}return i}(),n=function(){_inherits(i,v);var t,e,n=_createSuper(i);function i(e){var r;_classCallCheck(this,i),(r=n.call(this,e)).protocol="wc",r.version=2,r.name=uo,r.events=new b.EventEmitter,r.on=function(e,t){return r.events.on(e,t)},r.once=function(e,t){return r.events.once(e,t)},r.off=function(e,t){return r.events.off(e,t)},r.removeListener=function(e,t){return r.events.removeListener(e,t)},r.removeAllListeners=function(e){return r.events.removeAllListeners(e)},r.connect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.connect(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.pair=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.pair(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.approve=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.approve(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.reject=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.reject(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.update=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.update(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.extend=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.extend(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.request=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.request(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.respond=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.respond(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.ping=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.ping(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.emit=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.emit(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.disconnect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.engine.disconnect(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),r.logger.error(e.t0.message),e.t0;case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),r.find=function(e){try{return r.engine.find(e)}catch(e){throw r.logger.error(e.message),e}},r.getPendingSessionRequests=function(){try{return r.engine.getPendingSessionRequests()}catch(e){throw r.logger.error(e.message),e}},r.name=(null==e?void 0:e.name)||uo,r.metadata=(null==e?void 0:e.metadata)||(0,St.D)()||{name:"",description:"",url:"",icons:[""]};var t=_typeof(null==e?void 0:e.logger)<"u"&&"string"!=typeof(null==e?void 0:e.logger)?e.logger:(0,k.pino)((0,k.getDefaultLoggerOptions)({level:(null==e?void 0:e.logger)||"error"}));return r.core=(null==e?void 0:e.core)||new so(e),r.logger=(0,k.generateChildLogger)(t,r.name),r.session=new So(r.core,r.logger),r.proposal=new Ro(r.core,r.logger),r.pendingRequest=new To(r.core,r.logger),r.engine=new Co(_assertThisInitialized(r)),r}return _createClass(i,[{key:"initialize",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.trace("Initialized"),e.prev=1,e.next=4,this.core.start();case 4:return e.next=6,this.session.init();case 6:return e.next=8,this.proposal.init();case 8:return e.next=10,this.pendingRequest.init();case 10:return e.next=12,this.engine.init();case 12:this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(1),this.logger.info("SignClient Initialization Failure"),this.logger.error(e.t0.message),e.t0;case 19:case"end":return e.stop()}},e,this,[[1,16]])})),function(){return e.apply(this,arguments)})},{key:"context",get:function(){return(0,k.getLoggerContext)(this.logger)}},{key:"pairing",get:function(){return this.core.pairing.pairings}}],[{key:"init",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new i(t),e.next=3,r.initialize();case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),i}(),Io=Ao(5348);window.SignClient=n,window.WalletConnectModal=function(){function t(e){_classCallCheck(this,t),this.openModal=Io.jb.open,this.closeModal=Io.jb.close,this.subscribeModal=Io.jb.subscribe,this.setTheme=Io.ThemeCtrl.setThemeConfig,Io.ThemeCtrl.setThemeConfig(e),Io.ConfigCtrl.setConfig(e),this.initUi()}var e;return _createClass(t,[{key:"initUi",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(("undefined"==typeof window?"undefined":_typeof(window))<"u")return e.next=3,Promise.resolve().then(Ao.bind(Ao,8709));e.next=5;break;case 3:t=document.createElement("wcm-modal"),document.body.insertAdjacentElement("beforeend",t),Io.OptionsCtrl.setIsUiLoaded(!0);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})}]),t}()}()}();